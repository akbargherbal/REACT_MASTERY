<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appendix E Beyond the Hype</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --bg-main: #0f172a;
            --bg-card: #1e293b;
            --bg-code: #0f172a;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --border: #334155;
            --accent: #06b6d4;
            --success: #10b981;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.7; 
            color: var(--text-primary); 
            background: var(--bg-main);
        }
        
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 20px; 
        }
        
        .home-btn { 
            position: fixed; 
            top: 20px; 
            right: 20px; 
            background: var(--accent);
            color: white; 
            width: 50px;
            height: 50px;
            border-radius: 50%;
            text-decoration: none; 
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(6, 182, 212, 0.4);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .home-btn:hover { 
            background: #0891b2;
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(6, 182, 212, 0.5);
        }
        
        .breadcrumb { 
            background: var(--bg-card);
            padding: 12px 0; 
            margin-bottom: 24px; 
            font-size: 14px;
            border-radius: 8px;
            border: 1px solid var(--border);
        }
        
        .breadcrumb a { 
            color: var(--accent);
            text-decoration: none;
            transition: color 0.2s;
        }
        
        .breadcrumb a:hover { 
            color: var(--primary);
            text-decoration: underline;
        }
        
        .content { 
            background: var(--bg-card);
            padding: 3rem; 
            border-radius: 16px; 
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border);
        }
        
        .file-list { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); 
            gap: 1.5rem; 
            margin: 2rem 0; 
        }
        
        .file-item { 
            padding: 1.5rem; 
            border: 1px solid var(--border);
            border-radius: 12px; 
            background: var(--bg-main);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .file-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .file-item:hover { 
            transform: translateY(-4px); 
            box-shadow: 0 8px 30px rgba(99, 102, 241, 0.3);
            border-color: var(--primary);
        }
        
        .file-item:hover::before {
            opacity: 1;
        }
        
        .file-item a { 
            color: var(--text-primary);
            text-decoration: none; 
            font-weight: 600; 
            display: block;
            font-size: 1.1rem;
        }
        
        .file-item a:hover { 
            color: var(--primary);
        }
        
        .file-type { 
            font-size: 13px; 
            color: var(--text-secondary);
            margin-top: 8px; 
            font-weight: 500;
        }
        
        /* Code Blocks */
        pre { 
            background: var(--bg-code);
            padding: 1.5rem; 
            border-radius: 12px; 
            overflow-x: auto;
            border: 1px solid var(--border);
            margin: 1.5rem 0;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        pre code { 
            background: none;
            padding: 0;
            font-family: 'Fira Code', 'Consolas', monospace;
            font-size: 0.9em;
            line-height: 1.6;
        }
        
        /* Copy Button */
        .copy-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: var(--primary);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.2s;
            opacity: 0.7;
            z-index: 10;
        }
        
        .copy-btn:hover {
            opacity: 1;
            background: var(--primary-dark);
            transform: translateY(-1px);
        }
        
        .copy-btn.copied {
            background: var(--success);
        }
        
        pre:hover .copy-btn {
            opacity: 1;
        }
        
        /* Inline Code */
        code { 
            background: var(--bg-code);
            color: #8b5cf6;
            padding: 3px 8px; 
            border-radius: 6px; 
            font-size: 1.1em;
            font-family: 'Fira Code', 'Consolas', monospace;
            border: 1px solid var(--border);
        }
        
        /* Headings */
        h1, h2, h3, h4, h5, h6 { 
            color: var(--text-primary);
            margin: 2rem 0 1rem 0;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        
        h1 { 
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            border-bottom: 3px solid var(--primary);
            padding-bottom: 12px;
            margin-bottom: 1.5rem;
        }
        
        h2 { 
            font-size: 2rem;
            color: var(--primary);
            border-bottom: 2px solid var(--border);
            padding-bottom: 8px;
        }
        
        h3 { 
            font-size: 1.5rem;
            color: var(--accent);
        }
        
        /* Links */
        a { 
            color: var(--accent);
            transition: color 0.2s;
        }
        
        a:hover { 
            color: var(--primary);
        }
        
        /* Paragraphs */
        p {
            margin: 1rem 0;
            color: var(--text-secondary);
        }
        
        /* Lists */
        ul, ol {
            margin: 1rem 0;
            padding-left: 2rem;
            color: var(--text-secondary);
        }
        
        li {
            margin: 0.5rem 0;
        }
        
        /* Tables */
        table { 
            border-collapse: collapse;
            width: 100%;
            margin: 1.5rem 0;
            background: var(--bg-main);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        th, td { 
            border: 1px solid var(--border);
            padding: 12px 16px;
            text-align: left;
        }
        
        th { 
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: var(--bg-card);
        }
        
        /* Blockquotes */
        blockquote {
            border-left: 4px solid var(--primary);
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            background: var(--bg-main);
            border-radius: 0 8px 8px 0;
            color: var(--text-secondary);
            font-style: italic;
        }
        
        /* Horizontal Rule */
        hr {
            border: none;
            border-top: 2px solid var(--border);
            margin: 2rem 0;
        }
        
        .footer { 
            text-align: center; 
            padding: 2rem; 
            color: var(--text-secondary);
            border-top: 1px solid var(--border);
            margin-top: 3rem; 
            font-size: 14px;
        }
        
        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--bg-main);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 6px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary);
        }
        
        @media (max-width: 768px) {
            .container { padding: 10px; }
            .file-list { grid-template-columns: 1fr; }
            .content { padding: 1.5rem; }
            h1 { font-size: 2rem; }
            h2 { font-size: 1.5rem; }
        }
    </style>
</head>
<body>
    <a href="../index.html" class="home-btn">ğŸ </a>
    <div class="container">
        <div class="breadcrumb">
            <div style="padding: 0 20px;">
                <a href="../index.html">ğŸ  Home</a> <span style="color: #64748b;">/</span> <a href="index.html">APPENDICES</a>
            </div>
        </div>
        <div class="content">
            <h1 id="chapter-e-beyond-the-hype">Chapter E: Beyond the Hype</h1>
<h2 id="reacts-place-in-the-broader-ecosystem">React's place in the broader ecosystem</h2>
<h2 id="reacts-place-in-the-broader-ecosystem_1">React's place in the broader ecosystem</h2>
<p>You've spent hundreds of pages learning React and Next.js. You've built components, managed state, optimized performance, and deployed to production. Now it's time for the uncomfortable truth: <strong>React is not the answer to every problem</strong>.</p>
<p>This isn't a betrayal of everything you've learned. It's the mark of a mature developer: knowing when your favorite tool is the right choice, and when it's not.</p>
<h3 id="the-web-development-landscape-in-2025">The Web Development Landscape in 2025</h3>
<p>Let's establish where React actually sits in the modern web ecosystem. This isn't about declaring winners and losersâ€”it's about understanding the trade-offs each approach optimizes for.</p>
<p><strong>The Current Ecosystem</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                    </span><span class="n">Web</span><span class="w"> </span><span class="n">Development</span><span class="w"> </span><span class="n">Spectrum</span><span class="w">                  </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">                                                               </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Static</span><span class="w"> </span><span class="n">HTML</span><span class="o">/</span><span class="n">CSS</span><span class="w"> </span><span class="err">â”€â”€â†’</span><span class="w"> </span><span class="n">Progressive</span><span class="w"> </span><span class="n">Enhancement</span><span class="w"> </span><span class="err">â”€â”€â†’</span><span class="w"> </span><span class="n">SPAs</span><span class="w">        </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="p">(</span><span class="n">Hugo</span><span class="p">,</span><span class="w"> </span><span class="n">Jekyll</span><span class="p">)</span><span class="w">      </span><span class="p">(</span><span class="n">Astro</span><span class="p">,</span><span class="w"> </span><span class="n">Eleventy</span><span class="p">)</span><span class="w">          </span><span class="p">(</span><span class="n">React</span><span class="p">,</span><span class="w"> </span><span class="n">Vue</span><span class="p">)</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                               </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â†“</span><span class="w">                   </span><span class="err">â†“</span><span class="w">                           </span><span class="err">â†“</span><span class="w">            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Zero</span><span class="w"> </span><span class="n">JS</span><span class="w">             </span><span class="n">Minimal</span><span class="w"> </span><span class="n">JS</span><span class="w">                  </span><span class="n">Heavy</span><span class="w"> </span><span class="n">JS</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Perfect</span><span class="w"> </span><span class="n">SEO</span><span class="w">         </span><span class="n">Great</span><span class="w"> </span><span class="n">SEO</span><span class="w">                   </span><span class="n">Needs</span><span class="w"> </span><span class="n">SSR</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Instant</span><span class="w"> </span><span class="nb">load</span><span class="w">        </span><span class="n">Fast</span><span class="w"> </span><span class="nb">load</span><span class="w">                   </span><span class="n">Slow</span><span class="w"> </span><span class="n">initial</span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">No</span><span class="w"> </span><span class="n">interactivity</span><span class="w">    </span><span class="n">Selective</span><span class="w"> </span><span class="n">interactivity</span><span class="w">     </span><span class="n">Full</span><span class="w"> </span><span class="n">app</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                               </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<p>React lives on the right side of this spectrum. It's optimized for <strong>building complex, interactive applications</strong>. But that optimization comes with costs.</p>
<h3 id="what-react-actually-solves">What React Actually Solves</h3>
<p>Let's be precise about React's value proposition. React excels when you need:</p>
<p><strong>1. Complex, Stateful Interactions</strong></p>
<p>React's component model and state management shine when building interfaces where:
- User actions trigger cascading updates across multiple UI elements
- State needs to be synchronized between distant parts of the component tree
- The UI needs to respond to real-time data changes</p>
<p><strong>Example scenarios where React excels</strong>:
- Collaborative editing tools (Google Docs, Figma)
- Real-time dashboards with live data updates
- Complex forms with interdependent fields and validation
- E-commerce sites with shopping carts, filters, and dynamic pricing
- Social media feeds with infinite scroll and optimistic updates</p>
<p><strong>2. Component Reusability at Scale</strong></p>
<p>React's component model becomes valuable when:
- You're building a design system used across multiple products
- You need to maintain consistency across a large application
- Different teams need to share UI components
- You're building a component library for external consumption</p>
<p><strong>3. Rich Developer Ecosystem</strong></p>
<p>React's maturity provides:
- Battle-tested solutions for common problems (React Query, Zustand, React Hook Form)
- Extensive TypeScript support
- Robust debugging tools (React DevTools)
- Large community for troubleshooting
- Abundant learning resources and hiring pool</p>
<h3 id="what-react-doesnt-solve-and-the-costs-it-imposes">What React Doesn't Solve (And the Costs It Imposes)</h3>
<p><strong>The JavaScript Tax</strong></p>
<p>Every React application starts with a baseline cost:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Minimum</span><span class="w"> </span><span class="n">React</span><span class="w"> </span><span class="n">Bundle</span><span class="w"> </span><span class="p">(</span><span class="n">production</span><span class="p">,</span><span class="w"> </span><span class="n">gzipped</span><span class="p">):</span>
<span class="o">-</span><span class="w"> </span><span class="n">React</span><span class="w"> </span><span class="n">core</span><span class="p">:</span><span class="w"> </span><span class="o">~</span><span class="mi">6</span><span class="w"> </span><span class="n">KB</span>
<span class="o">-</span><span class="w"> </span><span class="n">React</span><span class="w"> </span><span class="n">DOM</span><span class="p">:</span><span class="w"> </span><span class="o">~</span><span class="mi">40</span><span class="w"> </span><span class="n">KB</span>
<span class="o">-</span><span class="w"> </span><span class="n">Your</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">code</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="o">-</span><span class="mi">500</span><span class="o">+</span><span class="w"> </span><span class="n">KB</span>
<span class="o">-</span><span class="w"> </span><span class="n">Total</span><span class="p">:</span><span class="w"> </span><span class="mi">96</span><span class="o">+</span><span class="w"> </span><span class="n">KB</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">app</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="n">anything</span>

<span class="n">Time</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">Interactive</span><span class="w"> </span><span class="p">(</span><span class="n">TTI</span><span class="p">):</span>
<span class="o">-</span><span class="w"> </span><span class="n">Download</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="o">-</span><span class="mi">500</span><span class="n">ms</span><span class="w"> </span><span class="p">(</span><span class="n">on</span><span class="w"> </span><span class="mi">3</span><span class="n">G</span><span class="p">)</span>
<span class="o">-</span><span class="w"> </span><span class="n">Parse</span><span class="o">/</span><span class="n">compile</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="o">-</span><span class="mi">800</span><span class="n">ms</span>
<span class="o">-</span><span class="w"> </span><span class="n">Hydration</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="o">-</span><span class="mi">500</span><span class="n">ms</span>
<span class="o">-</span><span class="w"> </span><span class="n">Total</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="o">-</span><span class="mi">1800</span><span class="n">ms</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">interactive</span>
</code></pre></div>

<p>For a blog post or marketing page, this is <strong>pure overhead</strong>. The user waits 1-2 seconds for JavaScript to load and execute before they can click a buttonâ€”when the same page could have been interactive immediately with plain HTML.</p>
<p><strong>The Complexity Tax</strong></p>
<p>React introduces architectural complexity:
- Build tooling (Vite, webpack, Next.js)
- State management decisions (local vs. global vs. server)
- Server/client boundary management (in Next.js)
- Hydration mismatches and debugging
- Performance optimization requirements</p>
<p>For simple sites, this complexity is <strong>accidental</strong>, not essential. You're solving problems React created, not problems your users have.</p>
<p><strong>The Maintenance Tax</strong></p>
<p>React's ecosystem moves fast:
- Major version updates every 1-2 years
- Breaking changes in dependencies
- Deprecated patterns (class components, legacy Context API)
- Security vulnerabilities in the dependency tree
- Framework churn (Create React App â†’ Vite â†’ Next.js â†’ ?)</p>
<p>A static HTML site from 2015 still works perfectly. A React app from 2015 requires significant refactoring to run on modern tooling.</p>
<h3 id="the-honest-assessment-when-react-makes-sense">The Honest Assessment: When React Makes Sense</h3>
<p>React is the right choice when:</p>
<p><strong>âœ… You're building an application, not a website</strong></p>
<p>If your project is primarily about <strong>user interaction</strong> rather than <strong>content consumption</strong>, React's strengths outweigh its costs.</p>
<p><strong>Application characteristics</strong>:
- Users spend minutes to hours in a single session
- The UI updates frequently based on user actions
- State management is complex (shopping cart, multi-step forms, real-time collaboration)
- You need offline functionality or client-side data persistence
- The experience is fundamentally interactive (drag-and-drop, real-time updates)</p>
<p><strong>âœ… You have complex state synchronization needs</strong></p>
<p>If your UI has multiple components that need to stay in sync, React's unidirectional data flow and state management tools provide real value.</p>
<p><strong>âœ… You're building for a team</strong></p>
<p>If multiple developers will work on the codebase over years, React's component model and TypeScript integration provide structure and maintainability.</p>
<p><strong>âœ… You need a rich ecosystem</strong></p>
<p>If you're building features that benefit from existing libraries (data tables, forms, charts, animations), React's ecosystem is unmatched.</p>
<p><strong>âœ… Performance is acceptable with optimization</strong></p>
<p>If you can achieve acceptable performance with code splitting, lazy loading, and SSR/SSG (via Next.js), React's developer experience benefits are worth the baseline cost.</p>
<h3 id="the-honest-assessment-when-react-doesnt-make-sense">The Honest Assessment: When React Doesn't Make Sense</h3>
<p>React is the wrong choice when:</p>
<p><strong>âŒ You're building content-focused sites</strong></p>
<p>If your project is primarily about <strong>delivering content</strong> (blogs, documentation, marketing sites, portfolios), React's JavaScript overhead hurts more than it helps.</p>
<p><strong>Content site characteristics</strong>:
- Users read more than they interact
- Most pages are static or change infrequently
- SEO and initial load performance are critical
- Interactivity is minimal (maybe a contact form or search)
- You don't need client-side routing</p>
<p><strong>Better alternatives</strong>: Astro, Hugo, Jekyll, Eleventy, or plain HTML/CSS with progressive enhancement.</p>
<p><strong>âŒ Performance is non-negotiable</strong></p>
<p>If you're building for:
- Emerging markets with slow networks and low-end devices
- Users on metered connections
- Scenarios where every millisecond of load time matters (e-commerce conversion optimization)</p>
<p>React's baseline JavaScript cost is a fundamental limitation. Even with perfect optimization, you can't beat the performance of HTML that works without JavaScript.</p>
<p><strong>âŒ You're a solo developer building a simple project</strong></p>
<p>If you're building a personal project or small business site, React's complexity is overhead you don't need. The time you spend configuring build tools and managing dependencies could be spent building features.</p>
<p><strong>âŒ You need maximum longevity with minimal maintenance</strong></p>
<p>If you want to build something once and have it work for 10+ years with minimal updates, static HTML is far more durable than any JavaScript framework.</p>
<h3 id="reacts-actual-position-a-powerful-tool-with-a-specific-domain">React's Actual Position: A Powerful Tool with a Specific Domain</h3>
<p>React is not "the best framework" or "the future of web development." It's a <strong>sophisticated tool optimized for building complex, interactive applications</strong>.</p>
<p><strong>The mental model</strong>:</p>
<div class="codehilite"><pre><span></span><code>Problem Complexity
     â†‘
     â”‚                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                                    â”‚   React     â”‚
     â”‚                                    â”‚  (Complex   â”‚
     â”‚                                    â”‚   Apps)     â”‚
     â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                          â”‚   Astro/Eleventy      â”‚
     â”‚                          â”‚  (Progressive         â”‚
     â”‚                          â”‚   Enhancement)        â”‚
     â”‚                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                â”‚   Static HTML/CSS               â”‚
     â”‚                â”‚  (Content Sites)                â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â†’
                                              JavaScript Complexity
</code></pre></div>

<p>React sits in the upper-right quadrant: high problem complexity, high JavaScript complexity. It's the right tool when both are justified. It's the wrong tool when you're adding JavaScript complexity without corresponding problem complexity.</p>
<h3 id="the-professional-developers-perspective">The Professional Developer's Perspective</h3>
<p>A professional React developer should be able to say:</p>
<blockquote>
<p>"I'm an expert in React, and for this project, I recommend we don't use React."</p>
</blockquote>
<p>That's not a contradiction. It's wisdom. You understand React deeply enough to know its limitations. You care more about solving the user's problem than using your favorite tool.</p>
<p><strong>The decision framework</strong>:</p>
<ol>
<li><strong>Start with the user's needs</strong>: What are they trying to accomplish?</li>
<li><strong>Identify the core complexity</strong>: Is it content delivery or application logic?</li>
<li><strong>Choose the simplest tool that solves the problem</strong>: Prefer less JavaScript, not more.</li>
<li><strong>Justify additional complexity</strong>: Every framework, library, and abstraction must earn its place.</li>
</ol>
<p>React has earned its place in the ecosystem by solving real problems for complex applications. But it hasn't earned a place in every project.</p>
<h3 id="looking-forward-reacts-evolution">Looking Forward: React's Evolution</h3>
<p>React continues to evolve, and some of its recent developments address its historical weaknesses:</p>
<p><strong>Server Components</strong> (React 18+, Next.js 13+):
- Reduce client-side JavaScript by rendering components on the server
- Blur the line between React and static site generators
- Make React more viable for content-heavy sites</p>
<p><strong>Streaming SSR</strong>:
- Improve Time to First Byte (TTFB) and perceived performance
- Allow progressive rendering of complex pages</p>
<p><strong>Concurrent Rendering</strong>:
- Better handling of expensive updates
- Improved user experience during heavy computation</p>
<p>These features make React more competitive with lighter-weight alternatives. But they also add complexity. The fundamental trade-off remains: React gives you power at the cost of complexity.</p>
<h3 id="the-ecosystem-reality">The Ecosystem Reality</h3>
<p>In 2025, the web development ecosystem is <strong>pluralistic</strong>. There's no single "best" approach:</p>
<ul>
<li><strong>Astro</strong> is excellent for content sites with islands of interactivity</li>
<li><strong>SvelteKit</strong> offers a lighter-weight alternative to Next.js</li>
<li><strong>Remix</strong> provides a different take on server-side React</li>
<li><strong>Solid.js</strong> delivers React-like DX with better performance</li>
<li><strong>HTMX</strong> enables interactivity without a JavaScript framework</li>
<li><strong>Qwik</strong> optimizes for instant interactivity with resumability</li>
</ul>
<p>React is one option among many. A good option for many use cases, but not the only option, and not always the best option.</p>
<h3 id="your-responsibility-as-a-react-developer">Your Responsibility as a React Developer</h3>
<p>You've invested significant time learning React. That investment is valuableâ€”React skills are in high demand and will remain relevant for years. But don't let that investment bias your technical decisions.</p>
<p><strong>Your responsibility</strong>:</p>
<ol>
<li><strong>Understand React's trade-offs deeply</strong>: Know what you're paying for and what you're getting.</li>
<li><strong>Learn the alternatives</strong>: Understand when other tools are better suited.</li>
<li><strong>Advocate for the user</strong>: Choose tools based on user needs, not developer preferences.</li>
<li><strong>Stay humble</strong>: The best framework is the one that solves the problem with the least complexity.</li>
</ol>
<p>React is a powerful tool. Use it wisely.</p>
<h2 id="when-to-consider-alternatives">When to consider alternatives</h2>
<h2 id="when-to-consider-alternatives_1">When to consider alternatives</h2>
<p>Let's move from philosophy to practice. You're starting a new project. How do you decide whether React is the right choice? This section provides a systematic decision framework with concrete examples.</p>
<h3 id="the-decision-framework-start-with-constraints">The Decision Framework: Start with Constraints</h3>
<p>Before evaluating frameworks, identify your project's constraints. These are non-negotiable requirements that eliminate certain options.</p>
<p><strong>Critical constraints to identify</strong>:</p>
<ol>
<li><strong>Performance budget</strong>: What's the maximum acceptable Time to Interactive (TTI)?</li>
<li><strong>Target audience</strong>: What devices and network conditions do they use?</li>
<li><strong>SEO requirements</strong>: How critical is search engine visibility?</li>
<li><strong>Team expertise</strong>: What does your team already know?</li>
<li><strong>Maintenance capacity</strong>: How much ongoing maintenance can you sustain?</li>
<li><strong>Timeline</strong>: How quickly do you need to ship?</li>
</ol>
<p>Let's work through real scenarios to see how these constraints guide decisions.</p>
<h3 id="scenario-1-marketing-website-for-a-saas-product">Scenario 1: Marketing Website for a SaaS Product</h3>
<p><strong>Project requirements</strong>:
- 5-10 pages (home, features, pricing, about, blog)
- Contact form and email signup
- Blog with 50+ articles
- Excellent SEO required (primary acquisition channel)
- Fast load times critical (conversion optimization)
- Small team (2 developers)
- Infrequent updates (monthly blog posts)</p>
<p><strong>Constraint analysis</strong>:</p>
<div class="codehilite"><pre><span></span><code>Performance budget: &lt; 1s TTI (conversion-critical)
Target audience: Global, mixed network conditions
SEO requirements: Critical (organic search is primary channel)
Team expertise: 2 developers, comfortable with HTML/CSS/JS
Maintenance capacity: Low (small team, other priorities)
Timeline: 4 weeks to launch
</code></pre></div>

<p><strong>React evaluation</strong>:</p>
<p>âŒ <strong>Performance</strong>: React's baseline ~100KB + hydration time exceeds budget
âŒ <strong>SEO</strong>: Possible with Next.js SSG, but adds complexity
âŒ <strong>Maintenance</strong>: React ecosystem churn requires ongoing updates
âŒ <strong>Complexity</strong>: Build tooling, deployment, and optimization overhead
âœ… <strong>Team expertise</strong>: Team could learn React, but it's not necessary</p>
<p><strong>Verdict</strong>: React is the wrong choice.</p>
<p><strong>Better alternative</strong>: <strong>Astro</strong> or <strong>Hugo</strong></p>
<p><strong>Why Astro</strong>:
- Zero JavaScript by default (perfect for content)
- Can add React components for interactive elements (contact form)
- Excellent SEO (static HTML)
- Fast builds and deploys
- Minimal maintenance (no framework updates)</p>
<p><strong>Implementation approach</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Create Astro project</span>
npm<span class="w"> </span>create<span class="w"> </span>astro@latest<span class="w"> </span>saas-marketing

<span class="c1"># Project structure</span>
src/
â”œâ”€â”€<span class="w"> </span>pages/
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>index.astro<span class="w">          </span><span class="c1"># Home page (static)</span>
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>features.astro<span class="w">       </span><span class="c1"># Features page (static)</span>
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>pricing.astro<span class="w">        </span><span class="c1"># Pricing page (static)</span>
â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>blog/
â”‚<span class="w">       </span>â””â”€â”€<span class="w"> </span><span class="o">[</span>...slug<span class="o">]</span>.astro<span class="w">  </span><span class="c1"># Blog posts (static)</span>
â”œâ”€â”€<span class="w"> </span>components/
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>ContactForm.tsx<span class="w">      </span><span class="c1"># React component (interactive)</span>
â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>EmailSignup.tsx<span class="w">      </span><span class="c1"># React component (interactive)</span>
â””â”€â”€<span class="w"> </span>layouts/
<span class="w">    </span>â””â”€â”€<span class="w"> </span>Layout.astro<span class="w">         </span><span class="c1"># Shared layout</span>
</code></pre></div>

<p><strong>Contact form</strong> (the only interactive element):</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/components/ContactForm.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">ContactForm</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">status</span><span class="p">,</span><span class="w"> </span><span class="nx">setStatus</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="o">&lt;</span><span class="s1">&#39;idle&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;submitting&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;success&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;error&#39;</span><span class="o">&gt;</span><span class="p">(</span><span class="s1">&#39;idle&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleSubmit</span><span class="p">(</span><span class="nx">e</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FormEvent</span><span class="p">&lt;</span><span class="nt">HTMLFormElement</span><span class="p">&gt;)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
<span class="w">    </span><span class="nx">setStatus</span><span class="p">(</span><span class="s1">&#39;submitting&#39;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">FormData</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">currentTarget</span><span class="p">);</span>

<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/api/contact&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="kt">formData</span><span class="p">,</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">setStatus</span><span class="p">(</span><span class="s1">&#39;success&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">setStatus</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">setStatus</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">form</span><span class="w"> </span><span class="na">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="nx">handleSubmit</span><span class="p">}</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;space-y-4&quot;</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">        </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;email&quot;</span>
<span class="w">        </span><span class="na">name</span><span class="o">=</span><span class="s">&quot;email&quot;</span>
<span class="w">        </span><span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Your email&quot;</span>
<span class="w">        </span><span class="na">required</span>
<span class="w">        </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;w-full px-4 py-2 border rounded&quot;</span>
<span class="w">      </span><span class="p">/&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">textarea</span>
<span class="w">        </span><span class="na">name</span><span class="o">=</span><span class="s">&quot;message&quot;</span>
<span class="w">        </span><span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Your message&quot;</span>
<span class="w">        </span><span class="na">required</span>
<span class="w">        </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;w-full px-4 py-2 border rounded&quot;</span>
<span class="w">      </span><span class="p">/&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">button</span>
<span class="w">        </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span>
<span class="w">        </span><span class="na">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">status</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;submitting&#39;</span><span class="p">}</span>
<span class="w">        </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;px-6 py-2 bg-blue-600 text-white rounded&quot;</span>
<span class="w">      </span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">status</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;submitting&#39;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;Sending...&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Send Message&#39;</span><span class="p">}</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="nx">status</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;success&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;text-green-600&quot;</span><span class="p">&gt;</span><span class="nx">Message</span><span class="w"> </span><span class="nx">sent</span><span class="w"> </span><span class="nx">successfully</span><span class="o">!</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">)}</span>
<span class="w">      </span><span class="p">{</span><span class="nx">status</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;error&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;text-red-600&quot;</span><span class="p">&gt;</span><span class="nx">Failed</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">send</span><span class="w"> </span><span class="nx">message</span><span class="p">.</span><span class="w"> </span><span class="nx">Please</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="nx">again</span><span class="p">.&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">)}</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Using the React component in Astro</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="o">---</span>
<span class="o">//</span> <span class="n">src</span><span class="o">/</span><span class="n">pages</span><span class="o">/</span><span class="n">contact</span><span class="o">.</span><span class="n">astro</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">Layout</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;../layouts/Layout.astro&#39;</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">ContactForm</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;../components/ContactForm&#39;</span><span class="p">;</span>
<span class="o">---</span>

<span class="o">&lt;</span><span class="n">Layout</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Contact Us&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">Get</span> <span class="ow">in</span> <span class="n">Touch</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">We</span><span class="s1">&#39;d love to hear from you.&lt;/p&gt;</span>

  <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Only</span> <span class="n">this</span> <span class="n">component</span> <span class="n">loads</span> <span class="n">JavaScript</span> <span class="o">--&gt;</span>
  <span class="o">&lt;</span><span class="n">ContactForm</span> <span class="n">client</span><span class="p">:</span><span class="n">load</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">Layout</span><span class="o">&gt;</span>
</code></pre></div>

<p><strong>Result</strong>:
- <strong>Home page</strong>: 0 KB JavaScript, instant interactivity
- <strong>Blog pages</strong>: 0 KB JavaScript, instant interactivity
- <strong>Contact page</strong>: ~15 KB JavaScript (only the form component)
- <strong>TTI</strong>: &lt; 500ms on 3G
- <strong>SEO</strong>: Perfect (static HTML)
- <strong>Maintenance</strong>: Minimal (Astro is stable, no framework churn)</p>
<p><strong>Cost comparison</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">React</span><span class="w"> </span><span class="ss">(</span><span class="k">Next</span>.<span class="nv">js</span><span class="ss">)</span><span class="w"> </span><span class="nv">approach</span>:
<span class="o">-</span><span class="w"> </span><span class="nv">Initial</span><span class="w"> </span><span class="nv">bundle</span>:<span class="w"> </span><span class="mi">100</span><span class="o">+</span><span class="w"> </span><span class="nv">KB</span>
<span class="o">-</span><span class="w"> </span><span class="nv">TTI</span>:<span class="w"> </span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span><span class="nv">s</span><span class="w"> </span><span class="nv">on</span><span class="w"> </span><span class="mi">3</span><span class="nv">G</span>
<span class="o">-</span><span class="w"> </span><span class="nv">Build</span><span class="w"> </span><span class="nv">complexity</span>:<span class="w"> </span><span class="nv">High</span>
<span class="o">-</span><span class="w"> </span><span class="nv">Maintenance</span>:<span class="w"> </span><span class="nv">Ongoing</span><span class="w"> </span><span class="nv">framework</span><span class="w"> </span><span class="nv">updates</span>

<span class="nv">Astro</span><span class="w"> </span><span class="nv">approach</span>:
<span class="o">-</span><span class="w"> </span><span class="nv">Initial</span><span class="w"> </span><span class="nv">bundle</span>:<span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nv">KB</span><span class="w"> </span><span class="ss">(</span><span class="mi">15</span><span class="w"> </span><span class="nv">KB</span><span class="w"> </span><span class="nv">on</span><span class="w"> </span><span class="nv">contact</span><span class="w"> </span><span class="nv">page</span><span class="w"> </span><span class="nv">only</span><span class="ss">)</span>
<span class="o">-</span><span class="w"> </span><span class="nv">TTI</span>:<span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">500</span><span class="nv">ms</span>
<span class="o">-</span><span class="w"> </span><span class="nv">Build</span><span class="w"> </span><span class="nv">complexity</span>:<span class="w"> </span><span class="nv">Low</span>
<span class="o">-</span><span class="w"> </span><span class="nv">Maintenance</span>:<span class="w"> </span><span class="nv">Minimal</span>
</code></pre></div>

<p>The Astro approach delivers better performance, better SEO, and lower maintenanceâ€”all while still using React for the one component that needs interactivity.</p>
<h3 id="scenario-2-internal-admin-dashboard">Scenario 2: Internal Admin Dashboard</h3>
<p><strong>Project requirements</strong>:
- Complex data tables with sorting, filtering, pagination
- Real-time updates from WebSocket
- Multi-step forms with validation
- Role-based access control
- 20+ screens
- Used by 50 internal employees (all on modern browsers, good network)
- Frequent feature additions</p>
<p><strong>Constraint analysis</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Performance</span><span class="w"> </span><span class="n">budget</span><span class="p">:</span><span class="w"> </span><span class="n">Flexible</span><span class="w"> </span><span class="p">(</span><span class="n">internal</span><span class="w"> </span><span class="k">tool</span><span class="p">,</span><span class="w"> </span><span class="n">good</span><span class="w"> </span><span class="n">network</span><span class="p">)</span>
<span class="n">Target</span><span class="w"> </span><span class="n">audience</span><span class="p">:</span><span class="w"> </span><span class="n">Internal</span><span class="w"> </span><span class="n">employees</span><span class="p">,</span><span class="w"> </span><span class="n">modern</span><span class="w"> </span><span class="n">browsers</span>
<span class="n">SEO</span><span class="w"> </span><span class="n">requirements</span><span class="p">:</span><span class="w"> </span><span class="n">None</span><span class="w"> </span><span class="p">(</span><span class="n">behind</span><span class="w"> </span><span class="n">authentication</span><span class="p">)</span>
<span class="n">Team</span><span class="w"> </span><span class="n">expertise</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">developers</span><span class="p">,</span><span class="w"> </span><span class="n">experienced</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">React</span>
<span class="n">Maintenance</span><span class="w"> </span><span class="n">capacity</span><span class="p">:</span><span class="w"> </span><span class="n">High</span><span class="w"> </span><span class="p">(</span><span class="n">active</span><span class="w"> </span><span class="n">development</span><span class="p">)</span>
<span class="n">Timeline</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">months</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">MVP</span><span class="p">,</span><span class="w"> </span><span class="n">ongoing</span><span class="w"> </span><span class="n">development</span>
</code></pre></div>

<p><strong>React evaluation</strong>:</p>
<p>âœ… <strong>Complexity</strong>: Dashboard has complex state management needs
âœ… <strong>Interactivity</strong>: Highly interactive, not content-focused
âœ… <strong>Team expertise</strong>: Team is already proficient in React
âœ… <strong>Ecosystem</strong>: Can leverage React Query, TanStack Table, React Hook Form
âœ… <strong>Performance</strong>: Acceptable for internal tool with good network
âœ… <strong>Maintenance</strong>: Active development justifies framework investment</p>
<p><strong>Verdict</strong>: React is the right choice.</p>
<p><strong>Recommended stack</strong>: <strong>Next.js + React Query + Zustand + TanStack Table</strong></p>
<p><strong>Why this stack</strong>:
- <strong>Next.js</strong>: API routes, authentication, file-based routing
- <strong>React Query</strong>: Server state management, real-time updates
- <strong>Zustand</strong>: Global client state (user preferences, UI state)
- <strong>TanStack Table</strong>: Powerful, flexible data tables
- <strong>React Hook Form + Zod</strong>: Type-safe form handling</p>
<p><strong>Implementation approach</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Project structure</span>
src/
â”œâ”€â”€<span class="w"> </span>app/
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span><span class="o">(</span>auth<span class="o">)</span>/
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>login/
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>page.tsx
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>layout.tsx
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span><span class="o">(</span>dashboard<span class="o">)</span>/
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>users/
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>page.tsx<span class="w">          </span><span class="c1"># User list with table</span>
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span><span class="o">[</span>id<span class="o">]</span>/
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”‚<span class="w">       </span>â””â”€â”€<span class="w"> </span>page.tsx<span class="w">      </span><span class="c1"># User detail</span>
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>products/
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>page.tsx
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>layout.tsx<span class="w">            </span><span class="c1"># Dashboard layout with nav</span>
â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>api/
â”‚<span class="w">       </span>â”œâ”€â”€<span class="w"> </span>users/
â”‚<span class="w">       </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>route.ts
â”‚<span class="w">       </span>â””â”€â”€<span class="w"> </span>auth/
â”‚<span class="w">           </span>â””â”€â”€<span class="w"> </span><span class="o">[</span>...nextauth<span class="o">]</span>/
â”‚<span class="w">               </span>â””â”€â”€<span class="w"> </span>route.ts
â”œâ”€â”€<span class="w"> </span>components/
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>tables/
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>UserTable.tsx
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>forms/
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>UserForm.tsx
â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>ui/<span class="w">                       </span><span class="c1"># shadcn/ui components</span>
â””â”€â”€<span class="w"> </span>lib/
<span class="w">    </span>â”œâ”€â”€<span class="w"> </span>api.ts<span class="w">                    </span><span class="c1"># API client</span>
<span class="w">    </span>â”œâ”€â”€<span class="w"> </span>auth.ts<span class="w">                   </span><span class="c1"># NextAuth config</span>
<span class="w">    </span>â””â”€â”€<span class="w"> </span>store.ts<span class="w">                  </span><span class="c1"># Zustand store</span>
</code></pre></div>

<p><strong>User table with TanStack Table</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/components/tables/UserTable.tsx</span>
<span class="s1">&#39;use client&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useQuery</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@tanstack/react-query&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">useReactTable</span><span class="p">,</span>
<span class="w">  </span><span class="nx">getCoreRowModel</span><span class="p">,</span>
<span class="w">  </span><span class="nx">getSortedRowModel</span><span class="p">,</span>
<span class="w">  </span><span class="nx">getFilteredRowModel</span><span class="p">,</span>
<span class="w">  </span><span class="nx">getPaginationRowModel</span><span class="p">,</span>
<span class="w">  </span><span class="nx">flexRender</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@tanstack/react-table&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">User</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">role</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">status</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;active&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;inactive&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">UserTable</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">sorting</span><span class="p">,</span><span class="w"> </span><span class="nx">setSorting</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">([]);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">filtering</span><span class="p">,</span><span class="w"> </span><span class="nx">setFiltering</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">pagination</span><span class="p">,</span><span class="w"> </span><span class="nx">setPagination</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">({</span>
<span class="w">    </span><span class="nx">pageIndex</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span>
<span class="w">    </span><span class="nx">pageSize</span><span class="o">:</span><span class="w"> </span><span class="kt">10</span><span class="p">,</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="c1">// Fetch users with React Query</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">isLoading</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useQuery</span><span class="p">({</span>
<span class="w">    </span><span class="nx">queryKey</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;users&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">pagination</span><span class="p">,</span><span class="w"> </span><span class="nx">sorting</span><span class="p">,</span><span class="w"> </span><span class="nx">filtering</span><span class="p">],</span>
<span class="w">    </span><span class="nx">queryFn</span><span class="o">:</span><span class="w"> </span><span class="kt">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URLSearchParams</span><span class="p">({</span>
<span class="w">        </span><span class="nx">page</span><span class="o">:</span><span class="w"> </span><span class="kt">pagination.pageIndex.toString</span><span class="p">(),</span>
<span class="w">        </span><span class="nx">pageSize</span><span class="o">:</span><span class="w"> </span><span class="kt">pagination.pageSize.toString</span><span class="p">(),</span>
<span class="w">        </span><span class="nx">sort</span><span class="o">:</span><span class="w"> </span><span class="kt">JSON.stringify</span><span class="p">(</span><span class="nx">sorting</span><span class="p">),</span>
<span class="w">        </span><span class="nx">filter</span><span class="o">:</span><span class="w"> </span><span class="kt">filtering</span><span class="p">,</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="sb">`/api/users?</span><span class="si">${</span><span class="nx">params</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">&#39;Failed to fetch users&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">columns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">accessorKey</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;name&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">header</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Name&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">accessorKey</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;email&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">header</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Email&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">accessorKey</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;role&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">header</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Role&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">accessorKey</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;status&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">header</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Status&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">cell</span><span class="o">:</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">getValue</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getValue</span><span class="p">()</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">span</span>
<span class="w">            </span><span class="na">className</span><span class="o">=</span><span class="p">{</span><span class="sb">`px-2 py-1 rounded text-sm </span><span class="si">${</span>
<span class="w">              </span><span class="nx">status</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;active&#39;</span>
<span class="w">                </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;bg-green-100 text-green-800&#39;</span>
<span class="w">                </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bg-gray-100 text-gray-800&#39;</span>
<span class="w">            </span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
<span class="w">          </span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="nx">status</span><span class="p">}</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">];</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useReactTable</span><span class="p">({</span>
<span class="w">    </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">data?.users</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="p">[],</span>
<span class="w">    </span><span class="nx">columns</span><span class="p">,</span>
<span class="w">    </span><span class="nx">state</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">sorting</span><span class="p">,</span>
<span class="w">      </span><span class="nx">globalFilter</span><span class="o">:</span><span class="w"> </span><span class="kt">filtering</span><span class="p">,</span>
<span class="w">      </span><span class="nx">pagination</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">onSortingChange</span><span class="o">:</span><span class="w"> </span><span class="kt">setSorting</span><span class="p">,</span>
<span class="w">    </span><span class="nx">onGlobalFilterChange</span><span class="o">:</span><span class="w"> </span><span class="kt">setFiltering</span><span class="p">,</span>
<span class="w">    </span><span class="nx">onPaginationChange</span><span class="o">:</span><span class="w"> </span><span class="kt">setPagination</span><span class="p">,</span>
<span class="w">    </span><span class="nx">getCoreRowModel</span><span class="o">:</span><span class="w"> </span><span class="kt">getCoreRowModel</span><span class="p">(),</span>
<span class="w">    </span><span class="nx">getSortedRowModel</span><span class="o">:</span><span class="w"> </span><span class="kt">getSortedRowModel</span><span class="p">(),</span>
<span class="w">    </span><span class="nx">getFilteredRowModel</span><span class="o">:</span><span class="w"> </span><span class="kt">getFilteredRowModel</span><span class="p">(),</span>
<span class="w">    </span><span class="nx">getPaginationRowModel</span><span class="o">:</span><span class="w"> </span><span class="kt">getPaginationRowModel</span><span class="p">(),</span>
<span class="w">    </span><span class="nx">manualPagination</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
<span class="w">    </span><span class="nx">pageCount</span><span class="o">:</span><span class="w"> </span><span class="kt">data?.pageCount</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isLoading</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="nx">Loading</span><span class="w"> </span><span class="nx">users</span><span class="p">...&lt;/</span><span class="nt">div</span><span class="p">&gt;;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="ne">Error</span><span class="w"> </span><span class="nx">loading</span><span class="w"> </span><span class="nx">users</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;;</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;space-y-4&quot;</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">        </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span>
<span class="w">        </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">filtering</span><span class="p">}</span>
<span class="w">        </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setFiltering</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">        </span><span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Search users...&quot;</span>
<span class="w">        </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;px-4 py-2 border rounded&quot;</span>
<span class="w">      </span><span class="p">/&gt;</span>

<span class="w">      </span><span class="p">&lt;</span><span class="nt">table</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;w-full border-collapse&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">thead</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">{</span><span class="nx">table</span><span class="p">.</span><span class="nx">getHeaderGroups</span><span class="p">().</span><span class="nx">map</span><span class="p">((</span><span class="nx">headerGroup</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">tr</span><span class="w"> </span><span class="na">key</span><span class="o">=</span><span class="p">{</span><span class="nx">headerGroup</span><span class="p">.</span><span class="nx">id</span><span class="p">}&gt;</span>
<span class="w">              </span><span class="p">{</span><span class="nx">headerGroup</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">header</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">th</span>
<span class="w">                  </span><span class="na">key</span><span class="o">=</span><span class="p">{</span><span class="nx">header</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span>
<span class="w">                  </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">header</span><span class="p">.</span><span class="nx">column</span><span class="p">.</span><span class="nx">getToggleSortingHandler</span><span class="p">()}</span>
<span class="w">                  </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;px-4 py-2 text-left border-b cursor-pointer hover:bg-gray-50&quot;</span>
<span class="w">                </span><span class="p">&gt;</span>
<span class="w">                  </span><span class="p">{</span><span class="nx">flexRender</span><span class="p">(</span>
<span class="w">                    </span><span class="nx">header</span><span class="p">.</span><span class="nx">column</span><span class="p">.</span><span class="nx">columnDef</span><span class="p">.</span><span class="nx">header</span><span class="p">,</span>
<span class="w">                    </span><span class="nx">header</span><span class="p">.</span><span class="nx">getContext</span><span class="p">()</span>
<span class="w">                  </span><span class="p">)}</span>
<span class="w">                  </span><span class="p">{</span><span class="nx">header</span><span class="p">.</span><span class="nx">column</span><span class="p">.</span><span class="nx">getIsSorted</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">                    </span><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;ml-2&quot;</span><span class="p">&gt;</span>
<span class="w">                      </span><span class="p">{</span><span class="nx">header</span><span class="p">.</span><span class="nx">column</span><span class="p">.</span><span class="nx">getIsSorted</span><span class="p">()</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;asc&#39;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;â†‘&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;â†“&#39;</span><span class="p">}</span>
<span class="w">                    </span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="w">                  </span><span class="p">)}</span>
<span class="w">                </span><span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">))}</span>
<span class="w">            </span><span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">))}</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">thead</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">tbody</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">{</span><span class="nx">table</span><span class="p">.</span><span class="nx">getRowModel</span><span class="p">().</span><span class="nx">rows</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">row</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">tr</span><span class="w"> </span><span class="na">key</span><span class="o">=</span><span class="p">{</span><span class="nx">row</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;hover:bg-gray-50&quot;</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">{</span><span class="nx">row</span><span class="p">.</span><span class="nx">getVisibleCells</span><span class="p">().</span><span class="nx">map</span><span class="p">((</span><span class="nx">cell</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">td</span><span class="w"> </span><span class="na">key</span><span class="o">=</span><span class="p">{</span><span class="nx">cell</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;px-4 py-2 border-b&quot;</span><span class="p">&gt;</span>
<span class="w">                  </span><span class="p">{</span><span class="nx">flexRender</span><span class="p">(</span><span class="nx">cell</span><span class="p">.</span><span class="nx">column</span><span class="p">.</span><span class="nx">columnDef</span><span class="p">.</span><span class="nx">cell</span><span class="p">,</span><span class="w"> </span><span class="nx">cell</span><span class="p">.</span><span class="nx">getContext</span><span class="p">())}</span>
<span class="w">                </span><span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">))}</span>
<span class="w">            </span><span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">))}</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">tbody</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>

<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;flex items-center justify-between&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">          </span><span class="nx">Showing</span><span class="w"> </span><span class="p">{</span><span class="nx">table</span><span class="p">.</span><span class="nx">getState</span><span class="p">().</span><span class="nx">pagination</span><span class="p">.</span><span class="nx">pageIndex</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">table</span><span class="p">.</span><span class="nx">getState</span><span class="p">().</span><span class="nx">pagination</span><span class="p">.</span><span class="nx">pageSize</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">}</span><span class="w"> </span><span class="nx">to</span><span class="p">{</span><span class="s1">&#39; &#39;</span><span class="p">}</span>
<span class="w">          </span><span class="p">{</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span>
<span class="w">            </span><span class="p">(</span><span class="nx">table</span><span class="p">.</span><span class="nx">getState</span><span class="p">().</span><span class="nx">pagination</span><span class="p">.</span><span class="nx">pageIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">table</span><span class="p">.</span><span class="nx">getState</span><span class="p">().</span><span class="nx">pagination</span><span class="p">.</span><span class="nx">pageSize</span><span class="p">,</span>
<span class="w">            </span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">totalCount</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="mf">0</span>
<span class="w">          </span><span class="p">)}{</span><span class="s1">&#39; &#39;</span><span class="p">}</span>
<span class="w">          </span><span class="k">of</span><span class="w"> </span><span class="p">{</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">totalCount</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="mf">0</span><span class="p">}</span><span class="w"> </span><span class="nx">users</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;flex gap-2&quot;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">button</span>
<span class="w">            </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">table</span><span class="p">.</span><span class="nx">previousPage</span><span class="p">()}</span>
<span class="w">            </span><span class="na">disabled</span><span class="o">=</span><span class="p">{</span><span class="o">!</span><span class="nx">table</span><span class="p">.</span><span class="nx">getCanPreviousPage</span><span class="p">()}</span>
<span class="w">            </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;px-4 py-2 border rounded disabled:opacity-50&quot;</span>
<span class="w">          </span><span class="p">&gt;</span>
<span class="w">            </span><span class="nx">Previous</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">button</span>
<span class="w">            </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">table</span><span class="p">.</span><span class="nx">nextPage</span><span class="p">()}</span>
<span class="w">            </span><span class="na">disabled</span><span class="o">=</span><span class="p">{</span><span class="o">!</span><span class="nx">table</span><span class="p">.</span><span class="nx">getCanNextPage</span><span class="p">()}</span>
<span class="w">            </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;px-4 py-2 border rounded disabled:opacity-50&quot;</span>
<span class="w">          </span><span class="p">&gt;</span>
<span class="w">            </span><span class="nx">Next</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Result</strong>:
- <strong>Complex state management</strong>: React Query handles server state, Zustand handles client state
- <strong>Rich interactivity</strong>: Sorting, filtering, pagination all work smoothly
- <strong>Type safety</strong>: TypeScript catches errors at compile time
- <strong>Developer experience</strong>: Hot reload, React DevTools, excellent debugging
- <strong>Maintainability</strong>: Clear component structure, reusable patterns
- <strong>Performance</strong>: Acceptable for internal tool (100-200ms interactions)</p>
<p><strong>Why React was the right choice here</strong>:
1. <strong>Complexity justifies overhead</strong>: The dashboard has genuine complexity that benefits from React's state management
2. <strong>Team expertise</strong>: Team is already proficient, no learning curve
3. <strong>Ecosystem value</strong>: Libraries like TanStack Table and React Query save weeks of development
4. <strong>Performance acceptable</strong>: Internal tool with good network conditions
5. <strong>Active development</strong>: Ongoing feature work justifies framework investment</p>
<h3 id="scenario-3-e-commerce-product-catalog">Scenario 3: E-commerce Product Catalog</h3>
<p><strong>Project requirements</strong>:
- 10,000+ products
- Product listing with filters, sorting, search
- Product detail pages
- Shopping cart
- Checkout flow
- Excellent SEO required (organic search is primary channel)
- Fast load times critical (conversion optimization)
- Global audience (mixed network conditions)</p>
<p><strong>Constraint analysis</strong>:</p>
<div class="codehilite"><pre><span></span><code>Performance budget: &lt; 2s TTI (conversion-critical)
Target audience: Global, mixed network conditions
SEO requirements: Critical (organic search is primary channel)
Team expertise: 2 developers, comfortable with React
Maintenance capacity: Medium (small team, but e-commerce is core business)
Timeline: 8 weeks to launch
</code></pre></div>

<p><strong>React evaluation</strong>:</p>
<p>âš ï¸ <strong>Performance</strong>: React's baseline cost is concerning for conversion optimization
âœ… <strong>SEO</strong>: Next.js SSG/ISR can handle this
âœ… <strong>Interactivity</strong>: Shopping cart and filters need client-side state
âœ… <strong>Complexity</strong>: Product catalog has moderate complexity
âš ï¸ <strong>Maintenance</strong>: E-commerce requires ongoing optimization</p>
<p><strong>Verdict</strong>: React (Next.js) is viable, but requires careful optimization.</p>
<p><strong>Recommended approach</strong>: <strong>Next.js with aggressive optimization</strong></p>
<p><strong>Why Next.js</strong>:
- <strong>SSG for product pages</strong>: Pre-render all product pages at build time
- <strong>ISR for catalog</strong>: Incremental Static Regeneration for product listings
- <strong>Server Components</strong>: Minimize client-side JavaScript
- <strong>Image optimization</strong>: next/image for product photos
- <strong>Code splitting</strong>: Route-based splitting to minimize initial bundle</p>
<p><strong>Critical optimization strategy</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/app/products/[slug]/page.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Suspense</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Image</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;next/image&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">notFound</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;next/navigation&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">AddToCartButton</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/components/AddToCartButton&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">ProductReviews</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/components/ProductReviews&#39;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">Product</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">price</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">  </span><span class="nx">images</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[];</span>
<span class="w">  </span><span class="nx">slug</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Generate static paths for all products at build time</span>
<span class="k">export</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">generateStaticParams</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">products</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://api.example.com/products&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">products</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">product</span><span class="o">:</span><span class="w"> </span><span class="kt">Product</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">({</span>
<span class="w">    </span><span class="nx">slug</span><span class="o">:</span><span class="w"> </span><span class="kt">product.slug</span><span class="p">,</span>
<span class="w">  </span><span class="p">}));</span>
<span class="p">}</span>

<span class="c1">// Fetch product data at build time</span>
<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">getProduct</span><span class="p">(</span><span class="nx">slug</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Product</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="sb">`https://api.example.com/products/</span><span class="si">${</span><span class="nx">slug</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">next</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">revalidate</span><span class="o">:</span><span class="w"> </span><span class="kt">3600</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="c1">// Revalidate every hour</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// Server Component (no JavaScript sent to client)</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">ProductPage</span><span class="p">({</span>
<span class="w">  </span><span class="nx">params</span><span class="p">,</span>
<span class="p">}</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">params</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">slug</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">};</span>
<span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">product</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">getProduct</span><span class="p">(</span><span class="nx">params</span><span class="p">.</span><span class="nx">slug</span><span class="p">);</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">product</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">notFound</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;container mx-auto px-4 py-8&quot;</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;grid grid-cols-1 md:grid-cols-2 gap-8&quot;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="cm">/* Product images - Server Component */</span><span class="p">}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Image</span>
<span class="w">            </span><span class="nx">src</span><span class="o">=</span><span class="p">{</span><span class="nx">product</span><span class="p">.</span><span class="nx">images</span><span class="p">[</span><span class="mf">0</span><span class="p">]}</span>
<span class="w">            </span><span class="nx">alt</span><span class="o">=</span><span class="p">{</span><span class="nx">product</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span>
<span class="w">            </span><span class="nx">width</span><span class="o">=</span><span class="p">{</span><span class="mf">600</span><span class="p">}</span>
<span class="w">            </span><span class="nx">height</span><span class="o">=</span><span class="p">{</span><span class="mf">600</span><span class="p">}</span>
<span class="w">            </span><span class="nx">priority</span>
<span class="w">            </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;w-full rounded-lg&quot;</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>

<span class="w">        </span><span class="p">{</span><span class="cm">/* Product info - Server Component */</span><span class="p">}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">h1</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;text-3xl font-bold mb-4&quot;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">product</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">p</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;text-2xl font-semibold mb-4&quot;</span><span class="o">&gt;</span><span class="nx">$</span><span class="p">{</span><span class="nx">product</span><span class="p">.</span><span class="nx">price</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">p</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;text-gray-700 mb-6&quot;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">product</span><span class="p">.</span><span class="nx">description</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>

<span class="w">          </span><span class="p">{</span><span class="cm">/* Only this button is a Client Component */</span><span class="p">}</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">AddToCartButton</span><span class="w"> </span><span class="nx">productId</span><span class="o">=</span><span class="p">{</span><span class="nx">product</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/div&gt;</span>

<span class="w">      </span><span class="p">{</span><span class="cm">/* Reviews loaded separately to avoid blocking */</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Suspense</span><span class="w"> </span><span class="nx">fallback</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Loading</span><span class="w"> </span><span class="nx">reviews</span><span class="p">...</span><span class="o">&lt;</span><span class="err">/div&gt;}&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">ProductReviews</span><span class="w"> </span><span class="nx">productId</span><span class="o">=</span><span class="p">{</span><span class="nx">product</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Suspense&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Add to cart button</strong> (the only Client Component on the page):</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/components/AddToCartButton.tsx</span>
<span class="s1">&#39;use client&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useCart</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/lib/cart-store&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">AddToCartButtonProps</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">productId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">AddToCartButton</span><span class="p">({</span><span class="w"> </span><span class="nx">productId</span><span class="w"> </span><span class="p">}</span><span class="o">:</span><span class="w"> </span><span class="nx">AddToCartButtonProps</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">quantity</span><span class="p">,</span><span class="w"> </span><span class="nx">setQuantity</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">addToCart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useCart</span><span class="p">((</span><span class="nx">state</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">addItem</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">isAdding</span><span class="p">,</span><span class="w"> </span><span class="nx">setIsAdding</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleAddToCart</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setIsAdding</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">addToCart</span><span class="p">(</span><span class="nx">productId</span><span class="p">,</span><span class="w"> </span><span class="nx">quantity</span><span class="p">);</span>
<span class="w">    </span><span class="nx">setIsAdding</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;flex items-center gap-4&quot;</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">        </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;number&quot;</span>
<span class="w">        </span><span class="na">min</span><span class="o">=</span><span class="s">&quot;1&quot;</span>
<span class="w">        </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">quantity</span><span class="p">}</span>
<span class="w">        </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setQuantity</span><span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">))}</span>
<span class="w">        </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;w-20 px-3 py-2 border rounded&quot;</span>
<span class="w">      </span><span class="p">/&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">button</span>
<span class="w">        </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleAddToCart</span><span class="p">}</span>
<span class="w">        </span><span class="na">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isAdding</span><span class="p">}</span>
<span class="w">        </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50&quot;</span>
<span class="w">      </span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">isAdding</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;Adding...&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Add to Cart&#39;</span><span class="p">}</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Result</strong>:
- <strong>Product page bundle</strong>: ~20 KB JavaScript (only the cart button)
- <strong>TTI</strong>: &lt; 1s on 3G (most content is static HTML)
- <strong>SEO</strong>: Perfect (static HTML with all content)
- <strong>Conversion optimization</strong>: Fast load times, instant interactivity
- <strong>Maintenance</strong>: Moderate (Next.js is stable, but requires performance monitoring)</p>
<p><strong>Performance comparison</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Full</span><span class="w"> </span><span class="n">client</span><span class="o">-</span><span class="n">side</span><span class="w"> </span><span class="n">React</span><span class="w"> </span><span class="n">approach</span><span class="p">:</span>
<span class="o">-</span><span class="w"> </span><span class="n">Initial</span><span class="w"> </span><span class="n">bundle</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="o">+</span><span class="w"> </span><span class="n">KB</span>
<span class="o">-</span><span class="w"> </span><span class="n">TTI</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="o">-</span><span class="mi">3</span><span class="n">s</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="mi">3</span><span class="n">G</span>
<span class="o">-</span><span class="w"> </span><span class="n">SEO</span><span class="p">:</span><span class="w"> </span><span class="n">Requires</span><span class="w"> </span><span class="n">SSR</span><span class="p">,</span><span class="w"> </span><span class="n">adds</span><span class="w"> </span><span class="n">complexity</span>
<span class="o">-</span><span class="w"> </span><span class="n">Conversion</span><span class="w"> </span><span class="n">rate</span><span class="p">:</span><span class="w"> </span><span class="n">Baseline</span>

<span class="n">Next</span><span class="o">.</span><span class="n">js</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">Server</span><span class="w"> </span><span class="n">Components</span><span class="p">:</span>
<span class="o">-</span><span class="w"> </span><span class="n">Initial</span><span class="w"> </span><span class="n">bundle</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="n">KB</span>
<span class="o">-</span><span class="w"> </span><span class="n">TTI</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="n">s</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="mi">3</span><span class="n">G</span>
<span class="o">-</span><span class="w"> </span><span class="n">SEO</span><span class="p">:</span><span class="w"> </span><span class="n">Perfect</span><span class="w"> </span><span class="p">(</span><span class="k">static</span><span class="w"> </span><span class="n">HTML</span><span class="p">)</span>
<span class="o">-</span><span class="w"> </span><span class="n">Conversion</span><span class="w"> </span><span class="n">rate</span><span class="p">:</span><span class="w"> </span><span class="o">+</span><span class="mi">15</span><span class="o">-</span><span class="mi">25</span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="n">industry</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">1</span><span class="n">s</span><span class="w"> </span><span class="n">faster</span><span class="w"> </span><span class="nb">load</span><span class="p">)</span>
</code></pre></div>

<p><strong>Why Next.js was the right choice here</strong>:
1. <strong>Hybrid approach</strong>: Server Components for content, Client Components for interactivity
2. <strong>SEO requirements met</strong>: Static HTML for all product pages
3. <strong>Performance acceptable</strong>: Aggressive optimization achieves conversion-critical performance
4. <strong>Shopping cart complexity</strong>: Client-side state management justified for cart functionality
5. <strong>Image optimization</strong>: next/image provides automatic optimization for product photos</p>
<h3 id="scenario-4-documentation-site">Scenario 4: Documentation Site</h3>
<p><strong>Project requirements</strong>:
- 200+ documentation pages
- Search functionality
- Code syntax highlighting
- Version selector
- Minimal interactivity (mostly reading)
- Excellent SEO required
- Fast load times critical
- Open source project (community contributions)</p>
<p><strong>Constraint analysis</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Performance</span><span class="w"> </span><span class="n">budget</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="n">s</span><span class="w"> </span><span class="n">TTI</span>
<span class="n">Target</span><span class="w"> </span><span class="n">audience</span><span class="p">:</span><span class="w"> </span><span class="n">Developers</span><span class="p">,</span><span class="w"> </span><span class="n">global</span><span class="p">,</span><span class="w"> </span><span class="n">mixed</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">conditions</span>
<span class="n">SEO</span><span class="w"> </span><span class="n">requirements</span><span class="p">:</span><span class="w"> </span><span class="n">Critical</span><span class="w"> </span><span class="p">(</span><span class="n">primary</span><span class="w"> </span><span class="n">discovery</span><span class="w"> </span><span class="n">method</span><span class="p">)</span>
<span class="n">Team</span><span class="w"> </span><span class="n">expertise</span><span class="p">:</span><span class="w"> </span><span class="n">Open</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">contributors</span><span class="p">,</span><span class="w"> </span><span class="n">varied</span><span class="w"> </span><span class="n">skill</span><span class="w"> </span><span class="n">levels</span>
<span class="n">Maintenance</span><span class="w"> </span><span class="n">capacity</span><span class="p">:</span><span class="w"> </span><span class="n">Low</span><span class="w"> </span><span class="p">(</span><span class="n">volunteer</span><span class="w"> </span><span class="n">maintainers</span><span class="p">)</span>
<span class="n">Timeline</span><span class="p">:</span><span class="w"> </span><span class="n">Ongoing</span><span class="w"> </span><span class="p">(</span><span class="n">documentation</span><span class="w"> </span><span class="n">evolves</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">project</span><span class="p">)</span>
</code></pre></div>

<p><strong>React evaluation</strong>:</p>
<p>âŒ <strong>Performance</strong>: React's JavaScript overhead hurts reading experience
âŒ <strong>Complexity</strong>: Build tooling creates barrier for contributors
âŒ <strong>Maintenance</strong>: Framework updates burden volunteer maintainers
âš ï¸ <strong>Search</strong>: Could use client-side search, but server-side is simpler
âœ… <strong>Syntax highlighting</strong>: Works with any framework</p>
<p><strong>Verdict</strong>: React is the wrong choice.</p>
<p><strong>Better alternative</strong>: <strong>Astro</strong> or <strong>Docusaurus</strong> (if you must use React)</p>
<p><strong>Why Astro</strong>:
- Zero JavaScript by default (perfect for documentation)
- Markdown-based content (easy for contributors)
- Built-in syntax highlighting
- Fast builds
- Minimal maintenance</p>
<p><strong>Why Docusaurus</strong> (if React is required):
- Built specifically for documentation
- Optimized for performance (despite using React)
- Excellent search (Algolia integration)
- Versioning built-in
- Large community (Facebook-backed)</p>
<p><strong>Implementation approach</strong> (Astro):</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Create Astro docs site</span>
npm<span class="w"> </span>create<span class="w"> </span>astro@latest<span class="w"> </span>docs-site<span class="w"> </span>--<span class="w"> </span>--template<span class="w"> </span>docs

<span class="c1"># Project structure</span>
src/
â”œâ”€â”€<span class="w"> </span>content/
â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>docs/
â”‚<span class="w">       </span>â”œâ”€â”€<span class="w"> </span>getting-started/
â”‚<span class="w">       </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>installation.md
â”‚<span class="w">       </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>quick-start.md
â”‚<span class="w">       </span>â”œâ”€â”€<span class="w"> </span>guides/
â”‚<span class="w">       </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>advanced-usage.md
â”‚<span class="w">       </span>â””â”€â”€<span class="w"> </span>api/
â”‚<span class="w">           </span>â””â”€â”€<span class="w"> </span>reference.md
â”œâ”€â”€<span class="w"> </span>components/
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>Search.tsx<span class="w">          </span><span class="c1"># Only interactive component</span>
â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>VersionSelector.tsx<span class="w"> </span><span class="c1"># Only interactive component</span>
â””â”€â”€<span class="w"> </span>pages/
<span class="w">    </span>â””â”€â”€<span class="w"> </span><span class="o">[</span>...slug<span class="o">]</span>.astro<span class="w">     </span><span class="c1"># Dynamic doc pages</span>
</code></pre></div>

<p><strong>Documentation page</strong> (static):</p>
<div class="codehilite"><pre><span></span><code><span class="o">---</span>
<span class="o">//</span> <span class="n">src</span><span class="o">/</span><span class="n">pages</span><span class="o">/</span><span class="p">[</span><span class="o">...</span><span class="n">slug</span><span class="p">]</span><span class="o">.</span><span class="n">astro</span>
<span class="kn">import</span><span class="w"> </span><span class="p">{</span> <span class="n">getCollection</span> <span class="p">}</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;astro:content&#39;</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">Layout</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;../layouts/Layout.astro&#39;</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">Search</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;../components/Search&#39;</span><span class="p">;</span>

<span class="n">export</span> <span class="k">async</span> <span class="n">function</span> <span class="n">getStaticPaths</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">const</span> <span class="n">docs</span> <span class="o">=</span> <span class="k">await</span> <span class="n">getCollection</span><span class="p">(</span><span class="s1">&#39;docs&#39;</span><span class="p">);</span>
  <span class="k">return</span> <span class="n">docs</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">doc</span> <span class="o">=&gt;</span> <span class="p">({</span>
    <span class="n">params</span><span class="p">:</span> <span class="p">{</span> <span class="n">slug</span><span class="p">:</span> <span class="n">doc</span><span class="o">.</span><span class="n">slug</span> <span class="p">},</span>
    <span class="n">props</span><span class="p">:</span> <span class="p">{</span> <span class="n">doc</span> <span class="p">},</span>
  <span class="p">}));</span>
<span class="p">}</span>

<span class="n">const</span> <span class="p">{</span> <span class="n">doc</span> <span class="p">}</span> <span class="o">=</span> <span class="n">Astro</span><span class="o">.</span><span class="n">props</span><span class="p">;</span>
<span class="n">const</span> <span class="p">{</span> <span class="n">Content</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="n">doc</span><span class="o">.</span><span class="n">render</span><span class="p">();</span>
<span class="o">---</span>

<span class="o">&lt;</span><span class="n">Layout</span> <span class="n">title</span><span class="o">=</span><span class="p">{</span><span class="n">doc</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">title</span><span class="p">}</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">aside</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Static</span> <span class="n">navigation</span> <span class="o">--&gt;</span>
    <span class="o">&lt;</span><span class="n">nav</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Table</span> <span class="n">of</span> <span class="n">contents</span> <span class="o">--&gt;</span>
    <span class="o">&lt;/</span><span class="n">nav</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">aside</span><span class="o">&gt;</span>

  <span class="o">&lt;</span><span class="n">main</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="p">{</span><span class="n">doc</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">title</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Markdown</span> <span class="n">content</span> <span class="n">rendered</span> <span class="n">to</span> <span class="n">HTML</span> <span class="o">--&gt;</span>
    <span class="o">&lt;</span><span class="n">Content</span> <span class="o">/&gt;</span>
  <span class="o">&lt;/</span><span class="n">main</span><span class="o">&gt;</span>

  <span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Only</span> <span class="n">search</span> <span class="ow">is</span> <span class="n">interactive</span> <span class="o">--&gt;</span>
  <span class="o">&lt;</span><span class="n">Search</span> <span class="n">client</span><span class="p">:</span><span class="n">load</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">Layout</span><span class="o">&gt;</span>
</code></pre></div>

<p><strong>Search component</strong> (the only JavaScript):</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/components/Search.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="p">,</span><span class="w"> </span><span class="nx">useEffect</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Fuse</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;fuse.js&#39;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">SearchResult</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">excerpt</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">Search</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">query</span><span class="p">,</span><span class="w"> </span><span class="nx">setQuery</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">results</span><span class="p">,</span><span class="w"> </span><span class="nx">setResults</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">&lt;</span><span class="nt">SearchResult</span><span class="err">[]</span><span class="p">&gt;([]);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">fuse</span><span class="p">,</span><span class="w"> </span><span class="nx">setFuse</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">&lt;</span><span class="nt">Fuse</span><span class="err">&lt;</span><span class="na">SearchResult</span><span class="p">&gt;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="w">  </span><span class="nx">useEffect</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Load search index</span>
<span class="w">    </span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/search-index.json&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="w">      </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">fuseInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Fuse</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nx">keys</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;content&#39;</span><span class="p">],</span>
<span class="w">          </span><span class="nx">threshold</span><span class="o">:</span><span class="w"> </span><span class="kt">0.3</span><span class="p">,</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">        </span><span class="nx">setFuse</span><span class="p">(</span><span class="nx">fuseInstance</span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="p">[]);</span>

<span class="w">  </span><span class="nx">useEffect</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">fuse</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="nx">query</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">setResults</span><span class="p">([]);</span>
<span class="w">      </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">searchResults</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fuse</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="nx">query</span><span class="p">).</span><span class="nx">slice</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">10</span><span class="p">);</span>
<span class="w">    </span><span class="nx">setResults</span><span class="p">(</span><span class="nx">searchResults</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">result</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">item</span><span class="p">));</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="p">[</span><span class="nx">query</span><span class="p">,</span><span class="w"> </span><span class="nx">fuse</span><span class="p">]);</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;search&quot;</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">        </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;search&quot;</span>
<span class="w">        </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">query</span><span class="p">}</span>
<span class="w">        </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setQuery</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">        </span><span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Search documentation...&quot;</span>
<span class="w">        </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;w-full px-4 py-2 border rounded&quot;</span>
<span class="w">      </span><span class="p">/&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="nx">results</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">ul</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;mt-2 border rounded bg-white shadow-lg&quot;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">{</span><span class="nx">results</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">li</span><span class="w"> </span><span class="na">key</span><span class="o">=</span><span class="p">{</span><span class="nx">result</span><span class="p">.</span><span class="nx">url</span><span class="p">}&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">a</span><span class="w"> </span><span class="na">href</span><span class="o">=</span><span class="p">{</span><span class="nx">result</span><span class="p">.</span><span class="nx">url</span><span class="p">}</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;block px-4 py-2 hover:bg-gray-100&quot;</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;font-semibold&quot;</span><span class="p">&gt;{</span><span class="nx">result</span><span class="p">.</span><span class="nx">title</span><span class="p">}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;text-sm text-gray-600&quot;</span><span class="p">&gt;{</span><span class="nx">result</span><span class="p">.</span><span class="nx">excerpt</span><span class="p">}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">))}</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">)}</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Result</strong>:
- <strong>Documentation pages</strong>: 0 KB JavaScript (pure HTML)
- <strong>Search page</strong>: ~30 KB JavaScript (only when search is used)
- <strong>TTI</strong>: &lt; 300ms (instant for reading)
- <strong>SEO</strong>: Perfect (static HTML)
- <strong>Contributor experience</strong>: Write Markdown, no build complexity
- <strong>Maintenance</strong>: Minimal (Astro is stable)</p>
<p><strong>Why Astro was the right choice here</strong>:
1. <strong>Content-focused</strong>: Documentation is 99% reading, 1% interaction
2. <strong>Performance</strong>: Zero JavaScript for reading experience
3. <strong>Contributor-friendly</strong>: Markdown is accessible to all skill levels
4. <strong>Maintenance</strong>: Minimal framework updates needed
5. <strong>SEO</strong>: Static HTML ensures perfect search engine visibility</p>
<h3 id="decision-matrix-quick-reference">Decision Matrix: Quick Reference</h3>
<p>Use this matrix to quickly evaluate whether React is appropriate for your project:</p>
<table>
<thead>
<tr>
<th>Project Type</th>
<th>React?</th>
<th>Better Alternative</th>
<th>Why</th>
</tr>
</thead>
<tbody>
<tr>
<td>Marketing site</td>
<td>âŒ</td>
<td>Astro, Hugo</td>
<td>Content-focused, SEO-critical, minimal interactivity</td>
</tr>
<tr>
<td>Blog</td>
<td>âŒ</td>
<td>Astro, Hugo, Jekyll</td>
<td>Content-focused, SEO-critical, minimal interactivity</td>
</tr>
<tr>
<td>Documentation</td>
<td>âŒ</td>
<td>Astro, Docusaurus</td>
<td>Content-focused, contributor-friendly, minimal interactivity</td>
</tr>
<tr>
<td>Portfolio</td>
<td>âŒ</td>
<td>Astro, plain HTML</td>
<td>Content-focused, minimal interactivity</td>
</tr>
<tr>
<td>Landing page</td>
<td>âŒ</td>
<td>Astro, plain HTML</td>
<td>Performance-critical, minimal interactivity</td>
</tr>
<tr>
<td>E-commerce (content-heavy)</td>
<td>âš ï¸</td>
<td>Next.js (optimized)</td>
<td>Hybrid: content + interactivity, requires optimization</td>
</tr>
<tr>
<td>E-commerce (app-like)</td>
<td>âœ…</td>
<td>Next.js, React</td>
<td>Complex state (cart, checkout), interactivity-focused</td>
</tr>
<tr>
<td>Admin dashboard</td>
<td>âœ…</td>
<td>Next.js, React</td>
<td>Complex state, highly interactive, internal tool</td>
</tr>
<tr>
<td>SaaS application</td>
<td>âœ…</td>
<td>Next.js, React</td>
<td>Complex state, highly interactive, app-like</td>
</tr>
<tr>
<td>Social media app</td>
<td>âœ…</td>
<td>Next.js, React</td>
<td>Real-time updates, complex state, highly interactive</td>
</tr>
<tr>
<td>Collaborative tool</td>
<td>âœ…</td>
<td>Next.js, React</td>
<td>Real-time collaboration, complex state, highly interactive</td>
</tr>
<tr>
<td>Data visualization</td>
<td>âœ…</td>
<td>React</td>
<td>Complex interactions, dynamic updates</td>
</tr>
<tr>
<td>Form-heavy app</td>
<td>âœ…</td>
<td>React</td>
<td>Complex validation, multi-step flows</td>
</tr>
</tbody>
</table>
<h3 id="the-litmus-test-three-questions">The Litmus Test: Three Questions</h3>
<p>When in doubt, ask these three questions:</p>
<p><strong>1. Is this primarily about content or interaction?</strong>
- <strong>Content</strong>: Users read, browse, consume information â†’ Consider alternatives
- <strong>Interaction</strong>: Users manipulate data, collaborate, perform tasks â†’ React is viable</p>
<p><strong>2. What's the JavaScript budget?</strong>
- <strong>&lt; 50 KB</strong>: React is too heavy â†’ Use Astro or plain HTML
- <strong>50-150 KB</strong>: React is viable with optimization â†’ Use Next.js with Server Components
- <strong>&gt; 150 KB</strong>: React is fine â†’ Use React/Next.js freely</p>
<p><strong>3. What's the maintenance capacity?</strong>
- <strong>Low</strong> (solo dev, side project): Avoid React's complexity â†’ Use simpler tools
- <strong>Medium</strong> (small team, occasional updates): React is viable if justified â†’ Evaluate carefully
- <strong>High</strong> (dedicated team, active development): React is fine â†’ Use React/Next.js</p>
<p>If you answer "content", "&lt; 50 KB", or "low" to any question, seriously consider alternatives to React.</p>
<h3 id="the-professional-approach-justify-your-choice">The Professional Approach: Justify Your Choice</h3>
<p>Whatever you choose, be able to articulate why. A professional decision includes:</p>
<ol>
<li><strong>Constraint analysis</strong>: What are the non-negotiable requirements?</li>
<li><strong>Trade-off evaluation</strong>: What are you optimizing for? What are you sacrificing?</li>
<li><strong>Alternative consideration</strong>: What other options did you evaluate?</li>
<li><strong>Risk assessment</strong>: What could go wrong? How will you mitigate it?</li>
<li><strong>Success criteria</strong>: How will you measure whether the choice was correct?</li>
</ol>
<p><strong>Example justification</strong> (for choosing React):</p>
<blockquote>
<p>"We chose React for this project because:
1. The application is highly interactive (real-time collaboration)
2. Complex state management justifies React's overhead
3. Our team is already proficient in React
4. Performance is acceptable for our target audience (internal tool, good network)
5. We can leverage React Query and Zustand to accelerate development</p>
<p>We considered Svelte for better performance, but the ecosystem gap and team learning curve outweighed the benefits. We'll monitor bundle size and TTI to ensure performance remains acceptable."</p>
</blockquote>
<p><strong>Example justification</strong> (for choosing Astro over React):</p>
<blockquote>
<p>"We chose Astro for this project because:
1. The site is content-focused (blog + documentation)
2. SEO and performance are critical (organic search is primary channel)
3. Interactivity is minimal (contact form only)
4. React's JavaScript overhead would hurt conversion rates
5. Astro allows us to use React for the one interactive component</p>
<p>We considered Next.js with Server Components, but even optimized, it would add 50+ KB of JavaScript for no user benefit. We'll use Astro's React integration for the contact form to get the best of both worlds."</p>
</blockquote>
<p>The ability to justify your choiceâ€”and to choose against React when appropriateâ€”is the mark of a mature developer.</p>
<h2 id="building-maintainable-applications-that-outlast-framework-churn">Building maintainable applications that outlast framework churn</h2>
<h2 id="building-maintainable-applications-that-outlast-framework-churn_1">Building maintainable applications that outlast framework churn</h2>
<p>You've learned React. You've learned when to use it and when not to. Now let's address the elephant in the room: <strong>frameworks change, but your application needs to keep working</strong>.</p>
<p>In 2015, developers built React apps with class components, Redux, and Create React App. In 2025, those same apps need refactoring to use function components, React Query, and Vite or Next.js. The code still works, but it's "legacy" after just 10 years.</p>
<p>How do you build applications that survive framework churn? How do you write code that's maintainable not just today, but 5-10 years from now?</p>
<h3 id="the-uncomfortable-truth-about-framework-longevity">The Uncomfortable Truth About Framework Longevity</h3>
<p>Let's start with reality: <strong>no JavaScript framework is permanent</strong>.</p>
<p><strong>Framework lifecycle patterns</strong>:</p>
<div class="codehilite"><pre><span></span><code>Year 0-2: Hype phase
- Rapid adoption
- Breaking changes common
- Ecosystem immature
- &quot;This will change everything!&quot;

Year 3-5: Maturity phase
- Stable API
- Rich ecosystem
- Best practices emerge
- &quot;This is the standard&quot;

Year 6-10: Maintenance phase
- Fewer breaking changes
- Ecosystem consolidation
- New frameworks emerge
- &quot;This is legacy&quot;

Year 10+: Legacy phase
- Security updates only
- Migration pressure
- Hiring challenges
- &quot;We need to rewrite&quot;
</code></pre></div>

<p>React is currently in the <strong>maturity phase</strong> (launched 2013, 12 years old). It's stable, widely adopted, and will remain relevant for years. But it won't last forever.</p>
<p><strong>Historical examples</strong>:</p>
<ul>
<li><strong>jQuery</strong> (2006): Dominated for a decade, now considered legacy</li>
<li><strong>Backbone.js</strong> (2010): Popular in early 2010s, now rarely used</li>
<li><strong>Angular.js</strong> (2010): Massive adoption, then Angular 2+ broke compatibility</li>
<li><strong>Ember.js</strong> (2011): Once a React competitor, now niche</li>
</ul>
<p>React will eventually follow this pattern. Maybe in 5 years, maybe in 15. But it will happen.</p>
<h3 id="the-core-principle-separate-business-logic-from-framework-code">The Core Principle: Separate Business Logic from Framework Code</h3>
<p>The key to longevity is <strong>minimizing framework coupling</strong>. The more your business logic depends on React-specific patterns, the harder it will be to migrate when the time comes.</p>
<p><strong>The architecture principle</strong>:</p>
<div class="codehilite"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Your Application                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         Business Logic (Framework-agnostic)      â”‚   â”‚
â”‚  â”‚  - Domain models                                 â”‚   â”‚
â”‚  â”‚  - Business rules                                â”‚   â”‚
â”‚  â”‚  - Data transformations                          â”‚   â”‚
â”‚  â”‚  - Validation logic                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â†‘                               â”‚
â”‚                          â”‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         Adapter Layer (Framework-aware)          â”‚   â”‚
â”‚  â”‚  - API clients                                   â”‚   â”‚
â”‚  â”‚  - State management                              â”‚   â”‚
â”‚  â”‚  - Routing logic                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â†‘                               â”‚
â”‚                          â”‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         UI Layer (React-specific)                â”‚   â”‚
â”‚  â”‚  - Components                                    â”‚   â”‚
â”‚  â”‚  - Hooks                                         â”‚   â”‚
â”‚  â”‚  - Event handlers                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<p><strong>The goal</strong>: Keep the top layer (business logic) as large as possible and completely framework-agnostic. When you eventually migrate from React to the next framework, you rewrite only the bottom two layers.</p>
<h3 id="reference-implementation-e-commerce-order-processing">Reference Implementation: E-commerce Order Processing</h3>
<p>Let's build a realistic example that demonstrates maintainable architecture. We'll build an order processing system that could survive a framework migration.</p>
<p><strong>Project structure</strong>:</p>
<div class="codehilite"><pre><span></span><code>src/
â”œâ”€â”€<span class="w"> </span>domain/<span class="w">                    </span><span class="c1"># Framework-agnostic business logic</span>
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>models/
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>Order.ts
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>Product.ts
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>Customer.ts
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>services/
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>OrderService.ts
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>PricingService.ts
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>InventoryService.ts
â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>validation/
â”‚<span class="w">       </span>â”œâ”€â”€<span class="w"> </span>orderValidation.ts
â”‚<span class="w">       </span>â””â”€â”€<span class="w"> </span>paymentValidation.ts
â”œâ”€â”€<span class="w"> </span>adapters/<span class="w">                  </span><span class="c1"># Framework-aware adapters</span>
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>api/
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>OrderApiClient.ts
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>ProductApiClient.ts
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>storage/
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>LocalStorageAdapter.ts
â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>state/
â”‚<span class="w">       </span>â””â”€â”€<span class="w"> </span>orderStore.ts
â””â”€â”€<span class="w"> </span>ui/<span class="w">                        </span><span class="c1"># React-specific UI</span>
<span class="w">    </span>â”œâ”€â”€<span class="w"> </span>components/
<span class="w">    </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>OrderForm.tsx
<span class="w">    </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>OrderSummary.tsx
<span class="w">    </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>PaymentForm.tsx
<span class="w">    </span>â””â”€â”€<span class="w"> </span>hooks/
<span class="w">        </span>â”œâ”€â”€<span class="w"> </span>useOrder.ts
<span class="w">        </span>â””â”€â”€<span class="w"> </span>useProducts.ts
</code></pre></div>

<h3 id="phase-1-framework-agnostic-business-logic">Phase 1: Framework-Agnostic Business Logic</h3>
<p>Start with pure TypeScript that has zero React dependencies. This code should work in Node.js, Deno, or any JavaScript environment.</p>
<p><strong>Domain model</strong> (pure TypeScript):</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/domain/models/Order.ts</span>

<span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">OrderItem</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">productId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">quantity</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">  </span><span class="nx">priceAtPurchase</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">ShippingAddress</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">street</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">city</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">state</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">zipCode</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">country</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">Order</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">customerId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="kt">OrderItem</span><span class="p">[];</span>
<span class="w">  </span><span class="nx">shippingAddress</span><span class="o">:</span><span class="w"> </span><span class="kt">ShippingAddress</span><span class="p">;</span>
<span class="w">  </span><span class="nx">status</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;draft&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;pending&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;confirmed&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;shipped&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;delivered&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;cancelled&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="nx">subtotal</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">  </span><span class="nx">tax</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">  </span><span class="nx">shipping</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">  </span><span class="nx">total</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">  </span><span class="nx">createdAt</span><span class="o">:</span><span class="w"> </span><span class="kt">Date</span><span class="p">;</span>
<span class="w">  </span><span class="nx">updatedAt</span><span class="o">:</span><span class="w"> </span><span class="kt">Date</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nx">OrderDraft</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Omit</span><span class="o">&lt;</span><span class="nx">Order</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;id&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;status&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;createdAt&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;updatedAt&#39;</span><span class="o">&gt;</span><span class="p">;</span>
</code></pre></div>

<p><strong>Business logic</strong> (pure functions, no React):</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/domain/services/PricingService.ts</span>

<span class="k">import</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">OrderItem</span><span class="p">,</span><span class="w"> </span><span class="nx">ShippingAddress</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../models/Order&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">PricingService</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="nx">TAX_RATE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.08</span><span class="p">;</span><span class="w"> </span><span class="c1">// 8% tax</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="nx">FREE_SHIPPING_THRESHOLD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">50</span><span class="p">;</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="nx">STANDARD_SHIPPING_COST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">5.99</span><span class="p">;</span>

<span class="w">  </span><span class="nx">calculateSubtotal</span><span class="p">(</span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="kt">OrderItem</span><span class="p">[])</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">items</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">sum</span><span class="p">,</span><span class="w"> </span><span class="nx">item</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">item</span><span class="p">.</span><span class="nx">priceAtPurchase</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">item</span><span class="p">.</span><span class="nx">quantity</span><span class="p">;</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mf">0</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">calculateTax</span><span class="p">(</span><span class="nx">subtotal</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">subtotal</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">TAX_RATE</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">calculateShipping</span><span class="p">(</span><span class="nx">subtotal</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">,</span><span class="w"> </span><span class="nx">address</span><span class="o">:</span><span class="w"> </span><span class="kt">ShippingAddress</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Free shipping over threshold</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">subtotal</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">FREE_SHIPPING_THRESHOLD</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// International shipping costs more</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">address</span><span class="p">.</span><span class="nx">country</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s1">&#39;US&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">STANDARD_SHIPPING_COST</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">2</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">STANDARD_SHIPPING_COST</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">calculateTotal</span><span class="p">(</span>
<span class="w">    </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="kt">OrderItem</span><span class="p">[],</span>
<span class="w">    </span><span class="nx">address</span><span class="o">:</span><span class="w"> </span><span class="kt">ShippingAddress</span>
<span class="w">  </span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">subtotal</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">    </span><span class="nx">tax</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">    </span><span class="nx">shipping</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">    </span><span class="nx">total</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">subtotal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">calculateSubtotal</span><span class="p">(</span><span class="nx">items</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">tax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">calculateTax</span><span class="p">(</span><span class="nx">subtotal</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">shipping</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">calculateShipping</span><span class="p">(</span><span class="nx">subtotal</span><span class="p">,</span><span class="w"> </span><span class="nx">address</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">subtotal</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">tax</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">shipping</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">subtotal</span><span class="p">,</span><span class="w"> </span><span class="nx">tax</span><span class="p">,</span><span class="w"> </span><span class="nx">shipping</span><span class="p">,</span><span class="w"> </span><span class="nx">total</span><span class="w"> </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Validation logic</strong> (pure functions):</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/domain/validation/orderValidation.ts</span>

<span class="k">import</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">OrderDraft</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../models/Order&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">ValidationError</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">field</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">OrderValidator</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">validate</span><span class="p">(</span><span class="nx">order</span><span class="o">:</span><span class="w"> </span><span class="kt">OrderDraft</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">ValidationError</span><span class="p">[]</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">errors</span><span class="o">:</span><span class="w"> </span><span class="kt">ValidationError</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>

<span class="w">    </span><span class="c1">// Validate items</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">order</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
<span class="w">        </span><span class="nx">field</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;items&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Order must contain at least one item&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">item</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">order</span><span class="p">.</span><span class="nx">items</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">quantity</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
<span class="w">          </span><span class="nx">field</span><span class="o">:</span><span class="w"> </span><span class="sb">`items.</span><span class="si">${</span><span class="nx">item</span><span class="p">.</span><span class="nx">productId</span><span class="si">}</span><span class="sb">.quantity`</span><span class="p">,</span>
<span class="w">          </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Quantity must be greater than 0&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">priceAtPurchase</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
<span class="w">          </span><span class="nx">field</span><span class="o">:</span><span class="w"> </span><span class="sb">`items.</span><span class="si">${</span><span class="nx">item</span><span class="p">.</span><span class="nx">productId</span><span class="si">}</span><span class="sb">.price`</span><span class="p">,</span>
<span class="w">          </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Price cannot be negative&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Validate shipping address</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">order</span><span class="p">.</span><span class="nx">shippingAddress</span><span class="p">.</span><span class="nx">street</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
<span class="w">        </span><span class="nx">field</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;shippingAddress.street&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Street address is required&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">order</span><span class="p">.</span><span class="nx">shippingAddress</span><span class="p">.</span><span class="nx">city</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
<span class="w">        </span><span class="nx">field</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;shippingAddress.city&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;City is required&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">order</span><span class="p">.</span><span class="nx">shippingAddress</span><span class="p">.</span><span class="nx">zipCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
<span class="w">        </span><span class="nx">field</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;shippingAddress.zipCode&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ZIP code is required&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Validate ZIP code format (US only for simplicity)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">order</span><span class="p">.</span><span class="nx">shippingAddress</span><span class="p">.</span><span class="nx">country</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;US&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">zipRegex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/^\d{5}(-\d{4})?$/</span><span class="p">;</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">zipRegex</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">order</span><span class="p">.</span><span class="nx">shippingAddress</span><span class="p">.</span><span class="nx">zipCode</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
<span class="w">          </span><span class="nx">field</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;shippingAddress.zipCode&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Invalid ZIP code format&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">errors</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">isValid</span><span class="p">(</span><span class="nx">order</span><span class="o">:</span><span class="w"> </span><span class="kt">OrderDraft</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">order</span><span class="p">).</span><span class="nx">length</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Why this matters</strong>:</p>
<p>Notice that none of this code imports React, uses hooks, or depends on any framework. You could:
- Run it in Node.js for server-side validation
- Use it in a CLI tool for batch processing
- Test it without any React testing utilities
- Migrate it to Vue, Svelte, or Angular with zero changes</p>
<p>This is <strong>framework-agnostic business logic</strong>. It will outlive React.</p>
<h3 id="phase-2-framework-aware-adapters">Phase 2: Framework-Aware Adapters</h3>
<p>Now we create adapters that connect our business logic to the outside world. These adapters are framework-aware but keep React-specific code minimal.</p>
<p><strong>API client</strong> (framework-aware, but not React-specific):</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/adapters/api/OrderApiClient.ts</span>

<span class="k">import</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Order</span><span class="p">,</span><span class="w"> </span><span class="nx">OrderDraft</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/domain/models/Order&#39;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">OrderApiClient</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">baseUrl</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>

<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">baseUrl</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;/api&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">baseUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">baseUrl</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">createOrder</span><span class="p">(</span><span class="nx">draft</span><span class="o">:</span><span class="w"> </span><span class="kt">OrderDraft</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Order</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">baseUrl</span><span class="si">}</span><span class="sb">/orders`</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="kt">JSON.stringify</span><span class="p">(</span><span class="nx">draft</span><span class="p">),</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Failed to create order: </span><span class="si">${</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusText</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">getOrder</span><span class="p">(</span><span class="nx">orderId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Order</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">baseUrl</span><span class="si">}</span><span class="sb">/orders/</span><span class="si">${</span><span class="nx">orderId</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Failed to fetch order: </span><span class="si">${</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusText</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">updateOrder</span><span class="p">(</span><span class="nx">orderId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">updates</span><span class="o">:</span><span class="w"> </span><span class="kt">Partial</span><span class="o">&lt;</span><span class="nx">Order</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Order</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">baseUrl</span><span class="si">}</span><span class="sb">/orders/</span><span class="si">${</span><span class="nx">orderId</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;PATCH&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="kt">JSON.stringify</span><span class="p">(</span><span class="nx">updates</span><span class="p">),</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Failed to update order: </span><span class="si">${</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusText</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">cancelOrder</span><span class="p">(</span><span class="nx">orderId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Order</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">updateOrder</span><span class="p">(</span><span class="nx">orderId</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">status</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;cancelled&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>State management</strong> (Zustand, but could be replaced):</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/adapters/state/orderStore.ts</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">create</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;zustand&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">OrderItem</span><span class="p">,</span><span class="w"> </span><span class="nx">ShippingAddress</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/domain/models/Order&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">PricingService</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/domain/services/PricingService&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">OrderValidator</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/domain/validation/orderValidation&#39;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">OrderState</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="kt">OrderItem</span><span class="p">[];</span>
<span class="w">  </span><span class="nx">shippingAddress</span><span class="o">:</span><span class="w"> </span><span class="kt">ShippingAddress</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// Computed values</span>
<span class="w">  </span><span class="nx">subtotal</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">  </span><span class="nx">tax</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">  </span><span class="nx">shipping</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">  </span><span class="nx">total</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// Actions</span>
<span class="w">  </span><span class="nx">addItem</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">productId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">quantity</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">,</span><span class="w"> </span><span class="nx">price</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="w">  </span><span class="nx">removeItem</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">productId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="w">  </span><span class="nx">updateQuantity</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">productId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">quantity</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="w">  </span><span class="nx">setShippingAddress</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">address</span><span class="o">:</span><span class="w"> </span><span class="kt">ShippingAddress</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="w">  </span><span class="nx">clearOrder</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// Validation</span>
<span class="w">  </span><span class="nx">validate</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="kt">string</span><span class="p">[];</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">pricingService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">PricingService</span><span class="p">();</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">validator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">OrderValidator</span><span class="p">();</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">useOrderStore</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">create</span><span class="o">&lt;</span><span class="nx">OrderState</span><span class="o">&gt;</span><span class="p">((</span><span class="nx">set</span><span class="p">,</span><span class="w"> </span><span class="nx">get</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">({</span>
<span class="w">  </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">  </span><span class="nx">shippingAddress</span><span class="o">:</span><span class="w"> </span><span class="kt">null</span><span class="p">,</span>
<span class="w">  </span><span class="nx">subtotal</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span>
<span class="w">  </span><span class="nx">tax</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span>
<span class="w">  </span><span class="nx">shipping</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span>
<span class="w">  </span><span class="nx">total</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span>

<span class="w">  </span><span class="nx">addItem</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">productId</span><span class="p">,</span><span class="w"> </span><span class="nx">quantity</span><span class="p">,</span><span class="w"> </span><span class="nx">price</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">set</span><span class="p">((</span><span class="nx">state</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">existingItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">item</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">item</span><span class="p">.</span><span class="nx">productId</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">productId</span><span class="p">);</span>

<span class="w">      </span><span class="kd">let</span><span class="w"> </span><span class="nx">newItems</span><span class="o">:</span><span class="w"> </span><span class="kt">OrderItem</span><span class="p">[];</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">existingItem</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">newItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">          </span><span class="nx">item</span><span class="p">.</span><span class="nx">productId</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">productId</span>
<span class="w">            </span><span class="o">?</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="nx">item</span><span class="p">,</span><span class="w"> </span><span class="nx">quantity</span><span class="o">:</span><span class="w"> </span><span class="kt">item.quantity</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">quantity</span><span class="w"> </span><span class="p">}</span>
<span class="w">            </span><span class="o">:</span><span class="w"> </span><span class="nx">item</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">newItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">...</span><span class="nx">state</span><span class="p">.</span><span class="nx">items</span><span class="p">,</span>
<span class="w">          </span><span class="p">{</span><span class="w"> </span><span class="nx">productId</span><span class="p">,</span><span class="w"> </span><span class="nx">quantity</span><span class="p">,</span><span class="w"> </span><span class="nx">priceAtPurchase</span><span class="o">:</span><span class="w"> </span><span class="kt">price</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="p">];</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">pricing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">shippingAddress</span>
<span class="w">        </span><span class="o">?</span><span class="w"> </span><span class="nx">pricingService</span><span class="p">.</span><span class="nx">calculateTotal</span><span class="p">(</span><span class="nx">newItems</span><span class="p">,</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">shippingAddress</span><span class="p">)</span>
<span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">subtotal</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span><span class="w"> </span><span class="nx">tax</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span><span class="w"> </span><span class="nx">shipping</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span><span class="w"> </span><span class="nx">total</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="w"> </span><span class="p">};</span>

<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="kt">newItems</span><span class="p">,</span>
<span class="w">        </span><span class="p">...</span><span class="nx">pricing</span><span class="p">,</span>
<span class="w">      </span><span class="p">};</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">},</span>

<span class="w">  </span><span class="nx">removeItem</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">productId</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">set</span><span class="p">((</span><span class="nx">state</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">newItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">item</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">item</span><span class="p">.</span><span class="nx">productId</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">productId</span><span class="p">);</span>

<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">pricing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">shippingAddress</span>
<span class="w">        </span><span class="o">?</span><span class="w"> </span><span class="nx">pricingService</span><span class="p">.</span><span class="nx">calculateTotal</span><span class="p">(</span><span class="nx">newItems</span><span class="p">,</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">shippingAddress</span><span class="p">)</span>
<span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">subtotal</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span><span class="w"> </span><span class="nx">tax</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span><span class="w"> </span><span class="nx">shipping</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span><span class="w"> </span><span class="nx">total</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="w"> </span><span class="p">};</span>

<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="kt">newItems</span><span class="p">,</span>
<span class="w">        </span><span class="p">...</span><span class="nx">pricing</span><span class="p">,</span>
<span class="w">      </span><span class="p">};</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">},</span>

<span class="w">  </span><span class="nx">updateQuantity</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">productId</span><span class="p">,</span><span class="w"> </span><span class="nx">quantity</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">set</span><span class="p">((</span><span class="nx">state</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">newItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">        </span><span class="nx">item</span><span class="p">.</span><span class="nx">productId</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">productId</span>
<span class="w">          </span><span class="o">?</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="nx">item</span><span class="p">,</span><span class="w"> </span><span class="nx">quantity</span><span class="w"> </span><span class="p">}</span>
<span class="w">          </span><span class="o">:</span><span class="w"> </span><span class="nx">item</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">pricing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">shippingAddress</span>
<span class="w">        </span><span class="o">?</span><span class="w"> </span><span class="nx">pricingService</span><span class="p">.</span><span class="nx">calculateTotal</span><span class="p">(</span><span class="nx">newItems</span><span class="p">,</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">shippingAddress</span><span class="p">)</span>
<span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">subtotal</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span><span class="w"> </span><span class="nx">tax</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span><span class="w"> </span><span class="nx">shipping</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span><span class="w"> </span><span class="nx">total</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="w"> </span><span class="p">};</span>

<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="kt">newItems</span><span class="p">,</span>
<span class="w">        </span><span class="p">...</span><span class="nx">pricing</span><span class="p">,</span>
<span class="w">      </span><span class="p">};</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">},</span>

<span class="w">  </span><span class="nx">setShippingAddress</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">address</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">set</span><span class="p">((</span><span class="nx">state</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">pricing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">pricingService</span><span class="p">.</span><span class="nx">calculateTotal</span><span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">items</span><span class="p">,</span><span class="w"> </span><span class="nx">address</span><span class="p">);</span>

<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">shippingAddress</span><span class="o">:</span><span class="w"> </span><span class="kt">address</span><span class="p">,</span>
<span class="w">        </span><span class="p">...</span><span class="nx">pricing</span><span class="p">,</span>
<span class="w">      </span><span class="p">};</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">},</span>

<span class="w">  </span><span class="nx">clearOrder</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">set</span><span class="p">({</span>
<span class="w">      </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">      </span><span class="nx">shippingAddress</span><span class="o">:</span><span class="w"> </span><span class="kt">null</span><span class="p">,</span>
<span class="w">      </span><span class="nx">subtotal</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span>
<span class="w">      </span><span class="nx">tax</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span>
<span class="w">      </span><span class="nx">shipping</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span>
<span class="w">      </span><span class="nx">total</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">},</span>

<span class="w">  </span><span class="nx">validate</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">get</span><span class="p">();</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">state</span><span class="p">.</span><span class="nx">shippingAddress</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;Shipping address is required&#39;</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">errors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">validator</span><span class="p">.</span><span class="nx">validate</span><span class="p">({</span>
<span class="w">      </span><span class="nx">customerId</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Would come from auth context</span>
<span class="w">      </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="kt">state.items</span><span class="p">,</span>
<span class="w">      </span><span class="nx">shippingAddress</span><span class="o">:</span><span class="w"> </span><span class="kt">state.shippingAddress</span><span class="p">,</span>
<span class="w">      </span><span class="nx">subtotal</span><span class="o">:</span><span class="w"> </span><span class="kt">state.subtotal</span><span class="p">,</span>
<span class="w">      </span><span class="nx">tax</span><span class="o">:</span><span class="w"> </span><span class="kt">state.tax</span><span class="p">,</span>
<span class="w">      </span><span class="nx">shipping</span><span class="o">:</span><span class="w"> </span><span class="kt">state.shipping</span><span class="p">,</span>
<span class="w">      </span><span class="nx">total</span><span class="o">:</span><span class="w"> </span><span class="kt">state.total</span><span class="p">,</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">error</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">}));</span>
</code></pre></div>

<p><strong>Why this matters</strong>:</p>
<p>The adapter layer uses Zustand (a React state management library), but notice:
- All business logic is delegated to <code>PricingService</code> and <code>OrderValidator</code>
- The store is just glue code connecting UI to business logic
- If you migrate from Zustand to Redux or Jotai, you only rewrite this file
- The business logic remains untouched</p>
<h3 id="phase-3-react-ui-layer">Phase 3: React UI Layer</h3>
<p>Finally, we build React components that use the adapters. This is the only layer that's truly React-specific.</p>
<p><strong>Order form component</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/ui/components/OrderForm.tsx</span>
<span class="s1">&#39;use client&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useOrderStore</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/adapters/state/orderStore&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">OrderApiClient</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/adapters/api/OrderApiClient&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">apiClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">OrderApiClient</span><span class="p">();</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">OrderForm</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">items</span><span class="p">,</span>
<span class="w">    </span><span class="nx">shippingAddress</span><span class="p">,</span>
<span class="w">    </span><span class="nx">subtotal</span><span class="p">,</span>
<span class="w">    </span><span class="nx">tax</span><span class="p">,</span>
<span class="w">    </span><span class="nx">shipping</span><span class="p">,</span>
<span class="w">    </span><span class="nx">total</span><span class="p">,</span>
<span class="w">    </span><span class="nx">setShippingAddress</span><span class="p">,</span>
<span class="w">    </span><span class="nx">validate</span><span class="p">,</span>
<span class="w">    </span><span class="nx">clearOrder</span><span class="p">,</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useOrderStore</span><span class="p">();</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">formData</span><span class="p">,</span><span class="w"> </span><span class="nx">setFormData</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">({</span>
<span class="w">    </span><span class="nx">street</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">city</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">state</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">zipCode</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">country</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;US&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">errors</span><span class="p">,</span><span class="w"> </span><span class="nx">setErrors</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">&lt;</span><span class="nt">string</span><span class="err">[]</span><span class="p">&gt;([]);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">isSubmitting</span><span class="p">,</span><span class="w"> </span><span class="nx">setIsSubmitting</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">orderConfirmed</span><span class="p">,</span><span class="w"> </span><span class="nx">setOrderConfirmed</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleInputChange</span><span class="p">(</span><span class="nx">e</span><span class="o">:</span><span class="w"> </span><span class="kt">React.ChangeEvent</span><span class="p">&lt;</span><span class="nt">HTMLInputElement</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="na">HTMLSelectElement</span><span class="p">&gt;)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">;</span>
<span class="w">    </span><span class="nx">setFormData</span><span class="p">(</span><span class="nx">prev</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="p">...</span><span class="nx">prev</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nx">name</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="p">}));</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleAddressSubmit</span><span class="p">(</span><span class="nx">e</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FormEvent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
<span class="w">    </span><span class="nx">setShippingAddress</span><span class="p">(</span><span class="nx">formData</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleOrderSubmit</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">validationErrors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">validate</span><span class="p">();</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">validationErrors</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">setErrors</span><span class="p">(</span><span class="nx">validationErrors</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">setIsSubmitting</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="nx">setErrors</span><span class="p">([]);</span>

<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="nx">apiClient</span><span class="p">.</span><span class="nx">createOrder</span><span class="p">({</span>
<span class="w">        </span><span class="nx">customerId</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;current-user-id&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Would come from auth context</span>
<span class="w">        </span><span class="nx">items</span><span class="p">,</span>
<span class="w">        </span><span class="nx">shippingAddress</span><span class="o">:</span><span class="w"> </span><span class="kt">shippingAddress</span><span class="o">!</span><span class="p">,</span>
<span class="w">        </span><span class="nx">subtotal</span><span class="p">,</span>
<span class="w">        </span><span class="nx">tax</span><span class="p">,</span>
<span class="w">        </span><span class="nx">shipping</span><span class="p">,</span>
<span class="w">        </span><span class="nx">total</span><span class="p">,</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="nx">setOrderConfirmed</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">      </span><span class="nx">clearOrder</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">setErrors</span><span class="p">([</span><span class="s1">&#39;Failed to submit order. Please try again.&#39;</span><span class="p">]);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">setIsSubmitting</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">orderConfirmed</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;p-6 bg-green-50 border border-green-200 rounded&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">h2</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;text-2xl font-bold text-green-800 mb-2&quot;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="nx">Order</span><span class="w"> </span><span class="nx">Confirmed</span><span class="o">!</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;text-green-700&quot;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="nx">Thank</span><span class="w"> </span><span class="nx">you</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nx">your</span><span class="w"> </span><span class="nx">order</span><span class="p">.</span><span class="w"> </span><span class="nx">You</span><span class="s1">&#39;ll receive a confirmation email shortly.</span>
<span class="s1">        &lt;/p&gt;</span>
<span class="s1">      &lt;/div&gt;</span>
<span class="s1">    );</span>
<span class="s1">  }</span>

<span class="s1">  return (</span>
<span class="s1">    &lt;div className=&quot;max-w-2xl mx-auto p-6&quot;&gt;</span>
<span class="s1">      &lt;h1 className=&quot;text-3xl font-bold mb-6&quot;&gt;Checkout&lt;/h1&gt;</span>

<span class="s1">      {/* Order items summary */}</span>
<span class="s1">      &lt;div className=&quot;mb-8&quot;&gt;</span>
<span class="s1">        &lt;h2 className=&quot;text-xl font-semibold mb-4&quot;&gt;Order Items&lt;/h2&gt;</span>
<span class="s1">        {items.length === 0 ? (</span>
<span class="s1">          &lt;p className=&quot;text-gray-600&quot;&gt;Your cart is empty&lt;/p&gt;</span>
<span class="s1">        ) : (</span>
<span class="s1">          &lt;ul className=&quot;space-y-2&quot;&gt;</span>
<span class="s1">            {items.map((item) =&gt; (</span>
<span class="s1">              &lt;li key={item.productId} className=&quot;flex justify-between&quot;&gt;</span>
<span class="s1">                &lt;span&gt;Product {item.productId} Ã— {item.quantity}&lt;/span&gt;</span>
<span class="s1">                &lt;span&gt;${(item.priceAtPurchase * item.quantity).toFixed(2)}&lt;/span&gt;</span>
<span class="s1">              &lt;/li&gt;</span>
<span class="s1">            ))}</span>
<span class="s1">          &lt;/ul&gt;</span>
<span class="s1">        )}</span>
<span class="s1">      &lt;/div&gt;</span>

<span class="s1">      {/* Shipping address form */}</span>
<span class="s1">      &lt;form onSubmit={handleAddressSubmit} className=&quot;mb-8&quot;&gt;</span>
<span class="s1">        &lt;h2 className=&quot;text-xl font-semibold mb-4&quot;&gt;Shipping Address&lt;/h2&gt;</span>

<span class="s1">        &lt;div className=&quot;space-y-4&quot;&gt;</span>
<span class="s1">          &lt;input</span>
<span class="s1">            type=&quot;text&quot;</span>
<span class="s1">            name=&quot;street&quot;</span>
<span class="s1">            value={formData.street}</span>
<span class="s1">            onChange={handleInputChange}</span>
<span class="s1">            placeholder=&quot;Street Address&quot;</span>
<span class="s1">            required</span>
<span class="s1">            className=&quot;w-full px-4 py-2 border rounded&quot;</span>
<span class="s1">          /&gt;</span>

<span class="s1">          &lt;div className=&quot;grid grid-cols-2 gap-4&quot;&gt;</span>
<span class="s1">            &lt;input</span>
<span class="s1">              type=&quot;text&quot;</span>
<span class="s1">              name=&quot;city&quot;</span>
<span class="s1">              value={formData.city}</span>
<span class="s1">              onChange={handleInputChange}</span>
<span class="s1">              placeholder=&quot;City&quot;</span>
<span class="s1">              required</span>
<span class="s1">              className=&quot;px-4 py-2 border rounded&quot;</span>
<span class="s1">            /&gt;</span>

<span class="s1">            &lt;input</span>
<span class="s1">              type=&quot;text&quot;</span>
<span class="s1">              name=&quot;state&quot;</span>
<span class="s1">              value={formData.state}</span>
<span class="s1">              onChange={handleInputChange}</span>
<span class="s1">              placeholder=&quot;State&quot;</span>
<span class="s1">              required</span>
<span class="s1">              className=&quot;px-4 py-2 border rounded&quot;</span>
<span class="s1">            /&gt;</span>
<span class="s1">          &lt;/div&gt;</span>

<span class="s1">          &lt;div className=&quot;grid grid-cols-2 gap-4&quot;&gt;</span>
<span class="s1">            &lt;input</span>
<span class="s1">              type=&quot;text&quot;</span>
<span class="s1">              name=&quot;zipCode&quot;</span>
<span class="s1">              value={formData.zipCode}</span>
<span class="s1">              onChange={handleInputChange}</span>
<span class="s1">              placeholder=&quot;ZIP Code&quot;</span>
<span class="s1">              required</span>
<span class="s1">              className=&quot;px-4 py-2 border rounded&quot;</span>
<span class="s1">            /&gt;</span>

<span class="s1">            &lt;select</span>
<span class="s1">              name=&quot;country&quot;</span>
<span class="s1">              value={formData.country}</span>
<span class="s1">              onChange={handleInputChange}</span>
<span class="s1">              className=&quot;px-4 py-2 border rounded&quot;</span>
<span class="s1">            &gt;</span>
<span class="s1">              &lt;option value=&quot;US&quot;&gt;United States&lt;/option&gt;</span>
<span class="s1">              &lt;option value=&quot;CA&quot;&gt;Canada&lt;/option&gt;</span>
<span class="s1">              &lt;option value=&quot;MX&quot;&gt;Mexico&lt;/option&gt;</span>
<span class="s1">            &lt;/select&gt;</span>
<span class="s1">          &lt;/div&gt;</span>
<span class="s1">        &lt;/div&gt;</span>

<span class="s1">        &lt;button</span>
<span class="s1">          type=&quot;submit&quot;</span>
<span class="s1">          className=&quot;mt-4 px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700&quot;</span>
<span class="s1">        &gt;</span>
<span class="s1">          Calculate Shipping</span>
<span class="s1">        &lt;/button&gt;</span>
<span class="s1">      &lt;/form&gt;</span>

<span class="s1">      {/* Order summary */}</span>
<span class="s1">      {shippingAddress &amp;&amp; (</span>
<span class="s1">        &lt;div className=&quot;mb-8 p-4 bg-gray-50 rounded&quot;&gt;</span>
<span class="s1">          &lt;h2 className=&quot;text-xl font-semibold mb-4&quot;&gt;Order Summary&lt;/h2&gt;</span>

<span class="s1">          &lt;div className=&quot;space-y-2&quot;&gt;</span>
<span class="s1">            &lt;div className=&quot;flex justify-between&quot;&gt;</span>
<span class="s1">              &lt;span&gt;Subtotal:&lt;/span&gt;</span>
<span class="s1">              &lt;span&gt;${subtotal.toFixed(2)}&lt;/span&gt;</span>
<span class="s1">            &lt;/div&gt;</span>
<span class="s1">            &lt;div className=&quot;flex justify-between&quot;&gt;</span>
<span class="s1">              &lt;span&gt;Tax:&lt;/span&gt;</span>
<span class="s1">              &lt;span&gt;${tax.toFixed(2)}&lt;/span&gt;</span>
<span class="s1">            &lt;/div&gt;</span>
<span class="s1">            &lt;div className=&quot;flex justify-between&quot;&gt;</span>
<span class="s1">              &lt;span&gt;Shipping:&lt;/span&gt;</span>
<span class="s1">              &lt;span&gt;{shipping === 0 ? &#39;</span><span class="nx">FREE</span><span class="s1">&#39; : `$${shipping.toFixed(2)}`}&lt;/span&gt;</span>
<span class="s1">            &lt;/div&gt;</span>
<span class="s1">            &lt;div className=&quot;flex justify-between font-bold text-lg pt-2 border-t&quot;&gt;</span>
<span class="s1">              &lt;span&gt;Total:&lt;/span&gt;</span>
<span class="s1">              &lt;span&gt;${total.toFixed(2)}&lt;/span&gt;</span>
<span class="s1">            &lt;/div&gt;</span>
<span class="s1">          &lt;/div&gt;</span>
<span class="s1">        &lt;/div&gt;</span>
<span class="s1">      )}</span>

<span class="s1">      {/* Errors */}</span>
<span class="s1">      {errors.length &gt; 0 &amp;&amp; (</span>
<span class="s1">        &lt;div className=&quot;mb-4 p-4 bg-red-50 border border-red-200 rounded&quot;&gt;</span>
<span class="s1">          &lt;ul className=&quot;list-disc list-inside text-red-700&quot;&gt;</span>
<span class="s1">            {errors.map((error, index) =&gt; (</span>
<span class="s1">              &lt;li key={index}&gt;{error}&lt;/li&gt;</span>
<span class="s1">            ))}</span>
<span class="s1">          &lt;/ul&gt;</span>
<span class="s1">        &lt;/div&gt;</span>
<span class="s1">      )}</span>

<span class="s1">      {/* Submit button */}</span>
<span class="s1">      &lt;button</span>
<span class="s1">        onClick={handleOrderSubmit}</span>
<span class="s1">        disabled={!shippingAddress || items.length === 0 || isSubmitting}</span>
<span class="s1">        className=&quot;w-full px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed&quot;</span>
<span class="s1">      &gt;</span>
<span class="s1">        {isSubmitting ? &#39;</span><span class="nx">Processing</span><span class="p">...</span><span class="s1">&#39; : &#39;</span><span class="nx">Place</span><span class="w"> </span><span class="nx">Order</span><span class="err">&#39;</span><span class="p">}</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Why this matters</strong>:</p>
<p>The React component is just a thin UI layer. It:
- Displays data from the store
- Handles user input
- Delegates all logic to the business layer</p>
<p>If you migrate from React to Svelte, you rewrite this component, but:
- <code>PricingService</code> stays the same
- <code>OrderValidator</code> stays the same
- <code>OrderApiClient</code> stays the same (or needs minimal changes)</p>
<p><strong>Migration effort</strong>:</p>
<div class="codehilite"><pre><span></span><code>Total codebase: 1000 lines
- Business logic: 400 lines (0% rewrite needed)
- Adapters: 300 lines (20% rewrite needed)
- UI components: 300 lines (100% rewrite needed)

Total rewrite: ~360 lines (36% of codebase)
</code></pre></div>

<p>Compare this to a typical React app where business logic is mixed into components:</p>
<div class="codehilite"><pre><span></span><code>Typical React app: 1000 lines
- Mixed business logic + UI: 1000 lines (80-100% rewrite needed)

Total rewrite: ~800-1000 lines (80-100% of codebase)
</code></pre></div>

<p>By separating concerns, you reduce migration effort by 50-70%.</p>
<h3 id="the-testing-advantage">The Testing Advantage</h3>
<p>Framework-agnostic business logic is also <strong>easier to test</strong>. You don't need React Testing Library, jsdom, or any React-specific tooling.</p>
<p><strong>Testing business logic</strong> (pure unit tests):</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/domain/services/PricingService.test.ts</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">describe</span><span class="p">,</span><span class="w"> </span><span class="nx">it</span><span class="p">,</span><span class="w"> </span><span class="nx">expect</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vitest&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">PricingService</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./PricingService&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">OrderItem</span><span class="p">,</span><span class="w"> </span><span class="nx">ShippingAddress</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../models/Order&#39;</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;PricingService&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">service</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">PricingService</span><span class="p">();</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">sampleItems</span><span class="o">:</span><span class="w"> </span><span class="kt">OrderItem</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">productId</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">quantity</span><span class="o">:</span><span class="w"> </span><span class="kt">2</span><span class="p">,</span><span class="w"> </span><span class="nx">priceAtPurchase</span><span class="o">:</span><span class="w"> </span><span class="kt">10</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">productId</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">quantity</span><span class="o">:</span><span class="w"> </span><span class="kt">1</span><span class="p">,</span><span class="w"> </span><span class="nx">priceAtPurchase</span><span class="o">:</span><span class="w"> </span><span class="kt">30</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">];</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">usAddress</span><span class="o">:</span><span class="w"> </span><span class="kt">ShippingAddress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">street</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;123 Main St&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">city</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;New York&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">state</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;NY&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">zipCode</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;10001&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">country</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;US&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;calculateSubtotal&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;calculates subtotal correctly&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">subtotal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">calculateSubtotal</span><span class="p">(</span><span class="nx">sampleItems</span><span class="p">);</span>
<span class="w">      </span><span class="nx">expect</span><span class="p">(</span><span class="nx">subtotal</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">50</span><span class="p">);</span><span class="w"> </span><span class="c1">// (2 * 10) + (1 * 30)</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;returns 0 for empty cart&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">subtotal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">calculateSubtotal</span><span class="p">([]);</span>
<span class="w">      </span><span class="nx">expect</span><span class="p">(</span><span class="nx">subtotal</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;calculateTax&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;calculates 8% tax&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">tax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">calculateTax</span><span class="p">(</span><span class="mf">100</span><span class="p">);</span>
<span class="w">      </span><span class="nx">expect</span><span class="p">(</span><span class="nx">tax</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">8</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;calculateShipping&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;charges standard shipping for orders under $50&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">shipping</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">calculateShipping</span><span class="p">(</span><span class="mf">40</span><span class="p">,</span><span class="w"> </span><span class="nx">usAddress</span><span class="p">);</span>
<span class="w">      </span><span class="nx">expect</span><span class="p">(</span><span class="nx">shipping</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">5.99</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;provides free shipping for orders over $50&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">shipping</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">calculateShipping</span><span class="p">(</span><span class="mf">60</span><span class="p">,</span><span class="w"> </span><span class="nx">usAddress</span><span class="p">);</span>
<span class="w">      </span><span class="nx">expect</span><span class="p">(</span><span class="nx">shipping</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;doubles shipping cost for international orders&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">intlAddress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="nx">usAddress</span><span class="p">,</span><span class="w"> </span><span class="nx">country</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;CA&#39;</span><span class="w"> </span><span class="p">};</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">shipping</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">calculateShipping</span><span class="p">(</span><span class="mf">40</span><span class="p">,</span><span class="w"> </span><span class="nx">intlAddress</span><span class="p">);</span>
<span class="w">      </span><span class="nx">expect</span><span class="p">(</span><span class="nx">shipping</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">11.98</span><span class="p">);</span><span class="w"> </span><span class="c1">// 5.99 * 2</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;calculateTotal&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;calculates complete order total&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">calculateTotal</span><span class="p">(</span><span class="nx">sampleItems</span><span class="p">,</span><span class="w"> </span><span class="nx">usAddress</span><span class="p">);</span>

<span class="w">      </span><span class="nx">expect</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">subtotal</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">50</span><span class="p">);</span>
<span class="w">      </span><span class="nx">expect</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">tax</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">4</span><span class="p">);</span><span class="w"> </span><span class="c1">// 8% of 50</span>
<span class="w">      </span><span class="nx">expect</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">shipping</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// Free shipping over $50</span>
<span class="w">      </span><span class="nx">expect</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">total</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">54</span><span class="p">);</span><span class="w"> </span><span class="c1">// 50 + 4 + 0</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">});</span>
</code></pre></div>

<p><strong>Notice</strong>:
- No React imports
- No component rendering
- No DOM manipulation
- Just pure function testing
- Runs in milliseconds
- No flakiness</p>
<p>This is <strong>fast, reliable testing</strong> that will work regardless of your UI framework.</p>
<h3 id="patterns-for-maintainable-architecture">Patterns for Maintainable Architecture</h3>
<p>Based on the reference implementation, here are the key patterns for building maintainable applications:</p>
<h3 id="pattern-1-domain-driven-design-lite">Pattern 1: Domain-Driven Design (Lite)</h3>
<p>Organize code by <strong>domain concepts</strong>, not technical layers.</p>
<p><strong>Bad</strong> (organized by technology):</p>
<div class="codehilite"><pre><span></span><code>src/
â”œâ”€â”€<span class="w"> </span>components/
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>OrderForm.tsx
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>ProductList.tsx
â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>UserProfile.tsx
â”œâ”€â”€<span class="w"> </span>hooks/
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>useOrder.ts
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>useProducts.ts
â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>useUser.ts
â”œâ”€â”€<span class="w"> </span>api/
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>orders.ts
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>products.ts
â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>users.ts
â””â”€â”€<span class="w"> </span>utils/
<span class="w">    </span>â”œâ”€â”€<span class="w"> </span>validation.ts
<span class="w">    </span>â””â”€â”€<span class="w"> </span>formatting.ts
</code></pre></div>

<p><strong>Good</strong> (organized by domain):</p>
<div class="codehilite"><pre><span></span><code>src/
â”œâ”€â”€<span class="w"> </span>orders/
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>domain/
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>Order.ts
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>OrderService.ts
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>orderValidation.ts
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>adapters/
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>OrderApiClient.ts
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>orderStore.ts
â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>ui/
â”‚<span class="w">       </span>â”œâ”€â”€<span class="w"> </span>OrderForm.tsx
â”‚<span class="w">       </span>â””â”€â”€<span class="w"> </span>OrderSummary.tsx
â”œâ”€â”€<span class="w"> </span>products/
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>domain/
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>Product.ts
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>ProductService.ts
â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>adapters/
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>ProductApiClient.ts
â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>ui/
â”‚<span class="w">       </span>â””â”€â”€<span class="w"> </span>ProductList.tsx
â””â”€â”€<span class="w"> </span>users/
<span class="w">    </span>â”œâ”€â”€<span class="w"> </span>domain/
<span class="w">    </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>User.ts
<span class="w">    </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>UserService.ts
<span class="w">    </span>â”œâ”€â”€<span class="w"> </span>adapters/
<span class="w">    </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>UserApiClient.ts
<span class="w">    </span>â””â”€â”€<span class="w"> </span>ui/
<span class="w">        </span>â””â”€â”€<span class="w"> </span>UserProfile.tsx
</code></pre></div>

<p><strong>Why</strong>: When you need to understand or modify order-related functionality, everything is in one place. When you migrate frameworks, you know exactly which files need rewriting (the <code>ui/</code> folders).</p>
<h3 id="pattern-2-dependency-injection">Pattern 2: Dependency Injection</h3>
<p>Make dependencies explicit and injectable, not hardcoded.</p>
<p><strong>Bad</strong> (hardcoded dependencies):</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// Component directly imports and uses API client</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">OrderApiClient</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/api/OrderApiClient&#39;</span><span class="p">;</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">OrderForm</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">apiClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">OrderApiClient</span><span class="p">();</span><span class="w"> </span><span class="c1">// Hardcoded</span>

<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleSubmit</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">apiClient</span><span class="p">.</span><span class="nx">createOrder</span><span class="p">(</span><span class="nx">orderData</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Good</strong> (injected dependencies):</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// Component receives API client as prop or context</span>
<span class="kd">interface</span><span class="w"> </span><span class="nx">OrderFormProps</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">apiClient</span><span class="o">:</span><span class="w"> </span><span class="kt">OrderApiClient</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">OrderForm</span><span class="p">({</span><span class="w"> </span><span class="nx">apiClient</span><span class="w"> </span><span class="p">}</span><span class="o">:</span><span class="w"> </span><span class="nx">OrderFormProps</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleSubmit</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">apiClient</span><span class="p">.</span><span class="nx">createOrder</span><span class="p">(</span><span class="nx">orderData</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// Or use context for app-wide dependencies</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">ApiContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createContext</span><span class="o">&lt;</span><span class="nx">OrderApiClient</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">OrderForm</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">apiClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useContext</span><span class="p">(</span><span class="nx">ApiContext</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">apiClient</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">&#39;ApiContext not provided&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Why</strong>: Injected dependencies make testing easier (you can inject mocks) and make it possible to swap implementations without changing component code.</p>
<h3 id="pattern-3-interface-based-contracts">Pattern 3: Interface-Based Contracts</h3>
<p>Define interfaces for adapters, not concrete implementations.</p>
<p><strong>Bad</strong> (concrete class dependency):</p>
<div class="codehilite"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">OrderApiClient</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./OrderApiClient&#39;</span><span class="p">;</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">useOrders</span><span class="p">(</span><span class="nx">client</span><span class="o">:</span><span class="w"> </span><span class="kt">OrderApiClient</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Tightly coupled to specific implementation</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Good</strong> (interface dependency):</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// Define interface</span>
<span class="kd">interface</span><span class="w"> </span><span class="nx">IOrderRepository</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">createOrder</span><span class="p">(</span><span class="nx">draft</span><span class="o">:</span><span class="w"> </span><span class="kt">OrderDraft</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Order</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">  </span><span class="nx">getOrder</span><span class="p">(</span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Order</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">  </span><span class="nx">updateOrder</span><span class="p">(</span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">updates</span><span class="o">:</span><span class="w"> </span><span class="kt">Partial</span><span class="o">&lt;</span><span class="nx">Order</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Order</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Implementation 1: REST API</span>
<span class="kd">class</span><span class="w"> </span><span class="nx">OrderApiClient</span><span class="w"> </span><span class="k">implements</span><span class="w"> </span><span class="nx">IOrderRepository</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">createOrder</span><span class="p">(</span><span class="nx">draft</span><span class="o">:</span><span class="w"> </span><span class="kt">OrderDraft</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Order</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// REST API implementation</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// Implementation 2: GraphQL</span>
<span class="kd">class</span><span class="w"> </span><span class="nx">OrderGraphQLClient</span><span class="w"> </span><span class="k">implements</span><span class="w"> </span><span class="nx">IOrderRepository</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">createOrder</span><span class="p">(</span><span class="nx">draft</span><span class="o">:</span><span class="w"> </span><span class="kt">OrderDraft</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Order</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// GraphQL implementation</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// Implementation 3: Mock for testing</span>
<span class="kd">class</span><span class="w"> </span><span class="nx">MockOrderRepository</span><span class="w"> </span><span class="k">implements</span><span class="w"> </span><span class="nx">IOrderRepository</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">createOrder</span><span class="p">(</span><span class="nx">draft</span><span class="o">:</span><span class="w"> </span><span class="kt">OrderDraft</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Order</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Return mock data</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// Hook depends on interface, not implementation</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">useOrders</span><span class="p">(</span><span class="nx">repository</span><span class="o">:</span><span class="w"> </span><span class="kt">IOrderRepository</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Can work with any implementation</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Why</strong>: You can swap implementations (REST â†’ GraphQL, real â†’ mock) without changing any code that uses the interface.</p>
<h3 id="pattern-4-pure-functions-for-business-logic">Pattern 4: Pure Functions for Business Logic</h3>
<p>Keep business logic in pure functions that are easy to test and reason about.</p>
<p><strong>Bad</strong> (business logic in component):</p>
<div class="codehilite"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">OrderSummary</span><span class="p">({</span><span class="w"> </span><span class="nx">items</span><span class="p">,</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Business logic mixed with UI</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">subtotal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">items</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">sum</span><span class="p">,</span><span class="w"> </span><span class="nx">item</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">item</span><span class="p">.</span><span class="nx">price</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">item</span><span class="p">.</span><span class="nx">quantity</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">tax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">subtotal</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.08</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">shipping</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">subtotal</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">50</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">0</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">address.country</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;US&#39;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">5.99</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">11.98</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">subtotal</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">tax</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">shipping</span><span class="p">;</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">Subtotal</span><span class="o">:</span><span class="w"> </span><span class="kt">$</span><span class="p">{</span><span class="nx">subtotal</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">Tax</span><span class="o">:</span><span class="w"> </span><span class="kt">$</span><span class="p">{</span><span class="nx">tax</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">Shipping</span><span class="o">:</span><span class="w"> </span><span class="kt">$</span><span class="p">{</span><span class="nx">shipping</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">Total</span><span class="o">:</span><span class="w"> </span><span class="kt">$</span><span class="p">{</span><span class="nx">total</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Good</strong> (business logic in service):</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// Business logic in pure function</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">calculateOrderTotal</span><span class="p">(</span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="kt">OrderItem</span><span class="p">[],</span><span class="w"> </span><span class="nx">address</span><span class="o">:</span><span class="w"> </span><span class="kt">ShippingAddress</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">subtotal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">items</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">sum</span><span class="p">,</span><span class="w"> </span><span class="nx">item</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">item</span><span class="p">.</span><span class="nx">price</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">item</span><span class="p">.</span><span class="nx">quantity</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">tax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">subtotal</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.08</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">shipping</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">subtotal</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">50</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">0</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">address.country</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;US&#39;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">5.99</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">11.98</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">subtotal</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">tax</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">shipping</span><span class="p">;</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">subtotal</span><span class="p">,</span><span class="w"> </span><span class="nx">tax</span><span class="p">,</span><span class="w"> </span><span class="nx">shipping</span><span class="p">,</span><span class="w"> </span><span class="nx">total</span><span class="w"> </span><span class="p">};</span>
<span class="p">}</span>

<span class="c1">// Component just displays</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">OrderSummary</span><span class="p">({</span><span class="w"> </span><span class="nx">items</span><span class="p">,</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">subtotal</span><span class="p">,</span><span class="w"> </span><span class="nx">tax</span><span class="p">,</span><span class="w"> </span><span class="nx">shipping</span><span class="p">,</span><span class="w"> </span><span class="nx">total</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">calculateOrderTotal</span><span class="p">(</span><span class="nx">items</span><span class="p">,</span><span class="w"> </span><span class="nx">address</span><span class="p">);</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">Subtotal</span><span class="o">:</span><span class="w"> </span><span class="kt">$</span><span class="p">{</span><span class="nx">subtotal</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">Tax</span><span class="o">:</span><span class="w"> </span><span class="kt">$</span><span class="p">{</span><span class="nx">tax</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">Shipping</span><span class="o">:</span><span class="w"> </span><span class="kt">$</span><span class="p">{</span><span class="nx">shipping</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">Total</span><span class="o">:</span><span class="w"> </span><span class="kt">$</span><span class="p">{</span><span class="nx">total</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Why</strong>: The business logic can be tested independently, reused in other contexts (server-side, CLI tools), and migrated to other frameworks without changes.</p>
<h3 id="the-migration-path-when-its-time-to-move-on">The Migration Path: When It's Time to Move On</h3>
<p>Eventually, you will need to migrate from React. Here's how the architecture we've built makes that manageable:</p>
<p><strong>Migration checklist</strong>:</p>
<ol>
<li><strong>Audit your codebase</strong>:</li>
<li>Identify framework-agnostic code (should be 40-60% of codebase)</li>
<li>Identify adapter code (should be 20-30% of codebase)</li>
<li>
<p>Identify UI code (should be 20-40% of codebase)</p>
</li>
<li>
<p><strong>Choose your new framework</strong>:</p>
</li>
<li>Evaluate based on current constraints (performance, team, ecosystem)</li>
<li>
<p>Prototype a few components to validate the choice</p>
</li>
<li>
<p><strong>Migrate in phases</strong>:</p>
</li>
<li><strong>Phase 1</strong>: Set up new framework alongside React</li>
<li><strong>Phase 2</strong>: Migrate one domain at a time (e.g., orders first)</li>
<li><strong>Phase 3</strong>: Rewrite adapters for new framework patterns</li>
<li><strong>Phase 4</strong>: Rewrite UI components</li>
<li>
<p><strong>Phase 5</strong>: Remove React dependencies</p>
</li>
<li>
<p><strong>Validate at each phase</strong>:</p>
</li>
<li>Run existing tests (business logic tests should pass unchanged)</li>
<li>Add new tests for new UI components</li>
<li>Monitor performance and user experience</li>
</ol>
<p><strong>Example migration timeline</strong> (React â†’ Svelte):</p>
<div class="codehilite"><pre><span></span><code><span class="nx">Week</span><span class="w"> </span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span><span class="w"> </span><span class="nx">Setup</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="nx">prototyping</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Set</span><span class="w"> </span><span class="nx">up</span><span class="w"> </span><span class="nx">Svelte</span><span class="w"> </span><span class="nx">alongside</span><span class="w"> </span><span class="nx">React</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Prototype</span><span class="w"> </span><span class="mi">2</span><span class="o">-</span><span class="mi">3</span><span class="w"> </span><span class="nx">components</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">validate</span><span class="w"> </span><span class="nx">approach</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Establish</span><span class="w"> </span><span class="nx">new</span><span class="w"> </span><span class="nx">patterns</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nx">Svelte</span>

<span class="nx">Week</span><span class="w"> </span><span class="mi">3</span><span class="o">-</span><span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="nx">Migrate</span><span class="w"> </span><span class="nx">orders</span><span class="w"> </span><span class="nx">domain</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Rewrite</span><span class="w"> </span><span class="nx">OrderForm</span><span class="p">.</span><span class="nx">tsx</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="nx">OrderForm</span><span class="p">.</span><span class="nx">svelte</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Rewrite</span><span class="w"> </span><span class="nx">OrderSummary</span><span class="p">.</span><span class="nx">tsx</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="nx">OrderSummary</span><span class="p">.</span><span class="nx">svelte</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Adapt</span><span class="w"> </span><span class="nx">orderStore</span><span class="p">.</span><span class="nx">ts</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nx">Svelte</span><span class="w"> </span><span class="nx">stores</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Business</span><span class="w"> </span><span class="nx">logic</span><span class="w"> </span><span class="p">(</span><span class="nx">PricingService</span><span class="p">,</span><span class="w"> </span><span class="nx">OrderValidator</span><span class="p">)</span><span class="w"> </span><span class="nx">unchanged</span>

<span class="nx">Week</span><span class="w"> </span><span class="mi">5</span><span class="o">-</span><span class="mi">6</span><span class="p">:</span><span class="w"> </span><span class="nx">Migrate</span><span class="w"> </span><span class="nx">products</span><span class="w"> </span><span class="nx">domain</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Rewrite</span><span class="w"> </span><span class="nx">ProductList</span><span class="p">.</span><span class="nx">tsx</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="nx">ProductList</span><span class="p">.</span><span class="nx">svelte</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Adapt</span><span class="w"> </span><span class="nx">productStore</span><span class="p">.</span><span class="nx">ts</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nx">Svelte</span><span class="w"> </span><span class="nx">stores</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Business</span><span class="w"> </span><span class="nx">logic</span><span class="w"> </span><span class="nx">unchanged</span>

<span class="nx">Week</span><span class="w"> </span><span class="mi">7</span><span class="o">-</span><span class="mi">8</span><span class="p">:</span><span class="w"> </span><span class="nx">Migrate</span><span class="w"> </span><span class="nx">users</span><span class="w"> </span><span class="nx">domain</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Rewrite</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">.</span><span class="nx">tsx</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">.</span><span class="nx">svelte</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Adapt</span><span class="w"> </span><span class="nx">userStore</span><span class="p">.</span><span class="nx">ts</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nx">Svelte</span><span class="w"> </span><span class="nx">stores</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Business</span><span class="w"> </span><span class="nx">logic</span><span class="w"> </span><span class="nx">unchanged</span>

<span class="nx">Week</span><span class="w"> </span><span class="mi">9</span><span class="o">-</span><span class="mi">10</span><span class="p">:</span><span class="w"> </span><span class="nx">Cleanup</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="nx">optimization</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Remove</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="nx">dependencies</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Optimize</span><span class="w"> </span><span class="nx">bundle</span><span class="w"> </span><span class="nx">size</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Performance</span><span class="w"> </span><span class="nx">testing</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Deploy</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">production</span>
</code></pre></div>

<p><strong>Total migration time</strong>: 10 weeks for a medium-sized application, with minimal risk because business logic remains stable throughout.</p>
<h3 id="the-long-term-mindset">The Long-Term Mindset</h3>
<p>Building maintainable applications requires thinking beyond the current framework:</p>
<p><strong>Ask yourself</strong>:</p>
<ol>
<li><strong>If I had to migrate this to a different framework in 5 years, how much would I need to rewrite?</strong></li>
<li>
<p>Target: &lt; 50% of codebase</p>
</li>
<li>
<p><strong>Can I test my business logic without any framework-specific tooling?</strong></p>
</li>
<li>
<p>Target: Yes, with pure unit tests</p>
</li>
<li>
<p><strong>Is my business logic reusable in other contexts</strong> (CLI tools, server-side, mobile)?</p>
</li>
<li>
<p>Target: Yes, it's framework-agnostic</p>
</li>
<li>
<p><strong>How coupled is my code to React-specific patterns?</strong></p>
</li>
<li>
<p>Target: Only UI components are React-specific</p>
</li>
<li>
<p><strong>Could a new developer understand the business logic without knowing React?</strong></p>
</li>
<li>Target: Yes, it's just TypeScript</li>
</ol>
<p>If you can answer these questions positively, you've built a maintainable application that will outlast React.</p>
<h3 id="the-final-lesson-frameworks-are-tools-not-foundations">The Final Lesson: Frameworks Are Tools, Not Foundations</h3>
<p>React is a tool. A powerful, well-designed tool that solves real problems. But it's not the foundation of your applicationâ€”your business logic is.</p>
<p><strong>The hierarchy</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                    </span><span class="n">Your</span><span class="w"> </span><span class="n">Business</span><span class="w">                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">              </span><span class="p">(</span><span class="n">The</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">provide</span><span class="p">)</span><span class="w">              </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">                          </span><span class="err">â†‘</span>
<span class="w">                          </span><span class="err">â”‚</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                  </span><span class="n">Business</span><span class="w"> </span><span class="n">Logic</span><span class="w">                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">         </span><span class="p">(</span><span class="n">Domain</span><span class="w"> </span><span class="n">models</span><span class="p">,</span><span class="w"> </span><span class="n">services</span><span class="p">,</span><span class="w"> </span><span class="n">validation</span><span class="p">)</span><span class="w">            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">              </span><span class="p">(</span><span class="n">Framework</span><span class="o">-</span><span class="n">agnostic</span><span class="p">)</span><span class="w">                        </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">                          </span><span class="err">â†‘</span>
<span class="w">                          </span><span class="err">â”‚</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                    </span><span class="n">Adapters</span><span class="w">                              </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">         </span><span class="p">(</span><span class="n">API</span><span class="w"> </span><span class="n">clients</span><span class="p">,</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">management</span><span class="p">)</span><span class="w">                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">              </span><span class="p">(</span><span class="n">Framework</span><span class="o">-</span><span class="n">aware</span><span class="p">)</span><span class="w">                           </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">                          </span><span class="err">â†‘</span>
<span class="w">                          </span><span class="err">â”‚</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                   </span><span class="n">UI</span><span class="w"> </span><span class="n">Framework</span><span class="w">                           </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                    </span><span class="p">(</span><span class="n">React</span><span class="p">)</span><span class="w">                               </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">              </span><span class="p">(</span><span class="n">Replaceable</span><span class="w"> </span><span class="k">tool</span><span class="p">)</span><span class="w">                          </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<p>Build your application from the top down, not the bottom up. Start with your business logic, then add adapters, then add UI. This way, when React eventually becomes legacy, your business logic survives.</p>
<p><strong>The professional developer's creed</strong>:</p>
<blockquote>
<p>"I build applications that solve problems. I use frameworks as tools to build those applications. When a better tool comes along, I can adopt it without rebuilding my application from scratch."</p>
</blockquote>
<p>This is the path to building maintainable applications that outlast framework churn. Not by avoiding frameworks, but by using them wiselyâ€”as tools, not foundations.</p>
<p>You've learned React. Now use it to build something that will outlive it.</p>
        </div>
        <div class="footer">
            Generated on 2025-12-03 12:33:35 | Made with â¤ï¸ by GitHub Pages Generator
        </div>
    </div>
    <script>
        // Syntax highlighting for code blocks
        document.addEventListener('DOMContentLoaded', (event) => {
            // Highlight code blocks
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightElement(block);
            });
            
            // Add copy buttons to code blocks
            document.querySelectorAll('pre').forEach((pre) => {
                const button = document.createElement('button');
                button.className = 'copy-btn';
                button.textContent = 'Copy';
                
                button.addEventListener('click', () => {
                    const code = pre.querySelector('code').textContent;
                    navigator.clipboard.writeText(code).then(() => {
                        button.textContent = 'Copied!';
                        button.classList.add('copied');
                        setTimeout(() => {
                            button.textContent = 'Copy';
                            button.classList.remove('copied');
                        }, 2000);
                    }).catch(err => {
                        console.error('Failed to copy:', err);
                        button.textContent = 'Error';
                        setTimeout(() => {
                            button.textContent = 'Copy';
                        }, 2000);
                    });
                });
                
                pre.appendChild(button);
            });
        });
    </script>
</body>
</html>