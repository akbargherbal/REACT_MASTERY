<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>03 State and Events</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --bg-main: #0f172a;
            --bg-card: #1e293b;
            --bg-code: #0f172a;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --border: #334155;
            --accent: #06b6d4;
            --success: #10b981;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.7; 
            color: var(--text-primary); 
            background: var(--bg-main);
        }
        
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 20px; 
        }
        
        .home-btn { 
            position: fixed; 
            top: 20px; 
            right: 20px; 
            background: var(--accent);
            color: white; 
            width: 50px;
            height: 50px;
            border-radius: 50%;
            text-decoration: none; 
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(6, 182, 212, 0.4);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .home-btn:hover { 
            background: #0891b2;
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(6, 182, 212, 0.5);
        }
        
        .breadcrumb { 
            background: var(--bg-card);
            padding: 12px 0; 
            margin-bottom: 24px; 
            font-size: 14px;
            border-radius: 8px;
            border: 1px solid var(--border);
        }
        
        .breadcrumb a { 
            color: var(--accent);
            text-decoration: none;
            transition: color 0.2s;
        }
        
        .breadcrumb a:hover { 
            color: var(--primary);
            text-decoration: underline;
        }
        
        .content { 
            background: var(--bg-card);
            padding: 3rem; 
            border-radius: 16px; 
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border);
        }
        
        .file-list { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); 
            gap: 1.5rem; 
            margin: 2rem 0; 
        }
        
        .file-item { 
            padding: 1.5rem; 
            border: 1px solid var(--border);
            border-radius: 12px; 
            background: var(--bg-main);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .file-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .file-item:hover { 
            transform: translateY(-4px); 
            box-shadow: 0 8px 30px rgba(99, 102, 241, 0.3);
            border-color: var(--primary);
        }
        
        .file-item:hover::before {
            opacity: 1;
        }
        
        .file-item a { 
            color: var(--text-primary);
            text-decoration: none; 
            font-weight: 600; 
            display: block;
            font-size: 1.1rem;
        }
        
        .file-item a:hover { 
            color: var(--primary);
        }
        
        .file-type { 
            font-size: 13px; 
            color: var(--text-secondary);
            margin-top: 8px; 
            font-weight: 500;
        }
        
        /* Code Blocks */
        pre { 
            background: var(--bg-code);
            padding: 1.5rem; 
            border-radius: 12px; 
            overflow-x: auto;
            border: 1px solid var(--border);
            margin: 1.5rem 0;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        pre code { 
            background: none;
            padding: 0;
            font-family: 'Fira Code', 'Consolas', monospace;
            font-size: 0.9em;
            line-height: 1.6;
        }
        
        /* Copy Button */
        .copy-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: var(--primary);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.2s;
            opacity: 0.7;
            z-index: 10;
        }
        
        .copy-btn:hover {
            opacity: 1;
            background: var(--primary-dark);
            transform: translateY(-1px);
        }
        
        .copy-btn.copied {
            background: var(--success);
        }
        
        pre:hover .copy-btn {
            opacity: 1;
        }
        
        /* Inline Code */
        code { 
            background: var(--bg-code);
            color: #8b5cf6;
            padding: 3px 8px; 
            border-radius: 6px; 
            font-size: 1.1em;
            font-family: 'Fira Code', 'Consolas', monospace;
            border: 1px solid var(--border);
        }
        
        /* Headings */
        h1, h2, h3, h4, h5, h6 { 
            color: var(--text-primary);
            margin: 2rem 0 1rem 0;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        
        h1 { 
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            border-bottom: 3px solid var(--primary);
            padding-bottom: 12px;
            margin-bottom: 1.5rem;
        }
        
        h2 { 
            font-size: 2rem;
            color: var(--primary);
            border-bottom: 2px solid var(--border);
            padding-bottom: 8px;
        }
        
        h3 { 
            font-size: 1.5rem;
            color: var(--accent);
        }
        
        /* Links */
        a { 
            color: var(--accent);
            transition: color 0.2s;
        }
        
        a:hover { 
            color: var(--primary);
        }
        
        /* Paragraphs */
        p {
            margin: 1rem 0;
            color: var(--text-secondary);
        }
        
        /* Lists */
        ul, ol {
            margin: 1rem 0;
            padding-left: 2rem;
            color: var(--text-secondary);
        }
        
        li {
            margin: 0.5rem 0;
        }
        
        /* Tables */
        table { 
            border-collapse: collapse;
            width: 100%;
            margin: 1.5rem 0;
            background: var(--bg-main);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        th, td { 
            border: 1px solid var(--border);
            padding: 12px 16px;
            text-align: left;
        }
        
        th { 
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: var(--bg-card);
        }
        
        /* Blockquotes */
        blockquote {
            border-left: 4px solid var(--primary);
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            background: var(--bg-main);
            border-radius: 0 8px 8px 0;
            color: var(--text-secondary);
            font-style: italic;
        }
        
        /* Horizontal Rule */
        hr {
            border: none;
            border-top: 2px solid var(--border);
            margin: 2rem 0;
        }
        
        .footer { 
            text-align: center; 
            padding: 2rem; 
            color: var(--text-secondary);
            border-top: 1px solid var(--border);
            margin-top: 3rem; 
            font-size: 14px;
        }
        
        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--bg-main);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 6px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary);
        }
        
        @media (max-width: 768px) {
            .container { padding: 10px; }
            .file-list { grid-template-columns: 1fr; }
            .content { padding: 1.5rem; }
            h1 { font-size: 2rem; }
            h2 { font-size: 1.5rem; }
        }
    </style>
</head>
<body>
    <a href="../index.html" class="home-btn">üè†</a>
    <div class="container">
        <div class="breadcrumb">
            <div style="padding: 0 20px;">
                <a href="../index.html">üè† Home</a> <span style="color: #64748b;">/</span> <a href="index.html">01 React Fundamentals</a>
            </div>
        </div>
        <div class="content">
            <h1 id="chapter-3-state-and-events">Chapter 3: State and Events</h1>
<h2 id="the-failure-why-variables-dont-work">The Failure: Why Variables Don't Work</h2>
<h2 id="the-failure-why-variables-dont-work_1">The Failure: Why Variables Don't Work</h2>
<p>We're going to build a user profile dashboard that displays user information and allows editing. This will be our <strong>anchor example</strong> throughout this chapter‚Äîwe'll refine it through multiple iterations as we discover React's state management patterns.</p>
<p>Let's start with what seems like the obvious approach: using regular JavaScript variables to track data that changes.</p>
<p><strong>Project Structure</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="nx">src</span><span class="o">/</span>
<span class="err">‚îú‚îÄ‚îÄ</span><span class="w"> </span><span class="nx">components</span><span class="o">/</span>
<span class="err">‚îÇ</span><span class="w">   </span><span class="err">‚îî‚îÄ‚îÄ</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">.</span><span class="nx">tsx</span><span class="w">  </span><span class="err">‚Üê</span><span class="w"> </span><span class="nx">Our</span><span class="w"> </span><span class="nx">reference</span><span class="w"> </span><span class="nx">implementation</span>
<span class="err">‚îî‚îÄ‚îÄ</span><span class="w"> </span><span class="nx">App</span><span class="p">.</span><span class="nx">tsx</span>
</code></pre></div>

<p>Here's our first attempt at an editable user profile:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/components/UserProfile.tsx</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Seems reasonable: store the user&#39;s name in a variable</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">userName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">userEmail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;jane@example.com&quot;</span><span class="p">;</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleNameChange</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">userName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Jane Doe&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// Update the variable</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Name updated to:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">userName</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleEmailChange</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">userEmail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;jane.doe@example.com&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// Update the variable</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Email updated to:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">userEmail</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-card&quot;</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">User</span><span class="w"> </span><span class="nx">Profile</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-info&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">strong</span><span class="p">&gt;</span><span class="nx">Name</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span><span class="w"> </span><span class="p">{</span><span class="nx">userName</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">strong</span><span class="p">&gt;</span><span class="nx">Email</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span><span class="w"> </span><span class="p">{</span><span class="nx">userEmail</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-actions&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleNameChange</span><span class="p">}&gt;</span>
<span class="w">          </span><span class="nx">Change</span><span class="w"> </span><span class="nx">Name</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleEmailChange</span><span class="p">}&gt;</span>
<span class="w">          </span><span class="nx">Change</span><span class="w"> </span><span class="nx">Email</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">;</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="c1">// src/App.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="nx">UserProfile</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./components/UserProfile&#39;</span><span class="p">;</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">App</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;app&quot;</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">UserProfile</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">App</span><span class="p">;</span>
</code></pre></div>

<p>This code compiles without errors. It runs without crashing. But when you click the buttons, something strange happens‚Äîor rather, nothing happens.</p>
<h3 id="diagnostic-analysis-reading-reacts-silence">Diagnostic Analysis: Reading React's Silence</h3>
<p><strong>Browser Behavior</strong>:
The UI shows "Jane Smith" and "jane@example.com". When you click "Change Name", nothing visible changes. The text stays exactly the same. No error appears. The button works (you can see it respond to clicks), but the displayed name doesn't update.</p>
<p><strong>Browser Console Output</strong>:</p>
<div class="codehilite"><pre><span></span><code>Name updated to: Jane Doe
</code></pre></div>

<p>The console confirms our function ran. The variable was updated. But the UI didn't change.</p>
<p><strong>React DevTools Evidence</strong>:
- Open React DevTools ‚Üí Components tab
- Select the <code>UserProfile</code> component
- Props: (none)
- Hooks: (none)
- The component shows no state
- Click "Change Name" button
- Observe: Component does NOT re-render
- The render count stays at 1</p>
<p><strong>Let's parse this evidence</strong>:</p>
<ol>
<li><strong>What the user experiences</strong>:</li>
<li>Expected: Clicking "Change Name" should update the displayed name to "Jane Doe"</li>
<li>
<p>Actual: Nothing changes in the UI, though the button responds to clicks</p>
</li>
<li>
<p><strong>What the console reveals</strong>:</p>
</li>
<li>The function executes successfully</li>
<li>The variable is updated in memory</li>
<li>
<p>Key indicator: The log shows the new value, but the UI doesn't reflect it</p>
</li>
<li>
<p><strong>What DevTools shows</strong>:</p>
</li>
<li>The component rendered exactly once (on mount)</li>
<li>No re-render occurred when the button was clicked</li>
<li>
<p>No hooks are present in the component</p>
</li>
<li>
<p><strong>Root cause identified</strong>: React doesn't know the variable changed, so it doesn't re-render the component.</p>
</li>
<li>
<p><strong>Why the current approach can't solve this</strong>: Regular JavaScript variables are invisible to React's rendering system. React only re-renders components when it's explicitly told something changed.</p>
</li>
<li>
<p><strong>What we need</strong>: A way to tell React "this data changed, please re-render the component."</p>
</li>
</ol>
<h3 id="the-fundamental-problem">The Fundamental Problem</h3>
<p>React components are <strong>functions that return UI</strong>. When React calls your component function, it:</p>
<ol>
<li>Executes the function</li>
<li>Gets the JSX you returned</li>
<li>Updates the DOM to match that JSX</li>
<li><strong>Stops</strong></li>
</ol>
<p>React doesn't continuously watch your variables. It doesn't poll for changes. It renders once and waits for you to tell it to render again.</p>
<p>When you write <code>userName = "Jane Doe"</code>, you're updating a local variable inside a function. The next time React calls that function (if it ever does), <code>userName</code> will be back to <code>"Jane Smith"</code> because the function starts fresh each time.</p>
<p><strong>The variable changes, but React never re-renders, so the UI never updates.</strong></p>
<p>This is not a bug in React‚Äîit's a fundamental design decision. React gives you explicit control over when components re-render. This control is what makes React predictable and performant.</p>
<h2 id="usestate-local-component-state">useState: Local Component State</h2>
<h2 id="usestate-local-component-state_1">useState: Local Component State</h2>
<p>React provides <code>useState</code> to solve exactly this problem: tracking data that changes over time and triggering re-renders when it does.</p>
<h3 id="iteration-1-making-the-profile-interactive">Iteration 1: Making the Profile Interactive</h3>
<p>Let's fix our component using <code>useState</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/components/UserProfile.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// useState returns [currentValue, functionToUpdateIt]</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userName</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userEmail</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserEmail</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;jane@example.com&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleNameChange</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setUserName</span><span class="p">(</span><span class="s2">&quot;Jane Doe&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// Tell React to update and re-render</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Name change requested&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleEmailChange</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setUserEmail</span><span class="p">(</span><span class="s2">&quot;jane.doe@example.com&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Email change requested&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Component rendering with:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">userName</span><span class="p">,</span><span class="w"> </span><span class="nx">userEmail</span><span class="p">);</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-card&quot;</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">User</span><span class="w"> </span><span class="nx">Profile</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-info&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">strong</span><span class="p">&gt;</span><span class="nx">Name</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span><span class="w"> </span><span class="p">{</span><span class="nx">userName</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">strong</span><span class="p">&gt;</span><span class="nx">Email</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span><span class="w"> </span><span class="p">{</span><span class="nx">userEmail</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-actions&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleNameChange</span><span class="p">}&gt;</span>
<span class="w">          </span><span class="nx">Change</span><span class="w"> </span><span class="nx">Name</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleEmailChange</span><span class="p">}&gt;</span>
<span class="w">          </span><span class="nx">Change</span><span class="w"> </span><span class="nx">Email</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">;</span>
</code></pre></div>

<p>Now when you click "Change Name":</p>
<p><strong>Browser Console Output</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Component</span><span class="w"> </span><span class="n">rendering</span><span class="w"> </span><span class="k">with</span><span class="err">:</span><span class="w"> </span><span class="n">Jane</span><span class="w"> </span><span class="n">Smith</span><span class="w"> </span><span class="n">jane</span><span class="nv">@example</span><span class="p">.</span><span class="n">com</span>
<span class="n">Name</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">requested</span>
<span class="n">Component</span><span class="w"> </span><span class="n">rendering</span><span class="w"> </span><span class="k">with</span><span class="err">:</span><span class="w"> </span><span class="n">Jane</span><span class="w"> </span><span class="n">Doe</span><span class="w"> </span><span class="n">jane</span><span class="nv">@example</span><span class="p">.</span><span class="n">com</span>
</code></pre></div>

<p><strong>Browser Behavior</strong>:
The name updates immediately from "Jane Smith" to "Jane Doe". The UI reflects the change.</p>
<p><strong>React DevTools Evidence</strong>:
- Components tab ‚Üí <code>UserProfile</code> selected
- Hooks: <code>State: "Jane Smith"</code>, <code>State: "jane@example.com"</code>
- Click "Change Name"
- Observe: Component re-renders (render count increases)
- First hook now shows: <code>State: "Jane Doe"</code>
- The component tree briefly highlights, indicating a re-render</p>
<p><strong>Expected vs. Actual improvement</strong>:
- Before: Variable changed, but UI stayed frozen at initial value
- After: UI updates immediately when button is clicked
- Evidence: Console shows two render logs‚Äîinitial render and post-update render</p>
<h3 id="how-usestate-works">How useState Works</h3>
<p>Let's break down what's happening:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userName</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">);</span>
</code></pre></div>

<p>This line does three things:</p>
<ol>
<li><strong>On first render</strong>: Creates a state variable initialized to <code>"Jane Smith"</code></li>
<li><strong>Returns the current value</strong>: <code>userName</code> is <code>"Jane Smith"</code></li>
<li><strong>Returns an updater function</strong>: <code>setUserName</code> is a function that:</li>
<li>Updates the state value</li>
<li>Schedules a re-render of the component</li>
<li>Preserves the new value between renders</li>
</ol>
<p>When you call <code>setUserName("Jane Doe")</code>:</p>
<ol>
<li>React updates its internal state storage</li>
<li>React schedules a re-render of <code>UserProfile</code></li>
<li>React calls your component function again</li>
<li>This time, <code>useState("Jane Smith")</code> returns <code>"Jane Doe"</code> (the updated value)</li>
<li>Your component returns new JSX with the updated name</li>
<li>React updates the DOM to match</li>
</ol>
<p><strong>The key insight</strong>: <code>useState</code> gives React a handle to track your data. When you call the setter function, you're not just updating a variable‚Äîyou're telling React "this component needs to re-render."</p>
<h3 id="the-anatomy-of-usestate">The Anatomy of useState</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// The pattern:</span>
<span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">value</span><span class="p">,</span><span class="w"> </span><span class="nx">setValue</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="nx">initialValue</span><span class="p">);</span>

<span class="c1">// Breaking it down:</span>
<span class="c1">// - useState is a function that takes an initial value</span>
<span class="c1">// - It returns an array with exactly two elements</span>
<span class="c1">// - We use array destructuring to name them</span>

<span class="c1">// Element 0: The current state value</span>
<span class="c1">// Element 1: A function to update that value</span>

<span class="c1">// Naming convention:</span>
<span class="c1">// - State variable: descriptive name (userName, isLoading, count)</span>
<span class="c1">// - Setter function: &quot;set&quot; + capitalized variable name (setUserName, setIsLoading, setCount)</span>
</code></pre></div>

<h3 id="multiple-state-variables">Multiple State Variables</h3>
<p>Notice we used <code>useState</code> twice:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userName</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userEmail</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserEmail</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;jane@example.com&quot;</span><span class="p">);</span>
</code></pre></div>

<p>Each <code>useState</code> call creates an independent piece of state. Updating one doesn't affect the other. This is different from class components (which you might see in older React code) where all state lived in a single object.</p>
<p><strong>Why separate state variables?</strong></p>
<ul>
<li><strong>Clarity</strong>: Each piece of state has a clear purpose</li>
<li><strong>Independence</strong>: Updating name doesn't require knowing about email</li>
<li><strong>Simplicity</strong>: No need to merge objects or worry about overwriting other state</li>
</ul>
<h3 id="state-updates-are-asynchronous">State Updates Are Asynchronous</h3>
<p>Here's a common mistake:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userName</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleNameChange</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setUserName</span><span class="p">(</span><span class="s2">&quot;Jane Doe&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Name is now:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">userName</span><span class="p">);</span><span class="w"> </span><span class="c1">// ‚ö†Ô∏è Still &quot;Jane Smith&quot;!</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;{</span><span class="nx">userName</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleNameChange</span><span class="p">}&gt;</span><span class="nx">Change</span><span class="w"> </span><span class="nx">Name</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Browser Console Output</strong>:</p>
<div class="codehilite"><pre><span></span><code>Name is now: Jane Smith
</code></pre></div>

<p>The console shows the <em>old</em> value, not the new one. Why?</p>
<p><strong>State updates are asynchronous</strong>. When you call <code>setUserName("Jane Doe")</code>, React:</p>
<ol>
<li>Schedules the update</li>
<li>Continues executing your function</li>
<li>Later, re-renders with the new value</li>
</ol>
<p>The <code>userName</code> variable in your current function execution still holds the old value. The new value will be available in the <em>next</em> render.</p>
<p>If you need to do something with the new value, do it in the next render:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userName</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleNameChange</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setUserName</span><span class="p">(</span><span class="s2">&quot;Jane Doe&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// Don&#39;t try to use the new value here</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// The new value is available here, in the render</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Current name:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">userName</span><span class="p">);</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;{</span><span class="nx">userName</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleNameChange</span><span class="p">}&gt;</span><span class="nx">Change</span><span class="w"> </span><span class="nx">Name</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="limitation-preview">Limitation Preview</h3>
<p>Our profile now updates when buttons are clicked, but it's not very flexible. The new values are hardcoded. What if we want users to type their own names? We need to connect state to input fields‚Äîthat's where <strong>controlled components</strong> come in (Section 3.3).</p>
<h2 id="event-handling-in-react">Event Handling in React</h2>
<h2 id="event-handling-in-react_1">Event Handling in React</h2>
<p>Before we make our profile truly editable with input fields, let's understand how React handles events.</p>
<h3 id="iteration-2-adding-real-input-fields">Iteration 2: Adding Real Input Fields</h3>
<p>Let's replace our hardcoded buttons with actual text inputs:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/components/UserProfile.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userName</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userEmail</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserEmail</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;jane@example.com&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Handle input changes</span>
<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleNameChange</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Input event:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">event</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;New value:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="w">    </span><span class="nx">setUserName</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleEmailChange</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setUserEmail</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-card&quot;</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">User</span><span class="w"> </span><span class="nx">Profile</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-form&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-field&quot;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">htmlFor</span><span class="o">=</span><span class="s">&quot;name&quot;</span><span class="p">&gt;</span><span class="nx">Name</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">            </span><span class="na">id</span><span class="o">=</span><span class="s">&quot;name&quot;</span>
<span class="w">            </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span>
<span class="w">            </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">userName</span><span class="p">}</span>
<span class="w">            </span><span class="na">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleNameChange</span><span class="p">}</span>
<span class="w">          </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-field&quot;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">htmlFor</span><span class="o">=</span><span class="s">&quot;email&quot;</span><span class="p">&gt;</span><span class="nx">Email</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">            </span><span class="na">id</span><span class="o">=</span><span class="s">&quot;email&quot;</span>
<span class="w">            </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;email&quot;</span>
<span class="w">            </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">userEmail</span><span class="p">}</span>
<span class="w">            </span><span class="na">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleEmailChange</span><span class="p">}</span>
<span class="w">          </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-display&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">strong</span><span class="p">&gt;</span><span class="nx">Display</span><span class="w"> </span><span class="nx">Name</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span><span class="w"> </span><span class="p">{</span><span class="nx">userName</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">strong</span><span class="p">&gt;</span><span class="nx">Display</span><span class="w"> </span><span class="nx">Email</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span><span class="w"> </span><span class="p">{</span><span class="nx">userEmail</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">;</span>
</code></pre></div>

<p><strong>Browser Behavior</strong>:
Type in the name input field. Each keystroke immediately updates the "Display Name" below. The input field and the display stay perfectly synchronized.</p>
<p><strong>Browser Console Output</strong> (when typing "Jane Doe"):</p>
<div class="codehilite"><pre><span></span><code>Input event: SyntheticBaseEvent {_reactName: &#39;onChange&#39;, ...}
New value: Jane D
Input event: SyntheticBaseEvent {_reactName: &#39;onChange&#39;, ...}
New value: Jane Do
Input event: SyntheticBaseEvent {_reactName: &#39;onChange&#39;, ...}
New value: Jane Doe
</code></pre></div>

<h3 id="react-events-vs-native-dom-events">React Events vs. Native DOM Events</h3>
<p>React wraps native browser events in a <code>SyntheticEvent</code> object. This provides:</p>
<ol>
<li><strong>Cross-browser consistency</strong>: The same event API works in all browsers</li>
<li><strong>Performance</strong>: React reuses event objects (they're pooled)</li>
<li><strong>React integration</strong>: Events work seamlessly with React's rendering</li>
</ol>
<p>The event object you receive in your handler has the same interface as native DOM events:</p>
<ul>
<li><code>event.target</code> - The element that triggered the event</li>
<li><code>event.target.value</code> - The current value of an input</li>
<li><code>event.preventDefault()</code> - Prevent default browser behavior</li>
<li><code>event.stopPropagation()</code> - Stop event bubbling</li>
</ul>
<h3 id="event-handler-patterns">Event Handler Patterns</h3>
<p>React supports all standard DOM events with camelCase names:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// Click events</span>
<span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleClick</span><span class="p">}&gt;</span><span class="nx">Click</span><span class="w"> </span><span class="nx">Me</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>

<span class="c1">// Form events</span>
<span class="p">&lt;</span><span class="nt">input</span><span class="w"> </span><span class="na">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleChange</span><span class="p">}</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">form</span><span class="w"> </span><span class="na">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="nx">handleSubmit</span><span class="p">}</span><span class="w"> </span><span class="p">/&gt;</span>

<span class="c1">// Mouse events</span>
<span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">onMouseEnter</span><span class="o">=</span><span class="p">{</span><span class="nx">handleMouseEnter</span><span class="p">}</span><span class="w"> </span><span class="na">onMouseLeave</span><span class="o">=</span><span class="p">{</span><span class="nx">handleMouseLeave</span><span class="p">}</span><span class="w"> </span><span class="p">/&gt;</span>

<span class="c1">// Keyboard events</span>
<span class="p">&lt;</span><span class="nt">input</span><span class="w"> </span><span class="na">onKeyDown</span><span class="o">=</span><span class="p">{</span><span class="nx">handleKeyDown</span><span class="p">}</span><span class="w"> </span><span class="na">onKeyUp</span><span class="o">=</span><span class="p">{</span><span class="nx">handleKeyUp</span><span class="p">}</span><span class="w"> </span><span class="p">/&gt;</span>

<span class="c1">// Focus events</span>
<span class="p">&lt;</span><span class="nt">input</span><span class="w"> </span><span class="na">onFocus</span><span class="o">=</span><span class="p">{</span><span class="nx">handleFocus</span><span class="p">}</span><span class="w"> </span><span class="na">onBlur</span><span class="o">=</span><span class="p">{</span><span class="nx">handleBlur</span><span class="p">}</span><span class="w"> </span><span class="p">/&gt;</span>
</code></pre></div>

<h3 id="inline-event-handlers">Inline Event Handlers</h3>
<p>You can define event handlers inline using arrow functions:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userName</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">      </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">userName</span><span class="p">}</span>
<span class="w">      </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">    </span><span class="p">/&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>This is perfectly fine for simple handlers. For more complex logic, extract to a named function for readability.</p>
<h3 id="passing-arguments-to-event-handlers">Passing Arguments to Event Handlers</h3>
<p>Sometimes you need to pass additional data to your handler:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">activeTab</span><span class="p">,</span><span class="w"> </span><span class="nx">setActiveTab</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;profile&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Option 1: Inline arrow function</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setActiveTab</span><span class="p">(</span><span class="s2">&quot;profile&quot;</span><span class="p">)}&gt;</span>
<span class="w">        </span><span class="nx">Profile</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setActiveTab</span><span class="p">(</span><span class="s2">&quot;settings&quot;</span><span class="p">)}&gt;</span>
<span class="w">        </span><span class="nx">Settings</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setActiveTab</span><span class="p">(</span><span class="s2">&quot;activity&quot;</span><span class="p">)}&gt;</span>
<span class="w">        </span><span class="nx">Activity</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">activeTab</span><span class="p">,</span><span class="w"> </span><span class="nx">setActiveTab</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;profile&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Option 2: Function that returns a function</span>
<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleTabClick</span><span class="p">(</span><span class="nx">tabName</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">setActiveTab</span><span class="p">(</span><span class="nx">tabName</span><span class="p">);</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleTabClick</span><span class="p">(</span><span class="s2">&quot;profile&quot;</span><span class="p">)}&gt;</span><span class="nx">Profile</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleTabClick</span><span class="p">(</span><span class="s2">&quot;settings&quot;</span><span class="p">)}&gt;</span><span class="nx">Settings</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleTabClick</span><span class="p">(</span><span class="s2">&quot;activity&quot;</span><span class="p">)}&gt;</span><span class="nx">Activity</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="common-event-handling-mistakes">Common Event Handling Mistakes</h3>
<h4 id="mistake-1-calling-the-function-instead-of-passing-it">Mistake 1: Calling the Function Instead of Passing It</h4>
<div class="codehilite"><pre><span></span><code><span class="c1">// ‚ùå Wrong: This calls handleClick immediately during render</span>
<span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleClick</span><span class="p">()}&gt;</span><span class="nx">Click</span><span class="w"> </span><span class="nx">Me</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>

<span class="c1">// ‚úÖ Correct: This passes the function to be called later</span>
<span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleClick</span><span class="p">}&gt;</span><span class="nx">Click</span><span class="w"> </span><span class="nx">Me</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>

<span class="c1">// ‚úÖ Also correct: Arrow function that calls it when clicked</span>
<span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">handleClick</span><span class="p">()}&gt;</span><span class="nx">Click</span><span class="w"> </span><span class="nx">Me</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</code></pre></div>

<p><strong>The Failure</strong>:</p>
<p>When you write <code>onClick={handleClick()}</code>, the function executes during render, not when clicked. If <code>handleClick</code> updates state, this causes an infinite loop:</p>
<ol>
<li>Component renders</li>
<li><code>handleClick()</code> executes, updates state</li>
<li>State update triggers re-render</li>
<li>Component renders again</li>
<li><code>handleClick()</code> executes again...</li>
<li>Infinite loop</li>
</ol>
<p><strong>Browser Console Output</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Warning</span><span class="o">:</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">depth</span><span class="w"> </span><span class="n">exceeded</span><span class="o">.</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">happen</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">component</span><span class="w"> </span>
<span class="n">calls</span><span class="w"> </span><span class="n">setState</span><span class="w"> </span><span class="n">inside</span><span class="w"> </span><span class="n">useEffect</span><span class="o">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">useEffect</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="n">doesn</span><span class="err">&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span>
<span class="n">dependency</span><span class="w"> </span><span class="n">array</span><span class="o">,</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dependencies</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="n">render</span><span class="o">.</span>
</code></pre></div>

<p><strong>React DevTools Evidence</strong>:
- Profiler shows thousands of renders in seconds
- Component render count increases rapidly
- Browser becomes unresponsive</p>
<h4 id="mistake-2-forgetting-eventpreventdefault">Mistake 2: Forgetting event.preventDefault()</h4>
<div class="codehilite"><pre><span></span><code><span class="c1">// ‚ùå Form submits and page reloads</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">handleSubmit</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">setUserName</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Page reloads here, losing all state</span>
<span class="p">}</span>

<span class="c1">// ‚úÖ Prevent default form submission</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">handleSubmit</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="w"> </span><span class="c1">// Stop the page reload</span>
<span class="w">  </span><span class="nx">setUserName</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="p">&lt;</span><span class="nt">form</span><span class="w"> </span><span class="na">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="nx">handleSubmit</span><span class="p">}&gt;</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">input</span><span class="w"> </span><span class="na">name</span><span class="o">=</span><span class="s">&quot;name&quot;</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span><span class="nx">Save</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
<span class="p">);</span>
</code></pre></div>

<h3 id="limitation-preview_1">Limitation Preview</h3>
<p>Our inputs now work, but there's a subtle issue. Try this: remove the <code>value={userName}</code> prop from the input. The input still works, but now the "Display Name" and the input can get out of sync. This is the difference between <strong>controlled</strong> and <strong>uncontrolled</strong> components‚Äîour next topic.</p>
<h2 id="controlled-vs-uncontrolled-components">Controlled vs. Uncontrolled Components</h2>
<h2 id="controlled-vs-uncontrolled-components_1">Controlled vs. Uncontrolled Components</h2>
<h3 id="the-failure-uncontrolled-inputs">The Failure: Uncontrolled Inputs</h3>
<p>Let's see what happens when we remove the <code>value</code> prop from our input:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/components/UserProfile.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userName</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleNameChange</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setUserName</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">resetName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setUserName</span><span class="p">(</span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// Try to reset to original</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-card&quot;</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">User</span><span class="w"> </span><span class="nx">Profile</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-field&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">htmlFor</span><span class="o">=</span><span class="s">&quot;name&quot;</span><span class="p">&gt;</span><span class="nx">Name</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">          </span><span class="na">id</span><span class="o">=</span><span class="s">&quot;name&quot;</span>
<span class="w">          </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span>
<span class="w">          </span><span class="err">//</span><span class="w"> </span><span class="na">No</span><span class="w"> </span><span class="na">value</span><span class="w"> </span><span class="na">prop</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="na">uncontrolled</span>
<span class="w">          </span><span class="na">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleNameChange</span><span class="p">}</span>
<span class="w">        </span><span class="p">/&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-display&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">strong</span><span class="p">&gt;</span><span class="nx">Display</span><span class="w"> </span><span class="nx">Name</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span><span class="w"> </span><span class="p">{</span><span class="nx">userName</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">resetName</span><span class="p">}&gt;</span><span class="nx">Reset</span><span class="w"> </span><span class="nx">Name</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">;</span>
</code></pre></div>

<p><strong>Browser Behavior</strong>:</p>
<ol>
<li>Type "John Doe" in the input</li>
<li>Display Name updates to "John Doe" ‚úì</li>
<li>Click "Reset Name" button</li>
<li>Display Name changes back to "Jane Smith" ‚úì</li>
<li><strong>But the input still shows "John Doe"</strong> ‚úó</li>
</ol>
<p>The input and the state are now out of sync.</p>
<h3 id="diagnostic-analysis-the-uncontrolled-input-problem">Diagnostic Analysis: The Uncontrolled Input Problem</h3>
<p><strong>Browser Console Output</strong>:</p>
<div class="codehilite"><pre><span></span><code>(No errors - this is valid React code)
</code></pre></div>

<p><strong>React DevTools Evidence</strong>:
- Components tab ‚Üí <code>UserProfile</code> selected
- Hooks: <code>State: "Jane Smith"</code> (after reset)
- The state is correct
- But the input's DOM value is still "John Doe"</p>
<p><strong>Let's parse this evidence</strong>:</p>
<ol>
<li><strong>What the user experiences</strong>:</li>
<li>Expected: Clicking "Reset Name" should clear the input back to "Jane Smith"</li>
<li>
<p>Actual: The display updates, but the input keeps showing "John Doe"</p>
</li>
<li>
<p><strong>What DevTools shows</strong>:</p>
</li>
<li>React's state is correct ("Jane Smith")</li>
<li>The component re-rendered</li>
<li>
<p>But the input's value didn't change</p>
</li>
<li>
<p><strong>Root cause identified</strong>: The input is <strong>uncontrolled</strong>‚ÄîReact doesn't control its value. The input manages its own internal state (the DOM's value), separate from React's state.</p>
</li>
<li>
<p><strong>Why the current approach can't solve this</strong>: Without the <code>value</code> prop, React can't tell the input what to display. The input's value is controlled by the DOM, not by React.</p>
</li>
<li>
<p><strong>What we need</strong>: Make the input <strong>controlled</strong> by giving React full authority over its value.</p>
</li>
</ol>
<h3 id="controlled-components-react-as-the-single-source-of-truth">Controlled Components: React as the Single Source of Truth</h3>
<p>A <strong>controlled component</strong> is an input whose value is controlled by React state:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/components/UserProfile.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userName</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleNameChange</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setUserName</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">resetName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setUserName</span><span class="p">(</span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-card&quot;</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">User</span><span class="w"> </span><span class="nx">Profile</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-field&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">htmlFor</span><span class="o">=</span><span class="s">&quot;name&quot;</span><span class="p">&gt;</span><span class="nx">Name</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">          </span><span class="na">id</span><span class="o">=</span><span class="s">&quot;name&quot;</span>
<span class="w">          </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span>
<span class="w">          </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">userName</span><span class="p">}</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">‚Üê</span><span class="w"> </span><span class="na">Controlled</span><span class="err">:</span><span class="w"> </span><span class="na">React</span><span class="w"> </span><span class="na">controls</span><span class="w"> </span><span class="na">the</span><span class="w"> </span><span class="na">value</span>
<span class="w">          </span><span class="na">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleNameChange</span><span class="p">}</span>
<span class="w">        </span><span class="p">/&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-display&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">strong</span><span class="p">&gt;</span><span class="nx">Display</span><span class="w"> </span><span class="nx">Name</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span><span class="w"> </span><span class="p">{</span><span class="nx">userName</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">resetName</span><span class="p">}&gt;</span><span class="nx">Reset</span><span class="w"> </span><span class="nx">Name</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">;</span>
</code></pre></div>

<p><strong>Browser Behavior</strong>:</p>
<ol>
<li>Type "John Doe" in the input</li>
<li>Display Name updates to "John Doe" ‚úì</li>
<li>Click "Reset Name" button</li>
<li>Display Name changes back to "Jane Smith" ‚úì</li>
<li><strong>Input also changes back to "Jane Smith"</strong> ‚úì</li>
</ol>
<p>Now the input and state stay perfectly synchronized.</p>
<p><strong>Expected vs. Actual improvement</strong>:
- Before: Input had its own state, could diverge from React state
- After: Input value is always exactly what React state says it should be
- Evidence: Reset button now clears the input field</p>
<h3 id="how-controlled-components-work">How Controlled Components Work</h3>
<p>With a controlled component, the data flow is:</p>
<ol>
<li>User types in input</li>
<li><code>onChange</code> event fires</li>
<li>Event handler calls <code>setUserName(newValue)</code></li>
<li>React updates state</li>
<li>React re-renders component</li>
<li>Input receives new <code>value</code> prop</li>
<li>Input displays the value from React state</li>
</ol>
<p><strong>React state is the single source of truth.</strong> The input always displays what React tells it to display.</p>
<h3 id="iteration-3-a-complete-editable-profile-form">Iteration 3: A Complete Editable Profile Form</h3>
<p>Let's build a more realistic profile form with multiple controlled inputs:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/components/UserProfile.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userName</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userEmail</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserEmail</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;jane@example.com&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userBio</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserBio</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;Software developer&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">isPublic</span><span class="p">,</span><span class="w"> </span><span class="nx">setIsPublic</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleSubmit</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Profile saved:&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">userName</span><span class="p">,</span>
<span class="w">      </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="kt">userEmail</span><span class="p">,</span>
<span class="w">      </span><span class="nx">bio</span><span class="o">:</span><span class="w"> </span><span class="kt">userBio</span><span class="p">,</span>
<span class="w">      </span><span class="nx">isPublic</span><span class="o">:</span><span class="w"> </span><span class="kt">isPublic</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">    </span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Profile saved!&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleReset</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setUserName</span><span class="p">(</span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">setUserEmail</span><span class="p">(</span><span class="s2">&quot;jane@example.com&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">setUserBio</span><span class="p">(</span><span class="s2">&quot;Software developer&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">setIsPublic</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-card&quot;</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">Edit</span><span class="w"> </span><span class="nx">Profile</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">form</span><span class="w"> </span><span class="na">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="nx">handleSubmit</span><span class="p">}&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-field&quot;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">htmlFor</span><span class="o">=</span><span class="s">&quot;name&quot;</span><span class="p">&gt;</span><span class="nx">Name</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">            </span><span class="na">id</span><span class="o">=</span><span class="s">&quot;name&quot;</span>
<span class="w">            </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span>
<span class="w">            </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">userName</span><span class="p">}</span>
<span class="w">            </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">          </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-field&quot;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">htmlFor</span><span class="o">=</span><span class="s">&quot;email&quot;</span><span class="p">&gt;</span><span class="nx">Email</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">            </span><span class="na">id</span><span class="o">=</span><span class="s">&quot;email&quot;</span>
<span class="w">            </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;email&quot;</span>
<span class="w">            </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">userEmail</span><span class="p">}</span>
<span class="w">            </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setUserEmail</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">          </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-field&quot;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">htmlFor</span><span class="o">=</span><span class="s">&quot;bio&quot;</span><span class="p">&gt;</span><span class="nx">Bio</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">textarea</span>
<span class="w">            </span><span class="na">id</span><span class="o">=</span><span class="s">&quot;bio&quot;</span>
<span class="w">            </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">userBio</span><span class="p">}</span>
<span class="w">            </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setUserBio</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">            </span><span class="na">rows</span><span class="o">=</span><span class="p">{</span><span class="mf">4</span><span class="p">}</span>
<span class="w">          </span><span class="p">/&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-field&quot;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">              </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span>
<span class="w">              </span><span class="na">checked</span><span class="o">=</span><span class="p">{</span><span class="nx">isPublic</span><span class="p">}</span>
<span class="w">              </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setIsPublic</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">checked</span><span class="p">)}</span>
<span class="w">            </span><span class="p">/&gt;</span>
<span class="w">            </span><span class="nx">Make</span><span class="w"> </span><span class="nx">profile</span><span class="w"> </span><span class="k">public</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-actions&quot;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span><span class="nx">Save</span><span class="w"> </span><span class="nx">Profile</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleReset</span><span class="p">}&gt;</span>
<span class="w">            </span><span class="nx">Reset</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>

<span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-preview&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">Preview</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">strong</span><span class="p">&gt;</span><span class="nx">Name</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span><span class="w"> </span><span class="p">{</span><span class="nx">userName</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">strong</span><span class="p">&gt;</span><span class="nx">Email</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span><span class="w"> </span><span class="p">{</span><span class="nx">userEmail</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">strong</span><span class="p">&gt;</span><span class="nx">Bio</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span><span class="w"> </span><span class="p">{</span><span class="nx">userBio</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">strong</span><span class="p">&gt;</span><span class="nx">Visibility</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span><span class="w"> </span><span class="p">{</span><span class="nx">isPublic</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">&quot;Public&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Private&quot;</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">UserProfile</span><span class="p">;</span>
</code></pre></div>

<p><strong>Browser Behavior</strong>:
- All inputs update the preview in real-time
- Reset button clears all fields back to defaults
- Submit button logs the form data and shows an alert
- Checkbox toggles between "Public" and "Private"</p>
<p><strong>Browser Console Output</strong> (after editing and submitting):</p>
<div class="codehilite"><pre><span></span><code><span class="n">Profile</span><span class="w"> </span><span class="nl">saved</span><span class="p">:</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="nl">name</span><span class="p">:</span><span class="w"> </span><span class="ss">&quot;John Doe&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nl">email</span><span class="p">:</span><span class="w"> </span><span class="ss">&quot;john@example.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nl">bio</span><span class="p">:</span><span class="w"> </span><span class="ss">&quot;Full-stack developer with 5 years experience&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nl">isPublic</span><span class="p">:</span><span class="w"> </span><span class="k">false</span>
<span class="err">}</span>
</code></pre></div>

<h3 id="controlled-component-patterns">Controlled Component Patterns</h3>
<h4 id="text-inputs">Text Inputs</h4>
<div class="codehilite"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">value</span><span class="p">,</span><span class="w"> </span><span class="nx">setValue</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>

<span class="p">&lt;</span><span class="nt">input</span>
<span class="w">  </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span>
<span class="w">  </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">value</span><span class="p">}</span>
<span class="w">  </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setValue</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="p">/&gt;</span>
</code></pre></div>

<h4 id="textareas">Textareas</h4>
<div class="codehilite"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">text</span><span class="p">,</span><span class="w"> </span><span class="nx">setText</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>

<span class="p">&lt;</span><span class="nt">textarea</span>
<span class="w">  </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">text</span><span class="p">}</span>
<span class="w">  </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setText</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="p">/&gt;</span>
</code></pre></div>

<p>Note: In React, <code>&lt;textarea&gt;</code> uses <code>value</code> prop, not children. This is different from HTML.</p>
<h4 id="checkboxes">Checkboxes</h4>
<div class="codehilite"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">isChecked</span><span class="p">,</span><span class="w"> </span><span class="nx">setIsChecked</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

<span class="p">&lt;</span><span class="nt">input</span>
<span class="w">  </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span>
<span class="w">  </span><span class="na">checked</span><span class="o">=</span><span class="p">{</span><span class="nx">isChecked</span><span class="p">}</span>
<span class="w">  </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setIsChecked</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">checked</span><span class="p">)}</span>
<span class="p">/&gt;</span>
</code></pre></div>

<p>Note: Checkboxes use <code>checked</code> prop and <code>e.target.checked</code>, not <code>value</code>.</p>
<h4 id="radio-buttons">Radio Buttons</h4>
<div class="codehilite"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">selectedOption</span><span class="p">,</span><span class="w"> </span><span class="nx">setSelectedOption</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;option1&quot;</span><span class="p">);</span>

<span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">      </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span>
<span class="w">      </span><span class="na">value</span><span class="o">=</span><span class="s">&quot;option1&quot;</span>
<span class="w">      </span><span class="na">checked</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedOption</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;option1&quot;</span><span class="p">}</span>
<span class="w">      </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setSelectedOption</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">    </span><span class="p">/&gt;</span>
<span class="w">    </span><span class="nx">Option</span><span class="w"> </span><span class="mf">1</span>
<span class="w">  </span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">      </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span>
<span class="w">      </span><span class="na">value</span><span class="o">=</span><span class="s">&quot;option2&quot;</span>
<span class="w">      </span><span class="na">checked</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedOption</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;option2&quot;</span><span class="p">}</span>
<span class="w">      </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setSelectedOption</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">    </span><span class="p">/&gt;</span>
<span class="w">    </span><span class="nx">Option</span><span class="w"> </span><span class="mf">2</span>
<span class="w">  </span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>

<h4 id="select-dropdowns">Select Dropdowns</h4>
<div class="codehilite"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">selected</span><span class="p">,</span><span class="w"> </span><span class="nx">setSelected</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;apple&quot;</span><span class="p">);</span>

<span class="p">&lt;</span><span class="nt">select</span>
<span class="w">  </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">selected</span><span class="p">}</span>
<span class="w">  </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setSelected</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="p">&gt;</span>
<span class="w">  </span><span class="p">&lt;</span><span class="nt">option</span><span class="w"> </span><span class="na">value</span><span class="o">=</span><span class="s">&quot;apple&quot;</span><span class="p">&gt;</span><span class="nx">Apple</span><span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">&lt;</span><span class="nt">option</span><span class="w"> </span><span class="na">value</span><span class="o">=</span><span class="s">&quot;banana&quot;</span><span class="p">&gt;</span><span class="nx">Banana</span><span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">&lt;</span><span class="nt">option</span><span class="w"> </span><span class="na">value</span><span class="o">=</span><span class="s">&quot;orange&quot;</span><span class="p">&gt;</span><span class="nx">Orange</span><span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
</code></pre></div>

<h3 id="when-to-use-uncontrolled-components">When to Use Uncontrolled Components</h3>
<p>Controlled components are the React way, but uncontrolled components have their place:</p>
<p><strong>Use uncontrolled when</strong>:
- You're integrating with non-React code
- You need to access the DOM directly (e.g., file inputs)
- The form is very simple and you don't need real-time validation</p>
<p><strong>File inputs are always uncontrolled</strong> (you can't set their value programmatically for security reasons):</p>
<div class="codehilite"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">FileUpload</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleSubmit</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">file</span><span class="p">.</span><span class="nx">files</span><span class="p">[</span><span class="mf">0</span><span class="p">];</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Selected file:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">file</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">form</span><span class="w"> </span><span class="na">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="nx">handleSubmit</span><span class="p">}&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">input</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;file&quot;</span><span class="w"> </span><span class="na">name</span><span class="o">=</span><span class="s">&quot;file&quot;</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span><span class="nx">Upload</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="common-failure-modes-and-their-signatures">Common Failure Modes and Their Signatures</h3>
<h4 id="symptom-input-doesnt-update-when-typing">Symptom: Input doesn't update when typing</h4>
<p><strong>Browser behavior</strong>:
You type in the input, but nothing appears. The cursor moves, but no text shows.</p>
<p><strong>Console pattern</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Warning</span><span class="o">:</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n n-Quoted">`value`</span><span class="w"> </span><span class="n">prop</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k">without</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n n-Quoted">`onChange`</span><span class="w"> </span><span class="k">handler</span><span class="p">.</span>
<span class="n">This</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">render</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">read</span><span class="o">-</span><span class="k">only</span><span class="w"> </span><span class="n">field</span><span class="p">.</span>
</code></pre></div>

<p><strong>Root cause</strong>: Input has <code>value</code> prop but no <code>onChange</code> handler. React makes it read-only.</p>
<p><strong>Solution</strong>: Add <code>onChange</code> handler that updates state.</p>
<h4 id="symptom-input-shows-undefined-or-null">Symptom: Input shows "undefined" or "null"</h4>
<p><strong>Browser behavior</strong>:
Input displays the text "undefined" or "null" instead of being empty.</p>
<p><strong>Root cause</strong>: State is <code>undefined</code> or <code>null</code>, but <code>value</code> prop expects a string.</p>
<p><strong>Solution</strong>: Initialize state with empty string:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// ‚ùå Wrong</span>
<span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">setName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">();</span>

<span class="c1">// ‚úÖ Correct</span>
<span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">setName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
</code></pre></div>

<h4 id="symptom-checkbox-doesnt-toggle">Symptom: Checkbox doesn't toggle</h4>
<p><strong>Browser behavior</strong>:
Clicking checkbox doesn't change its state.</p>
<p><strong>Root cause</strong>: Using <code>value</code> instead of <code>checked</code> prop, or <code>e.target.value</code> instead of <code>e.target.checked</code>.</p>
<p><strong>Solution</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// ‚ùå Wrong</span>
<span class="p">&lt;</span><span class="nt">input</span>
<span class="w">  </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span>
<span class="w">  </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">isChecked</span><span class="p">}</span>
<span class="w">  </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setIsChecked</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="p">/&gt;</span>

<span class="c1">// ‚úÖ Correct</span>
<span class="p">&lt;</span><span class="nt">input</span>
<span class="w">  </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span>
<span class="w">  </span><span class="na">checked</span><span class="o">=</span><span class="p">{</span><span class="nx">isChecked</span><span class="p">}</span>
<span class="w">  </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setIsChecked</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">checked</span><span class="p">)}</span>
<span class="p">/&gt;</span>
</code></pre></div>

<h3 id="limitation-preview_2">Limitation Preview</h3>
<p>Our form works, but managing multiple pieces of state with separate <code>useState</code> calls is getting verbose. What if we have 10 fields? 20? In Chapter 6, we'll learn about React Hook Form, which handles complex forms more elegantly. But first, we need to understand the patterns we're building on.</p>
<h2 id="building-interactive-uis">Building Interactive UIs</h2>
<h2 id="building-interactive-uis_1">Building Interactive UIs</h2>
<p>Now that we understand state and events, let's build something more interactive: a user dashboard with tabs, notifications, and dynamic content.</p>
<h3 id="iteration-4-multi-tab-dashboard">Iteration 4: Multi-Tab Dashboard</h3>
<p>Let's expand our profile into a full dashboard with multiple views:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/components/UserDashboard.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">UserDashboard</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">activeTab</span><span class="p">,</span><span class="w"> </span><span class="nx">setActiveTab</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;profile&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userName</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userEmail</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserEmail</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;jane@example.com&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">notifications</span><span class="p">,</span><span class="w"> </span><span class="nx">setNotifications</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">([</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">1</span><span class="p">,</span><span class="w"> </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Welcome to your dashboard!&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">read</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">2</span><span class="p">,</span><span class="w"> </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Your profile is 80% complete&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">read</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">3</span><span class="p">,</span><span class="w"> </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;New message from support&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">read</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="p">]);</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">markAsRead</span><span class="p">(</span><span class="nx">notificationId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setNotifications</span><span class="p">(</span><span class="nx">notifications</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">notif</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">      </span><span class="nx">notif</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">notificationId</span>
<span class="w">        </span><span class="o">?</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="nx">notif</span><span class="p">,</span><span class="w"> </span><span class="nx">read</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="w"> </span><span class="p">}</span>
<span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="nx">notif</span>
<span class="w">    </span><span class="p">));</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">clearAllNotifications</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setNotifications</span><span class="p">([]);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;dashboard&quot;</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">header</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;dashboard-header&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">User</span><span class="w"> </span><span class="nx">Dashboard</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;user-info&quot;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{</span><span class="nx">userName</span><span class="p">}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notification-badge&quot;</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="nx">notifications</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">n</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="o">!</span><span class="nx">n</span><span class="p">.</span><span class="nx">read</span><span class="p">).</span><span class="nx">length</span><span class="p">}</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>

<span class="w">      </span><span class="p">&lt;</span><span class="nt">nav</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;dashboard-tabs&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">button</span>
<span class="w">          </span><span class="na">className</span><span class="o">=</span><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;profile&quot;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">&quot;active&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">}</span>
<span class="w">          </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setActiveTab</span><span class="p">(</span><span class="s2">&quot;profile&quot;</span><span class="p">)}</span>
<span class="w">        </span><span class="p">&gt;</span>
<span class="w">          </span><span class="nx">Profile</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">button</span>
<span class="w">          </span><span class="na">className</span><span class="o">=</span><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;notifications&quot;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">&quot;active&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">}</span>
<span class="w">          </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setActiveTab</span><span class="p">(</span><span class="s2">&quot;notifications&quot;</span><span class="p">)}</span>
<span class="w">        </span><span class="p">&gt;</span>
<span class="w">          </span><span class="nx">Notifications</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">button</span>
<span class="w">          </span><span class="na">className</span><span class="o">=</span><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;settings&quot;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">&quot;active&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">}</span>
<span class="w">          </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setActiveTab</span><span class="p">(</span><span class="s2">&quot;settings&quot;</span><span class="p">)}</span>
<span class="w">        </span><span class="p">&gt;</span>
<span class="w">          </span><span class="nx">Settings</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>

<span class="w">      </span><span class="p">&lt;</span><span class="nt">main</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;dashboard-content&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;profile&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-tab&quot;</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">Profile</span><span class="w"> </span><span class="nx">Information</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-field&quot;</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">htmlFor</span><span class="o">=</span><span class="s">&quot;name&quot;</span><span class="p">&gt;</span><span class="nx">Name</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">                </span><span class="na">id</span><span class="o">=</span><span class="s">&quot;name&quot;</span>
<span class="w">                </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span>
<span class="w">                </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">userName</span><span class="p">}</span>
<span class="w">                </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">              </span><span class="p">/&gt;</span>
<span class="w">            </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-field&quot;</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">htmlFor</span><span class="o">=</span><span class="s">&quot;email&quot;</span><span class="p">&gt;</span><span class="nx">Email</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">                </span><span class="na">id</span><span class="o">=</span><span class="s">&quot;email&quot;</span>
<span class="w">                </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;email&quot;</span>
<span class="w">                </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">userEmail</span><span class="p">}</span>
<span class="w">                </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setUserEmail</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">              </span><span class="p">/&gt;</span>
<span class="w">            </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">)}</span>

<span class="w">        </span><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;notifications&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notifications-tab&quot;</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notifications-header&quot;</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">Notifications</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">clearAllNotifications</span><span class="p">}&gt;</span>
<span class="w">                </span><span class="nx">Clear</span><span class="w"> </span><span class="nx">All</span>
<span class="w">              </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="nx">notifications</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="p">(</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">p</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;empty-state&quot;</span><span class="p">&gt;</span><span class="nx">No</span><span class="w"> </span><span class="nx">notifications</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">(</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">ul</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notifications-list&quot;</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">{</span><span class="nx">notifications</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">notif</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">                  </span><span class="p">&lt;</span><span class="nt">li</span>
<span class="w">                    </span><span class="na">key</span><span class="o">=</span><span class="p">{</span><span class="nx">notif</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span>
<span class="w">                    </span><span class="na">className</span><span class="o">=</span><span class="p">{</span><span class="nx">notif</span><span class="p">.</span><span class="nx">read</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">&quot;read&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;unread&quot;</span><span class="p">}</span>
<span class="w">                  </span><span class="p">&gt;</span>
<span class="w">                    </span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{</span><span class="nx">notif</span><span class="p">.</span><span class="nx">message</span><span class="p">}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="w">                    </span><span class="p">{</span><span class="o">!</span><span class="nx">notif</span><span class="p">.</span><span class="nx">read</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">                      </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">markAsRead</span><span class="p">(</span><span class="nx">notif</span><span class="p">.</span><span class="nx">id</span><span class="p">)}&gt;</span>
<span class="w">                        </span><span class="nx">Mark</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">Read</span>
<span class="w">                      </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">                    </span><span class="p">)}</span>
<span class="w">                  </span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">))}</span>
<span class="w">              </span><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">)}</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">)}</span>

<span class="w">        </span><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;settings&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;settings-tab&quot;</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">Settings</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">Settings</span><span class="w"> </span><span class="nx">panel</span><span class="w"> </span><span class="nx">coming</span><span class="w"> </span><span class="nx">soon</span><span class="p">...&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">)}</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">UserDashboard</span><span class="p">;</span>
</code></pre></div>

<p><strong>Browser Behavior</strong>:
- Three tabs: Profile, Notifications, Settings
- Clicking tabs switches the content below
- Active tab is highlighted
- Notification badge shows unread count
- Marking notifications as read updates the badge
- Clear All removes all notifications and shows "No notifications"</p>
<p><strong>Browser Console Output</strong> (when marking notification as read):</p>
<div class="codehilite"><pre><span></span><code>(No logs - but React DevTools shows state update)
</code></pre></div>

<p><strong>React DevTools Evidence</strong>:
- Components tab ‚Üí <code>UserDashboard</code> selected
- Hooks show multiple state values:
  - <code>State: "profile"</code> (activeTab)
  - <code>State: "Jane Smith"</code> (userName)
  - <code>State: "jane@example.com"</code> (userEmail)
  - <code>State: [Array(3)]</code> (notifications)
- Click "Mark as Read" on first notification
- Observe: Only the notifications state updates
- Component re-renders once
- The notification's <code>read</code> property changes from <code>false</code> to <code>true</code></p>
<h3 id="state-management-patterns">State Management Patterns</h3>
<h4 id="conditional-rendering-based-on-state">Conditional Rendering Based on State</h4>
<p>We're using state to control which tab content is visible:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;profile&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-tab&quot;</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">{</span><span class="cm">/* Profile content */</span><span class="p">}</span>
<span class="w">  </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">)}</span>

<span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;notifications&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notifications-tab&quot;</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">{</span><span class="cm">/* Notifications content */</span><span class="p">}</span>
<span class="w">  </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">)}</span>
</code></pre></div>

<p>This is a common pattern: use state to determine what to render. The <code>&amp;&amp;</code> operator short-circuits‚Äîif the left side is false, the right side never evaluates.</p>
<h4 id="updating-complex-state-arrays-and-objects">Updating Complex State (Arrays and Objects)</h4>
<p>Notice how we update the notifications array:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">markAsRead</span><span class="p">(</span><span class="nx">notificationId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">setNotifications</span><span class="p">(</span><span class="nx">notifications</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">notif</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">    </span><span class="nx">notif</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">notificationId</span>
<span class="w">      </span><span class="o">?</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="nx">notif</span><span class="p">,</span><span class="w"> </span><span class="nx">read</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="w"> </span><span class="p">}</span><span class="w">  </span><span class="c1">// Create new object with updated property</span>
<span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="nx">notif</span><span class="w">                      </span><span class="c1">// Keep existing object</span>
<span class="w">  </span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Key principle</strong>: Never mutate state directly. Always create new arrays/objects.</p>
<p><strong>Why?</strong> React compares the old state to the new state to decide if it needs to re-render. If you mutate the existing array, React sees the same array reference and might not re-render.</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// ‚ùå Wrong: Mutates existing array</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">markAsRead</span><span class="p">(</span><span class="nx">notificationId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">notif</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">notifications</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">n</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">n</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">notificationId</span><span class="p">);</span>
<span class="w">  </span><span class="nx">notif</span><span class="p">.</span><span class="nx">read</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w"> </span><span class="c1">// Mutation!</span>
<span class="w">  </span><span class="nx">setNotifications</span><span class="p">(</span><span class="nx">notifications</span><span class="p">);</span><span class="w"> </span><span class="c1">// Same array reference</span>
<span class="p">}</span>

<span class="c1">// ‚úÖ Correct: Creates new array</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">markAsRead</span><span class="p">(</span><span class="nx">notificationId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">setNotifications</span><span class="p">(</span><span class="nx">notifications</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">notif</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">    </span><span class="nx">notif</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">notificationId</span>
<span class="w">      </span><span class="o">?</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="nx">notif</span><span class="p">,</span><span class="w"> </span><span class="nx">read</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="w"> </span><span class="p">}</span>
<span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="nx">notif</span>
<span class="w">  </span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div>

<h4 id="derived-state">Derived State</h4>
<p>The notification badge count is <strong>derived state</strong>‚Äîit's calculated from existing state, not stored separately:</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notification-badge&quot;</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">{</span><span class="nx">notifications</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">n</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="o">!</span><span class="nx">n</span><span class="p">.</span><span class="nx">read</span><span class="p">).</span><span class="nx">length</span><span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</code></pre></div>

<p><strong>Don't store derived state in useState</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// ‚ùå Wrong: Storing derived state</span>
<span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">notifications</span><span class="p">,</span><span class="w"> </span><span class="nx">setNotifications</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">([...]);</span>
<span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">unreadCount</span><span class="p">,</span><span class="w"> </span><span class="nx">setUnreadCount</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>

<span class="c1">// Now you have to keep them in sync manually</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">markAsRead</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">setNotifications</span><span class="p">(</span><span class="cm">/* ... */</span><span class="p">);</span>
<span class="w">  </span><span class="nx">setUnreadCount</span><span class="p">(</span><span class="nx">unreadCount</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span><span class="w"> </span><span class="c1">// Easy to forget or get wrong</span>
<span class="p">}</span>

<span class="c1">// ‚úÖ Correct: Calculate derived state</span>
<span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">notifications</span><span class="p">,</span><span class="w"> </span><span class="nx">setNotifications</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">([...]);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">unreadCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">notifications</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">n</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="o">!</span><span class="nx">n</span><span class="p">.</span><span class="nx">read</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>
</code></pre></div>

<p><strong>Why?</strong> Derived state can't get out of sync if you calculate it on every render. It's always correct.</p>
<h3 id="iteration-5-adding-loading-and-error-states">Iteration 5: Adding Loading and Error States</h3>
<p>Real applications need to handle loading and error states. Let's add them:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/components/UserDashboard.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">UserDashboard</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">activeTab</span><span class="p">,</span><span class="w"> </span><span class="nx">setActiveTab</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;profile&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userName</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userEmail</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserEmail</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;jane@example.com&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">notifications</span><span class="p">,</span><span class="w"> </span><span class="nx">setNotifications</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">([]);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">isLoadingNotifications</span><span class="p">,</span><span class="w"> </span><span class="nx">setIsLoadingNotifications</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">notificationError</span><span class="p">,</span><span class="w"> </span><span class="nx">setNotificationError</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">loadNotifications</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setIsLoadingNotifications</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="nx">setNotificationError</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Simulate API call</span>
<span class="w">    </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// Simulate random success/failure</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">setNotifications</span><span class="p">([</span>
<span class="w">          </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">1</span><span class="p">,</span><span class="w"> </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Welcome to your dashboard!&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">read</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="w"> </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">2</span><span class="p">,</span><span class="w"> </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Your profile is 80% complete&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">read</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="w"> </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">3</span><span class="p">,</span><span class="w"> </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;New message from support&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">read</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="w"> </span><span class="p">}</span>
<span class="w">        </span><span class="p">]);</span>
<span class="w">        </span><span class="nx">setIsLoadingNotifications</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">setNotificationError</span><span class="p">(</span><span class="s2">&quot;Failed to load notifications&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="nx">setIsLoadingNotifications</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mf">1500</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">markAsRead</span><span class="p">(</span><span class="nx">notificationId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setNotifications</span><span class="p">(</span><span class="nx">notifications</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">notif</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">      </span><span class="nx">notif</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">notificationId</span>
<span class="w">        </span><span class="o">?</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="nx">notif</span><span class="p">,</span><span class="w"> </span><span class="nx">read</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="w"> </span><span class="p">}</span>
<span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="nx">notif</span>
<span class="w">    </span><span class="p">));</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;dashboard&quot;</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">header</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;dashboard-header&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">User</span><span class="w"> </span><span class="nx">Dashboard</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;user-info&quot;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{</span><span class="nx">userName</span><span class="p">}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">{</span><span class="nx">notifications</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notification-badge&quot;</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">{</span><span class="nx">notifications</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">n</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="o">!</span><span class="nx">n</span><span class="p">.</span><span class="nx">read</span><span class="p">).</span><span class="nx">length</span><span class="p">}</span>
<span class="w">            </span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">)}</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>

<span class="w">      </span><span class="p">&lt;</span><span class="nt">nav</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;dashboard-tabs&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">button</span>
<span class="w">          </span><span class="na">className</span><span class="o">=</span><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;profile&quot;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">&quot;active&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">}</span>
<span class="w">          </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setActiveTab</span><span class="p">(</span><span class="s2">&quot;profile&quot;</span><span class="p">)}</span>
<span class="w">        </span><span class="p">&gt;</span>
<span class="w">          </span><span class="nx">Profile</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">button</span>
<span class="w">          </span><span class="na">className</span><span class="o">=</span><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;notifications&quot;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">&quot;active&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">}</span>
<span class="w">          </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setActiveTab</span><span class="p">(</span><span class="s2">&quot;notifications&quot;</span><span class="p">)}</span>
<span class="w">        </span><span class="p">&gt;</span>
<span class="w">          </span><span class="nx">Notifications</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>

<span class="w">      </span><span class="p">&lt;</span><span class="nt">main</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;dashboard-content&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;profile&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-tab&quot;</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">Profile</span><span class="w"> </span><span class="nx">Information</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-field&quot;</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">htmlFor</span><span class="o">=</span><span class="s">&quot;name&quot;</span><span class="p">&gt;</span><span class="nx">Name</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">                </span><span class="na">id</span><span class="o">=</span><span class="s">&quot;name&quot;</span>
<span class="w">                </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span>
<span class="w">                </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">userName</span><span class="p">}</span>
<span class="w">                </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">              </span><span class="p">/&gt;</span>
<span class="w">            </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-field&quot;</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">htmlFor</span><span class="o">=</span><span class="s">&quot;email&quot;</span><span class="p">&gt;</span><span class="nx">Email</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">                </span><span class="na">id</span><span class="o">=</span><span class="s">&quot;email&quot;</span>
<span class="w">                </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;email&quot;</span>
<span class="w">                </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">userEmail</span><span class="p">}</span>
<span class="w">                </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setUserEmail</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">              </span><span class="p">/&gt;</span>
<span class="w">            </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">)}</span>

<span class="w">        </span><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;notifications&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notifications-tab&quot;</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notifications-header&quot;</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">Notifications</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">loadNotifications</span><span class="p">}&gt;</span>
<span class="w">                </span><span class="nx">Load</span><span class="w"> </span><span class="nx">Notifications</span>
<span class="w">              </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="w">            </span><span class="p">{</span><span class="nx">isLoadingNotifications</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;loading-state&quot;</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">Loading</span><span class="w"> </span><span class="nx">notifications</span><span class="p">...&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">)}</span>

<span class="w">            </span><span class="p">{</span><span class="nx">notificationError</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;error-state&quot;</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="ne">Error</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">notificationError</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">loadNotifications</span><span class="p">}&gt;</span><span class="nx">Retry</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">)}</span>

<span class="w">            </span><span class="p">{</span><span class="o">!</span><span class="nx">isLoadingNotifications</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="nx">notificationError</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">notifications</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">p</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;empty-state&quot;</span><span class="p">&gt;</span>
<span class="w">                </span><span class="nx">No</span><span class="w"> </span><span class="nx">notifications</span><span class="p">.</span><span class="w"> </span><span class="nx">Click</span><span class="w"> </span><span class="s2">&quot;Load Notifications&quot;</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">fetch</span><span class="p">.</span>
<span class="w">              </span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">)}</span>

<span class="w">            </span><span class="p">{</span><span class="o">!</span><span class="nx">isLoadingNotifications</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="nx">notificationError</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">notifications</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">ul</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notifications-list&quot;</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">{</span><span class="nx">notifications</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">notif</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">                  </span><span class="p">&lt;</span><span class="nt">li</span>
<span class="w">                    </span><span class="na">key</span><span class="o">=</span><span class="p">{</span><span class="nx">notif</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span>
<span class="w">                    </span><span class="na">className</span><span class="o">=</span><span class="p">{</span><span class="nx">notif</span><span class="p">.</span><span class="nx">read</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">&quot;read&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;unread&quot;</span><span class="p">}</span>
<span class="w">                  </span><span class="p">&gt;</span>
<span class="w">                    </span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{</span><span class="nx">notif</span><span class="p">.</span><span class="nx">message</span><span class="p">}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="w">                    </span><span class="p">{</span><span class="o">!</span><span class="nx">notif</span><span class="p">.</span><span class="nx">read</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">                      </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">markAsRead</span><span class="p">(</span><span class="nx">notif</span><span class="p">.</span><span class="nx">id</span><span class="p">)}&gt;</span>
<span class="w">                        </span><span class="nx">Mark</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">Read</span>
<span class="w">                      </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">                    </span><span class="p">)}</span>
<span class="w">                  </span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">))}</span>
<span class="w">              </span><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">)}</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">)}</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">UserDashboard</span><span class="p">;</span>
</code></pre></div>

<p><strong>Browser Behavior</strong>:
- Click "Load Notifications"
- Shows "Loading notifications..." for 1.5 seconds
- 70% chance: Notifications appear
- 30% chance: Error message appears with "Retry" button</p>
<p><strong>Browser Console Output</strong> (no errors, but you could add logging):</p>
<div class="codehilite"><pre><span></span><code>(Silent success or failure)
</code></pre></div>

<h3 id="the-loading-error-success-pattern">The Loading-Error-Success Pattern</h3>
<p>This is a fundamental pattern in React applications:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">setData</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">isLoading</span><span class="p">,</span><span class="w"> </span><span class="nx">setIsLoading</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">error</span><span class="p">,</span><span class="w"> </span><span class="nx">setError</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="c1">// When starting an async operation:</span>
<span class="nx">setIsLoading</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="nx">setError</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="c1">// On success:</span>
<span class="nx">setData</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="nx">setIsLoading</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

<span class="c1">// On failure:</span>
<span class="nx">setError</span><span class="p">(</span><span class="nx">errorMessage</span><span class="p">);</span>
<span class="nx">setIsLoading</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

<span class="c1">// In render:</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isLoading</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">LoadingSpinner</span><span class="w"> </span><span class="p">/&gt;;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">ErrorMessage</span><span class="w"> </span><span class="na">error</span><span class="o">=</span><span class="p">{</span><span class="nx">error</span><span class="p">}</span><span class="w"> </span><span class="p">/&gt;;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">EmptyState</span><span class="w"> </span><span class="p">/&gt;;</span>
<span class="k">return</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">DataDisplay</span><span class="w"> </span><span class="na">data</span><span class="o">=</span><span class="p">{</span><span class="nx">data</span><span class="p">}</span><span class="w"> </span><span class="p">/&gt;;</span>
</code></pre></div>

<h3 id="when-to-apply-state-management-decision-framework">When to Apply: State Management Decision Framework</h3>
<p><strong>Use separate useState calls when</strong>:
- Each piece of state is independent
- State updates don't need to be synchronized
- You have fewer than ~5 related pieces of state</p>
<p><strong>Consider useReducer (Chapter 11) when</strong>:
- You have complex state logic with multiple sub-values
- State updates depend on previous state
- You have many related pieces of state (&gt;5)</p>
<p><strong>Consider lifting state up when</strong>:
- Multiple components need the same state
- Components need to coordinate their state</p>
<p><strong>Consider Context (Chapter 11) when</strong>:
- Many components at different nesting levels need the same state
- You're passing props through many layers (prop drilling)</p>
<p><strong>Consider external state management (Chapter 12-13) when</strong>:
- State needs to persist across page navigation
- Multiple unrelated components need to share state
- You need advanced features like time-travel debugging</p>
<h2 id="common-failure-modes-and-their-signatures_1">Common Failure Modes and Their Signatures</h2>
<h2 id="common-failure-modes-and-their-signatures_2">Common Failure Modes and Their Signatures</h2>
<h3 id="symptom-state-update-doesnt-trigger-re-render">Symptom: State update doesn't trigger re-render</h3>
<p><strong>Browser behavior</strong>:
You call a state setter, but the component doesn't re-render. The UI stays frozen.</p>
<p><strong>Console pattern</strong>:</p>
<div class="codehilite"><pre><span></span><code>(No errors - state setter was called)
</code></pre></div>

<p><strong>DevTools clues</strong>:
- React DevTools shows state didn't change
- Render count doesn't increase</p>
<p><strong>Root cause</strong>: You're mutating state instead of creating a new value.</p>
<p><strong>Solution</strong>: Always create new arrays/objects:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// ‚ùå Wrong: Mutation</span>
<span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">items</span><span class="p">,</span><span class="w"> </span><span class="nx">setItems</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">]);</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">addItem</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">items</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mf">4</span><span class="p">);</span><span class="w"> </span><span class="c1">// Mutates array</span>
<span class="w">  </span><span class="nx">setItems</span><span class="p">(</span><span class="nx">items</span><span class="p">);</span><span class="w"> </span><span class="c1">// Same reference</span>
<span class="p">}</span>

<span class="c1">// ‚úÖ Correct: New array</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">addItem</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">setItems</span><span class="p">([...</span><span class="nx">items</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="p">]);</span><span class="w"> </span><span class="c1">// New array</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="symptom-stale-state-in-event-handlers">Symptom: Stale state in event handlers</h3>
<p><strong>Browser behavior</strong>:
Event handler uses old state value, even after state was updated.</p>
<p><strong>Console pattern</strong>:</p>
<div class="codehilite"><pre><span></span><code>State updated to: 5
Event handler sees: 0
</code></pre></div>

<p><strong>Root cause</strong>: Closure captured old state value.</p>
<p><strong>Solution</strong>: Use functional state updates:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// ‚ùå Wrong: Stale closure</span>
<span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">count</span><span class="p">,</span><span class="w"> </span><span class="nx">setCount</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">handleClick</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setCount</span><span class="p">(</span><span class="nx">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span><span class="w"> </span><span class="c1">// Uses stale count</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// ‚úÖ Correct: Functional update</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">handleClick</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setCount</span><span class="p">(</span><span class="nx">prevCount</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">prevCount</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span><span class="w"> </span><span class="c1">// Always uses latest</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="symptom-too-many-re-renders">Symptom: Too many re-renders</h3>
<p><strong>Browser behavior</strong>:
Browser freezes or becomes very slow. React error overlay appears.</p>
<p><strong>Console pattern</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">Too</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">re</span><span class="o">-</span><span class="n">renders</span><span class="o">.</span><span class="w"> </span><span class="n">React</span><span class="w"> </span><span class="n">limits</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">renders</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">infinite</span><span class="w"> </span><span class="n">loop</span><span class="o">.</span>
</code></pre></div>

<p><strong>DevTools clues</strong>:
- Profiler shows hundreds of renders per second
- Component render count increases rapidly</p>
<p><strong>Root cause</strong>: State update in render body causes infinite loop.</p>
<p><strong>Solution</strong>: Move state updates to event handlers or useEffect:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// ‚ùå Wrong: State update during render</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">Component</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">count</span><span class="p">,</span><span class="w"> </span><span class="nx">setCount</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="w">  </span><span class="nx">setCount</span><span class="p">(</span><span class="nx">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span><span class="w"> </span><span class="c1">// Infinite loop!</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;{</span><span class="nx">count</span><span class="p">}&lt;/</span><span class="nt">div</span><span class="p">&gt;;</span>
<span class="p">}</span>

<span class="c1">// ‚úÖ Correct: State update in event handler</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">Component</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">count</span><span class="p">,</span><span class="w"> </span><span class="nx">setCount</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="nx">count</span><span class="p">}</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setCount</span><span class="p">(</span><span class="nx">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)}&gt;</span>
<span class="w">        </span><span class="nx">Increment</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="symptom-form-input-not-updating">Symptom: Form input not updating</h3>
<p><strong>Browser behavior</strong>:
You type in an input, but nothing appears.</p>
<p><strong>Console pattern</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Warning</span><span class="o">:</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n n-Quoted">`value`</span><span class="w"> </span><span class="n">prop</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k">without</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n n-Quoted">`onChange`</span><span class="w"> </span><span class="k">handler</span><span class="p">.</span>
</code></pre></div>

<p><strong>Root cause</strong>: Controlled input without onChange handler.</p>
<p><strong>Solution</strong>: Add onChange handler:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// ‚ùå Wrong: No onChange</span>
<span class="p">&lt;</span><span class="nt">input</span><span class="w"> </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span><span class="w"> </span><span class="p">/&gt;</span>

<span class="c1">// ‚úÖ Correct: With onChange</span>
<span class="p">&lt;</span><span class="nt">input</span>
<span class="w">  </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span>
<span class="w">  </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setName</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="p">/&gt;</span>
</code></pre></div>

<h3 id="symptom-state-resets-unexpectedly">Symptom: State resets unexpectedly</h3>
<p><strong>Browser behavior</strong>:
State resets to initial value when you don't expect it.</p>
<p><strong>Root cause</strong>: Component is unmounting and remounting (key changed, or conditional rendering).</p>
<p><strong>Solution</strong>: Lift state up to a parent that doesn't unmount, or use a state management library.</p>
<h2 id="the-journey-from-static-to-interactive">The Journey: From Static to Interactive</h2>
<h2 id="the-journey-from-static-to-interactive_1">The Journey: From Static to Interactive</h2>
<h3 id="the-complete-evolution">The Complete Evolution</h3>
<table>
<thead>
<tr>
<th>Iteration</th>
<th>Problem</th>
<th>Technique Applied</th>
<th>Result</th>
<th>Key Insight</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Static UI with hardcoded values</td>
<td>None</td>
<td>No interactivity</td>
<td>Variables don't trigger re-renders</td>
</tr>
<tr>
<td>1</td>
<td>Need to update UI when data changes</td>
<td><code>useState</code></td>
<td>UI updates on button click</td>
<td>State + setter = re-render</td>
</tr>
<tr>
<td>2</td>
<td>Need user input</td>
<td>Event handlers + controlled inputs</td>
<td>Real-time input updates</td>
<td><code>value</code> + <code>onChange</code> = controlled</td>
</tr>
<tr>
<td>3</td>
<td>Multiple form fields</td>
<td>Multiple <code>useState</code> calls</td>
<td>Complete editable form</td>
<td>Each state is independent</td>
</tr>
<tr>
<td>4</td>
<td>Complex UI with tabs</td>
<td>State for UI control</td>
<td>Multi-view dashboard</td>
<td>State controls what renders</td>
</tr>
<tr>
<td>5</td>
<td>Async operations</td>
<td>Loading/error state pattern</td>
<td>Robust data fetching</td>
<td>Three states: loading, error, success</td>
</tr>
</tbody>
</table>
<h3 id="final-implementation-production-ready-dashboard">Final Implementation: Production-Ready Dashboard</h3>
<p>Here's our complete, production-ready dashboard incorporating all the patterns we've learned:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// src/components/UserDashboard.tsx</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">Notification</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">  </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">read</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">  </span><span class="nx">timestamp</span><span class="o">:</span><span class="w"> </span><span class="kt">Date</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">UserDashboard</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// UI state</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">activeTab</span><span class="p">,</span><span class="w"> </span><span class="nx">setActiveTab</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="o">&lt;</span><span class="s2">&quot;profile&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;notifications&quot;</span><span class="o">&gt;</span><span class="p">(</span><span class="s2">&quot;profile&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Profile state</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userName</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userEmail</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserEmail</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;jane@example.com&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">userBio</span><span class="p">,</span><span class="w"> </span><span class="nx">setUserBio</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s2">&quot;Software developer&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Notifications state</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">notifications</span><span class="p">,</span><span class="w"> </span><span class="nx">setNotifications</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">&lt;</span><span class="nt">Notification</span><span class="err">[]</span><span class="p">&gt;([]);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">isLoadingNotifications</span><span class="p">,</span><span class="w"> </span><span class="nx">setIsLoadingNotifications</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">notificationError</span><span class="p">,</span><span class="w"> </span><span class="nx">setNotificationError</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">&lt;</span><span class="nt">string</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="na">null</span><span class="p">&gt;(</span><span class="kc">null</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Derived state</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">unreadCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">notifications</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">n</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="o">!</span><span class="nx">n</span><span class="p">.</span><span class="nx">read</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">hasNotifications</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">notifications</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// Profile handlers</span>
<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleProfileSubmit</span><span class="p">(</span><span class="nx">event</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FormEvent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Profile saved:&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">userName</span><span class="p">,</span><span class="w"> </span><span class="nx">userEmail</span><span class="p">,</span><span class="w"> </span><span class="nx">userBio</span><span class="w"> </span><span class="p">});</span>
<span class="w">    </span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Profile saved successfully!&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleProfileReset</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setUserName</span><span class="p">(</span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">setUserEmail</span><span class="p">(</span><span class="s2">&quot;jane@example.com&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">setUserBio</span><span class="p">(</span><span class="s2">&quot;Software developer&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// Notification handlers</span>
<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">loadNotifications</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setIsLoadingNotifications</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="nx">setNotificationError</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Simulate API call</span>
<span class="w">    </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">setNotifications</span><span class="p">([</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">1</span><span class="p">,</span>
<span class="w">            </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Welcome to your dashboard!&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">read</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>
<span class="w">            </span><span class="nx">timestamp</span><span class="o">:</span><span class="w"> </span><span class="kt">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">()</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">2</span><span class="p">,</span>
<span class="w">            </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Your profile is 80% complete&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">read</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>
<span class="w">            </span><span class="nx">timestamp</span><span class="o">:</span><span class="w"> </span><span class="kt">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">3600000</span><span class="p">)</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">3</span><span class="p">,</span>
<span class="w">            </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;New message from support&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">read</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
<span class="w">            </span><span class="nx">timestamp</span><span class="o">:</span><span class="w"> </span><span class="kt">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">7200000</span><span class="p">)</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">]);</span>
<span class="w">        </span><span class="nx">setIsLoadingNotifications</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">setNotificationError</span><span class="p">(</span><span class="s2">&quot;Failed to load notifications. Please try again.&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="nx">setIsLoadingNotifications</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mf">1500</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">markAsRead</span><span class="p">(</span><span class="nx">notificationId</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setNotifications</span><span class="p">(</span><span class="nx">notifications</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">notif</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">      </span><span class="nx">notif</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">notificationId</span>
<span class="w">        </span><span class="o">?</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="nx">notif</span><span class="p">,</span><span class="w"> </span><span class="nx">read</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="w"> </span><span class="p">}</span>
<span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="nx">notif</span>
<span class="w">    </span><span class="p">));</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">markAllAsRead</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setNotifications</span><span class="p">(</span><span class="nx">notifications</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">notif</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="p">...</span><span class="nx">notif</span><span class="p">,</span><span class="w"> </span><span class="nx">read</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="w"> </span><span class="p">})));</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">clearAllNotifications</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">confirm</span><span class="p">(</span><span class="s2">&quot;Clear all notifications?&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">setNotifications</span><span class="p">([]);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;dashboard&quot;</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;</span><span class="nt">header</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;dashboard-header&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">User</span><span class="w"> </span><span class="nx">Dashboard</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;user-info&quot;</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;user-name&quot;</span><span class="p">&gt;{</span><span class="nx">userName</span><span class="p">}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">{</span><span class="nx">unreadCount</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notification-badge&quot;</span><span class="w"> </span><span class="na">title</span><span class="o">=</span><span class="p">{</span><span class="sb">`</span><span class="si">${</span><span class="nx">unreadCount</span><span class="si">}</span><span class="sb"> unread`</span><span class="p">}&gt;</span>
<span class="w">              </span><span class="p">{</span><span class="nx">unreadCount</span><span class="p">}</span>
<span class="w">            </span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">)}</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>

<span class="w">      </span><span class="p">&lt;</span><span class="nt">nav</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;dashboard-tabs&quot;</span><span class="w"> </span><span class="na">role</span><span class="o">=</span><span class="s">&quot;tablist&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">button</span>
<span class="w">          </span><span class="na">role</span><span class="o">=</span><span class="s">&quot;tab&quot;</span>
<span class="w">          </span><span class="na">aria-selected</span><span class="o">=</span><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;profile&quot;</span><span class="p">}</span>
<span class="w">          </span><span class="na">className</span><span class="o">=</span><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;profile&quot;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">&quot;active&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">}</span>
<span class="w">          </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setActiveTab</span><span class="p">(</span><span class="s2">&quot;profile&quot;</span><span class="p">)}</span>
<span class="w">        </span><span class="p">&gt;</span>
<span class="w">          </span><span class="nx">Profile</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">&lt;</span><span class="nt">button</span>
<span class="w">          </span><span class="na">role</span><span class="o">=</span><span class="s">&quot;tab&quot;</span>
<span class="w">          </span><span class="na">aria-selected</span><span class="o">=</span><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;notifications&quot;</span><span class="p">}</span>
<span class="w">          </span><span class="na">className</span><span class="o">=</span><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;notifications&quot;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">&quot;active&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">}</span>
<span class="w">          </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setActiveTab</span><span class="p">(</span><span class="s2">&quot;notifications&quot;</span><span class="p">)}</span>
<span class="w">        </span><span class="p">&gt;</span>
<span class="w">          </span><span class="nx">Notifications</span>
<span class="w">          </span><span class="p">{</span><span class="nx">unreadCount</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;tab-badge&quot;</span><span class="p">&gt;{</span><span class="nx">unreadCount</span><span class="p">}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">)}</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>

<span class="w">      </span><span class="p">&lt;</span><span class="nt">main</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;dashboard-content&quot;</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;profile&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;profile-tab&quot;</span><span class="w"> </span><span class="na">role</span><span class="o">=</span><span class="s">&quot;tabpanel&quot;</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">Profile</span><span class="w"> </span><span class="nx">Information</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">form</span><span class="w"> </span><span class="na">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="nx">handleProfileSubmit</span><span class="p">}&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-field&quot;</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">htmlFor</span><span class="o">=</span><span class="s">&quot;name&quot;</span><span class="p">&gt;</span><span class="nx">Name</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">                  </span><span class="na">id</span><span class="o">=</span><span class="s">&quot;name&quot;</span>
<span class="w">                  </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span>
<span class="w">                  </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">userName</span><span class="p">}</span>
<span class="w">                  </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setUserName</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">                  </span><span class="na">required</span>
<span class="w">                </span><span class="p">/&gt;</span>
<span class="w">              </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="w">              </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-field&quot;</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">htmlFor</span><span class="o">=</span><span class="s">&quot;email&quot;</span><span class="p">&gt;</span><span class="nx">Email</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">input</span>
<span class="w">                  </span><span class="na">id</span><span class="o">=</span><span class="s">&quot;email&quot;</span>
<span class="w">                  </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;email&quot;</span>
<span class="w">                  </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">userEmail</span><span class="p">}</span>
<span class="w">                  </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setUserEmail</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">                  </span><span class="na">required</span>
<span class="w">                </span><span class="p">/&gt;</span>
<span class="w">              </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="w">              </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-field&quot;</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">htmlFor</span><span class="o">=</span><span class="s">&quot;bio&quot;</span><span class="p">&gt;</span><span class="nx">Bio</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">textarea</span>
<span class="w">                  </span><span class="na">id</span><span class="o">=</span><span class="s">&quot;bio&quot;</span>
<span class="w">                  </span><span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">userBio</span><span class="p">}</span>
<span class="w">                  </span><span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setUserBio</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">                  </span><span class="na">rows</span><span class="o">=</span><span class="p">{</span><span class="mf">4</span><span class="p">}</span>
<span class="w">                  </span><span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Tell us about yourself...&quot;</span>
<span class="w">                </span><span class="p">/&gt;</span>
<span class="w">              </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="w">              </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-actions&quot;</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span><span class="nx">Save</span><span class="w"> </span><span class="nx">Profile</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleProfileReset</span><span class="p">}&gt;</span>
<span class="w">                  </span><span class="nx">Reset</span>
<span class="w">                </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">)}</span>

<span class="w">        </span><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;notifications&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notifications-tab&quot;</span><span class="w"> </span><span class="na">role</span><span class="o">=</span><span class="s">&quot;tabpanel&quot;</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notifications-header&quot;</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">Notifications</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notifications-actions&quot;</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">{</span><span class="o">!</span><span class="nx">hasNotifications</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="nx">isLoadingNotifications</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">                  </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">loadNotifications</span><span class="p">}&gt;</span>
<span class="w">                    </span><span class="nx">Load</span><span class="w"> </span><span class="nx">Notifications</span>
<span class="w">                  </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">)}</span>
<span class="w">                </span><span class="p">{</span><span class="nx">hasNotifications</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">unreadCount</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">                  </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">markAllAsRead</span><span class="p">}&gt;</span>
<span class="w">                    </span><span class="nx">Mark</span><span class="w"> </span><span class="nx">All</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">Read</span>
<span class="w">                  </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">)}</span>
<span class="w">                </span><span class="p">{</span><span class="nx">hasNotifications</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">                  </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">clearAllNotifications</span><span class="p">}&gt;</span>
<span class="w">                    </span><span class="nx">Clear</span><span class="w"> </span><span class="nx">All</span>
<span class="w">                  </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">)}</span>
<span class="w">              </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="w">            </span><span class="p">{</span><span class="nx">isLoadingNotifications</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;loading-state&quot;</span><span class="w"> </span><span class="na">role</span><span class="o">=</span><span class="s">&quot;status&quot;</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;spinner&quot;</span><span class="w"> </span><span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;Loading&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">Loading</span><span class="w"> </span><span class="nx">notifications</span><span class="p">...&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">)}</span>

<span class="w">            </span><span class="p">{</span><span class="nx">notificationError</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;error-state&quot;</span><span class="w"> </span><span class="na">role</span><span class="o">=</span><span class="s">&quot;alert&quot;</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">p</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;error-message&quot;</span><span class="p">&gt;{</span><span class="nx">notificationError</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">button</span><span class="w"> </span><span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">loadNotifications</span><span class="p">}&gt;</span><span class="nx">Retry</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">)}</span>

<span class="w">            </span><span class="p">{</span><span class="o">!</span><span class="nx">isLoadingNotifications</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="nx">notificationError</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="nx">hasNotifications</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;empty-state&quot;</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">No</span><span class="w"> </span><span class="nx">notifications</span><span class="w"> </span><span class="nx">yet</span><span class="p">.&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">&lt;</span><span class="nt">p</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;empty-state-hint&quot;</span><span class="p">&gt;</span>
<span class="w">                  </span><span class="nx">Click</span><span class="w"> </span><span class="s2">&quot;Load Notifications&quot;</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">fetch</span><span class="w"> </span><span class="nx">your</span><span class="w"> </span><span class="nx">notifications</span><span class="p">.</span>
<span class="w">                </span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">              </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">)}</span>

<span class="w">            </span><span class="p">{</span><span class="o">!</span><span class="nx">isLoadingNotifications</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="nx">notificationError</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">hasNotifications</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">              </span><span class="p">&lt;</span><span class="nt">ul</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notifications-list&quot;</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">{</span><span class="nx">notifications</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">notif</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">                  </span><span class="p">&lt;</span><span class="nt">li</span>
<span class="w">                    </span><span class="na">key</span><span class="o">=</span><span class="p">{</span><span class="nx">notif</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span>
<span class="w">                    </span><span class="na">className</span><span class="o">=</span><span class="p">{</span><span class="sb">`notification-item </span><span class="si">${</span><span class="nx">notif</span><span class="p">.</span><span class="nx">read</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">&quot;read&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;unread&quot;</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
<span class="w">                  </span><span class="p">&gt;</span>
<span class="w">                    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notification-content&quot;</span><span class="p">&gt;</span>
<span class="w">                      </span><span class="p">&lt;</span><span class="nt">p</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notification-message&quot;</span><span class="p">&gt;{</span><span class="nx">notif</span><span class="p">.</span><span class="nx">message</span><span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="w">                      </span><span class="p">&lt;</span><span class="nt">time</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;notification-time&quot;</span><span class="p">&gt;</span>
<span class="w">                        </span><span class="p">{</span><span class="nx">notif</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">.</span><span class="nx">toLocaleTimeString</span><span class="p">()}</span>
<span class="w">                      </span><span class="p">&lt;/</span><span class="nt">time</span><span class="p">&gt;</span>
<span class="w">                    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">                    </span><span class="p">{</span><span class="o">!</span><span class="nx">notif</span><span class="p">.</span><span class="nx">read</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">                      </span><span class="p">&lt;</span><span class="nt">button</span>
<span class="w">                        </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;mark-read-btn&quot;</span>
<span class="w">                        </span><span class="na">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">markAsRead</span><span class="p">(</span><span class="nx">notif</span><span class="p">.</span><span class="nx">id</span><span class="p">)}</span>
<span class="w">                        </span><span class="na">aria-label</span><span class="o">=</span><span class="p">{</span><span class="sb">`Mark &quot;</span><span class="si">${</span><span class="nx">notif</span><span class="p">.</span><span class="nx">message</span><span class="si">}</span><span class="sb">&quot; as read`</span><span class="p">}</span>
<span class="w">                      </span><span class="p">&gt;</span>
<span class="w">                        </span><span class="nx">Mark</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">Read</span>
<span class="w">                      </span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="w">                    </span><span class="p">)}</span>
<span class="w">                  </span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="w">                </span><span class="p">))}</span>
<span class="w">              </span><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<span class="w">            </span><span class="p">)}</span>
<span class="w">          </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">        </span><span class="p">)}</span>
<span class="w">      </span><span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">UserDashboard</span><span class="p">;</span>
</code></pre></div>

<h3 id="decision-framework-state-management-patterns">Decision Framework: State Management Patterns</h3>
<p><strong>When to use multiple useState calls</strong>:
- ‚úÖ Each piece of state is independent
- ‚úÖ State updates don't need coordination
- ‚úÖ You have fewer than 5-7 related pieces of state
- ‚úÖ State logic is simple (direct updates)</p>
<p><strong>When to consider useReducer</strong> (Chapter 11):
- ‚ùå State updates are complex (multiple related changes)
- ‚ùå Next state depends on previous state in complex ways
- ‚ùå You have many related pieces of state (&gt;7)
- ‚ùå State transitions follow predictable patterns</p>
<p><strong>When to lift state up</strong>:
- ‚ùå Multiple sibling components need the same state
- ‚ùå Parent needs to coordinate child components
- ‚ùå State needs to persist when child unmounts</p>
<p><strong>When to use derived state</strong>:
- ‚úÖ Value can be calculated from existing state
- ‚úÖ Calculation is fast (not expensive)
- ‚úÖ Value always stays in sync with source state</p>
<p><strong>When to store in separate state</strong>:
- ‚ùå Value cannot be derived from existing state
- ‚ùå Value comes from user input or external source
- ‚ùå Value needs to persist independently</p>
<h3 id="lessons-learned">Lessons Learned</h3>
<p><strong>1. State is React's memory</strong>
Regular variables reset on every render. State persists between renders and triggers re-renders when updated.</p>
<p><strong>2. Controlled components give you control</strong>
By making React the single source of truth for input values, you can validate, transform, and synchronize data easily.</p>
<p><strong>3. State updates are asynchronous</strong>
Don't rely on state values immediately after calling the setter. Use the next render or functional updates.</p>
<p><strong>4. Never mutate state</strong>
Always create new arrays/objects. React compares references to detect changes.</p>
<p><strong>5. Derive when possible</strong>
Don't store what you can calculate. Derived state can't get out of sync.</p>
<p><strong>6. Loading-error-success is fundamental</strong>
Almost every async operation needs these three states. Make it a habit.</p>
<p><strong>7. Event handlers are your interface</strong>
User interactions flow through event handlers. They're where you read user input and update state.</p>
<p><strong>8. State placement matters</strong>
Keep state as local as possible. Only lift it up when multiple components need it.</p>
<h3 id="whats-next">What's Next</h3>
<p>We've built interactive UIs with local state, but we haven't dealt with side effects‚Äîoperations that reach outside the component like data fetching, subscriptions, or DOM manipulation. In Chapter 4, we'll learn about <code>useEffect</code>, React's mechanism for handling side effects safely.</p>
<p>Our dashboard currently simulates API calls with <code>setTimeout</code>. In the next chapter, we'll replace that with real data fetching, and we'll discover why doing it wrong causes infinite loops, memory leaks, and race conditions‚Äîand how to do it right.</p>
        </div>
        <div class="footer">
            Generated on 2025-12-03 12:42:27 | Made with ‚ù§Ô∏è by GitHub Pages Generator
        </div>
    </div>
    <script>
        // Syntax highlighting for code blocks
        document.addEventListener('DOMContentLoaded', (event) => {
            // Highlight code blocks
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightElement(block);
            });
            
            // Add copy buttons to code blocks
            document.querySelectorAll('pre').forEach((pre) => {
                const button = document.createElement('button');
                button.className = 'copy-btn';
                button.textContent = 'Copy';
                
                button.addEventListener('click', () => {
                    const code = pre.querySelector('code').textContent;
                    navigator.clipboard.writeText(code).then(() => {
                        button.textContent = 'Copied!';
                        button.classList.add('copied');
                        setTimeout(() => {
                            button.textContent = 'Copy';
                            button.classList.remove('copied');
                        }, 2000);
                    }).catch(err => {
                        console.error('Failed to copy:', err);
                        button.textContent = 'Error';
                        setTimeout(() => {
                            button.textContent = 'Copy';
                        }, 2000);
                    });
                });
                
                pre.appendChild(button);
            });
        });
    </script>
</body>
</html>